<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>











<head>
<title>Planet SymPy</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="generator" content="http://intertwingly.net/code/venus/">
<link rel="stylesheet" href="planet.css" type="text/css">
<link rel="alternate" href="http://planet.sympy.org/atom.xml" title="" type="application/atom+xml">
</head>

<body>
<h1>Planet SymPy</h1>

<div class="daygroup">
<h2>May 21, 2011</h2>

<div class="channelgroup">







<h3><a href="http://gilbertgede.wordpress.com" title="gilbertgede">Gilbert Gede</a></h3>


<div class="entrygroup" id="http://gilbertgede.wordpress.com/?p=25">
<h4 lang="en"><a href="http://gilbertgede.wordpress.com/2011/05/21/pydy-and-other-things/">PyDy and other things</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>This weekend is Maker Faire, so the lab is going there.  One thing I’ll have is some info on some MEMS sensors from a class project last quarter.  We collected info on the Analog Devices ADXL 345 and Invensense ITG-3200 (tried to use a Honeywell HMC5843, but we couldn’t read it over I2C).  Anyways, I got permission from my group members to post our report online, so here it is.</p>
<p>Report: <a href="http://gilbertgede.files.wordpress.com/2011/05/mae276_finalpaper_6dof.pdf">MAE276 Final Paper</a></p>
<p>For PyDy/SymPy &amp; GSoC there is also some news.  It looks like the previous separation between UnitVector and Vector classes is going away; in addition they will no longer extend SymPy’s Basic or Expr classes.  There will now be only one Vector class.</p>
<p>It will store a list of lists; the inner list will have the 3 vector measure numbers for a frame (something like [([1],[2],[4]),’b'] ), where the measure numbers will use the SymPy Matrix class (and can have symbols in them).  The outer list will hold each of these lists for each frame.  So the data stored will be something like [[([1],[2],[4]),’b'],[([3*x],[1],[0]),’c']]… or something like that.  The current plan is to write our own operators for addition, subtraction, scalar multiplication &amp; division, and dot and cross products.  By not using the SymPy classes, we can better control how the Vector class will behave.  One important behavior is to have every operator (except for dot product) take in and return a vector, and not have any confusion between SymPy objects and Vectors when using operators.</p>
<p>There is also some debate as to whether the ReferenceFrame class should store its own basis vectors, or they should be returned upon initialization (see the sympy list post: Question regarding vectors.  I understand the argument to keep them with their frame and the awkwardness that will exist when creating the basis vectors upon ReferenceFrame initialization.  But, I feel that the Vector class already stores information about each frame (in its inner lists), and question whether basis vectors are a property of ReferenceFrames, or a frame is a property of a set of basis vectors.</p>
<p>I guess the orthonormal properties of a set of 3 basis vectors exist independently of a particular reference frame.  I guess what defines a frame?  I think of it as a rotation (and related time derivatives) from on set of basis vectors to another.  So it is defined by both its basis vectors and a rotation.  I still feel like its is preferable to keep the basis vectors outside of the ReferenceFrame class, but not sure my position has a strong enough argument (but I also don’t think it is too weak of an argument).  Hopefully starting to discuss more of the ReferenceFrame class methods will clear this up.</p>
<br />  <a href="http://feeds.wordpress.com/1.0/gocomments/gilbertgede.wordpress.com/25/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/gilbertgede.wordpress.com/25/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godelicious/gilbertgede.wordpress.com/25/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/delicious/gilbertgede.wordpress.com/25/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gofacebook/gilbertgede.wordpress.com/25/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/facebook/gilbertgede.wordpress.com/25/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gotwitter/gilbertgede.wordpress.com/25/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/twitter/gilbertgede.wordpress.com/25/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gostumble/gilbertgede.wordpress.com/25/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/stumble/gilbertgede.wordpress.com/25/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godigg/gilbertgede.wordpress.com/25/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/digg/gilbertgede.wordpress.com/25/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/goreddit/gilbertgede.wordpress.com/25/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/reddit/gilbertgede.wordpress.com/25/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=gilbertgede.wordpress.com&amp;blog=22677911&amp;post=25&amp;subd=gilbertgede&amp;ref=&amp;feed=1" alt="" height="1" border="0" width="1" /></div>







<p class="date">
<a href="http://gilbertgede.wordpress.com/2011/05/21/pydy-and-other-things/">by gilbertgede at May 21, 2011 06:17 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>May 11, 2011</h2>

<div class="channelgroup">







<h3><a href="http://dlpeterson.com/blog" title="Dale Peterson">Dale Peterson</a></h3>


<div class="entrygroup" id="http://dlpeterson.com/blog/?p=162">
<h4 lang="en"><a href="http://dlpeterson.com/blog/?p=162">MathJax test</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>I’ve been using \(\LaTeX\) for about 7 years now, and have always been impressed with its ability to make math and text look amazing.  Obviously, a serious shortfall of the web has been to be able to incorporate math directly into web pages.  There have been lots of approaches, but most of them have been ugly hacks that just can’t replace \(\LaTeX\).  Until now.  MathJax looks amazing!  Here is a quick example:<br />
\[<br />
\begin{aligned}<br />
P_\nu^{-\mu}(z)&amp;=\frac{\left(z^2-1\right)^{\frac{\mu}{2}}}{2^\mu \sqrt{\pi}\Gamma\left(\mu+\frac{1}{2}\right)}\int_{-1}^1\frac{\left(1-t^2\right)^{\mu -\frac{1}{2}}}{\left(z+t\sqrt{z^2-1}\right)^{\mu-\nu}}dt\\<br />
&amp;=42\\<br />
&amp;=\boldsymbol{b}_1<br />
\end{aligned}<br />
\]</p>
<p>Notice that you can click on the math, view the source that created it, and copy and paste it!!!</p>
<p>This is really going to help science make better use of the web.</p></div>







<p class="date">
<a href="http://dlpeterson.com/blog/?p=162">by luke at May 11, 2011 11:32 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>May 10, 2011</h2>

<div class="channelgroup">







<h3><a href="http://vperic.blogspot.com/search/label/SymPy" title="Vlada's Blog">Vladimir Peric</a></h3>


<div class="entrygroup" id="tag:blogger.com,1999:blog-8814696591561172392.post-6902557110114410157">
<h4><a href="http://vperic.blogspot.com/2011/05/setuppy-gsocblog.html">./setup.py GSoC/blog</a></h4>
<div class="entry">
<div class="content">
<div style="text-align: left;" dir="ltr">[title shamelessly stolen from my mentor, Ronan Lamy]<br /><br />As hinted to by the title, I've been accepted for the <a href="http://www.google-melange.com/gsoc/homepage/google/gsoc2011">Google Summer of Code 2011</a>. My work will be on <a href="http://sympy.org/">SymPy</a>, which is a Python library for symbolic mathematics (think Maple or Mathematica), and my goal is to convert it to Python 3. Namely, I will try to support all Python versions starting from 2.5, and this should be accomplished with the use of a single code-base (and automatic running of the 2to3 tool in the Python 3 use case). You can read my full application <a href="https://github.com/sympy/sympy/wiki/GSoC-2011-Application%3A-Vladimir-Peri%C4%87%3A-Porting-to-Python-3">here</a>.<br /><br />As this is a complex issue, the first order of business would be to establish an automated testing system that would be able to spot any regressions (currently, SymPy supports Python 2.4 - 2.7, and there are already various small bugs and differences in behavior based on Python version); the current contenders are <a href="http://jenkins-ci.org/">Jenkins</a> (via <a href="http://codespeak.net/tox/example/hudson.html">Tox</a>) and <a href="http://trac.buildbot.net/">Buildbot</a>. I will write-up a more detailed comparison, as related to the specific use-case of SymPy, when I've tried both. Of course, any comments, suggestions or new ideas are very welcome.<br /><br />My second major goal for the community bonding period (ending on the 23rd) is to work on the warnings running with "Python -3" produces. This is an important first step to Python 3 porting, as it will solve some real issues and help me understand the code better. If possible, I will also try to improve code coverage of the test suite (or, alternatively, bother the developers responsible for that piece of code), which is also important for preventing subtle bugs from appearing.<br /><br />Here's to running SymPy on Python 3 (<i>and</i> PyPy!) by the end of the summer!</div><div class="blogger-post-footer"><img src="https://blogger.googleusercontent.com/tracker/8814696591561172392-6902557110114410157?l=vperic.blogspot.com" alt="" height="1" width="1" /></div></div>







<p class="date">
<a href="http://vperic.blogspot.com/2011/05/setuppy-gsocblog.html">by Vladimir Perić (noreply@blogger.com) at May 10, 2011 09:02 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>May 09, 2011</h2>

<div class="channelgroup">







<h3><a href="http://nessgrh.wordpress.com" title="nessgrh">Tom Bachmann</a></h3>


<div class="entrygroup" id="http://nessgrh.wordpress.com/?p=147">
<h4 lang="en"><a href="http://nessgrh.wordpress.com/2011/05/09/implementation-details-and-code-structure/">Implementation details and code structure</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>I think the code should be organised as follows:</p>
<ul>
<li>
<pre>sympy/functions/special/bessel.py</pre>
<p>To this file I will add classes representing the Bessel type function families. (The file aready implements spherical integral order bessel functions, which are expressed directly using trigonometric functions.)</p></li>
<li>
<pre>sympy/functions/special/hyper.py</pre>
<p>This new file will contain classes for the Hypergeometric and Meijer G function families. The method _eval_expand_func() will call hyperexpand() (see below) to (try to) write a Hypergeometric or Meijer G function in terms of named special functions. Hypergeometric and Meijer G functions will <em>not</em> expand themselves automatically. The class for Meijer G functions probably also deserves a few helper methods to aid implementation of the integration algorithm (e.g. a method to absorb <img src="http://s0.wp.com/latex.php?latex=z%5E%5Crho&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="z^\rho" class="latex" title="z^\rho" /> factors). I will implement these as need arises. The Hypergeometric function class will also implement some special values (i.e. <img src="http://s0.wp.com/latex.php?latex=F%281%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="F(1)" class="latex" title="F(1)" />, <img src="http://s0.wp.com/latex.php?latex=F%28-1%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="F(-1)" class="latex" title="F(-1)" /> etc for sets of parameters where closed formulae exist). Only the simplest cases will be treated here, since there is vast literature on such “Hypergeometric identities”. If need ever arises, Zeilberger’s algorithm can be used to find many new identities.</p></li>
<li>
<pre>sympy/simplify/hyperexpand.py</pre>
<p>This new file will contain right at the top a “knowledge base” of Hypergeometric (and eventually Meijer G) function identities. This should be in particularly readable form, so that new identities can be added easily. The rest of the file will process this knowledgebase to create the data structures necessary for the function expansion algorithm (at module load time), and actually implement the hyperexpand() function that does the rewriting of Hypergeometric and Meijer G functions in terms of known special functions.</p></li>
<li>
<pre>sympy/integrals/meijer.py</pre>
<p>This new file will implement a function meijerint() that tries to do definite integration using the Meijer G function transform. An important part of this is the re-writing of essentially arbitrary functions in terms of Meijer G functions. I think this should be in this file, since it essentially amounts to computing Mellin transforms, i.e. is tightly coupled to integration. The rewrite code will re-use the knowledge base from hyperexpand.py.</p></li>
<li>
<pre>sympy/integrals/integrals.py</pre>
<p>The function integrate() will be changed to call meijerint() for definite integrals, if everything else failed.</p></li>
</ul>
<p>I will also implement randomised unit tests, and add numerical tests for all function transformations and knowledge base entries.</p>
<p>Later on more classes of special functions will be added, and the knowledge base will be extended.</p>
<p>I intend to create my first pull request after the addition of the Bessel, Hypergeometric and Meijer G function classes (week one), and the second one after the expansion of Hypergeometric functions works reasonably well (hopefully after week three – but note that there will be my one-week break in this time so the week numbers will shift). The third pull request should include working integration code (hopefully after week four). Planning ahead more seems hard.</p>
<br />  <a href="http://feeds.wordpress.com/1.0/gocomments/nessgrh.wordpress.com/147/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/nessgrh.wordpress.com/147/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godelicious/nessgrh.wordpress.com/147/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/delicious/nessgrh.wordpress.com/147/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gofacebook/nessgrh.wordpress.com/147/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/facebook/nessgrh.wordpress.com/147/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gotwitter/nessgrh.wordpress.com/147/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/twitter/nessgrh.wordpress.com/147/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gostumble/nessgrh.wordpress.com/147/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/stumble/nessgrh.wordpress.com/147/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godigg/nessgrh.wordpress.com/147/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/digg/nessgrh.wordpress.com/147/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/goreddit/nessgrh.wordpress.com/147/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/reddit/nessgrh.wordpress.com/147/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=nessgrh.wordpress.com&amp;blog=22546379&amp;post=147&amp;subd=nessgrh&amp;ref=&amp;feed=1" alt="" height="1" border="0" width="1" /></div>







<p class="date">
<a href="http://nessgrh.wordpress.com/2011/05/09/implementation-details-and-code-structure/">by nessgrh at May 09, 2011 10:25 AM</a>
</p>
</div>
</div>




<div class="entrygroup" id="http://nessgrh.wordpress.com/?p=110">
<h4 lang="en"><a href="http://nessgrh.wordpress.com/2011/05/09/finding-meijer-g-function-expressions/">Finding Meijer G function expressions</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>Similarly to the Hypergeometric case, Meijer G functions should also be expressed in terms of named special functions when possible. The ideas for doing this are very similar to the Hypergeometric case, just more involved since there are many more indices. I will explain in this post why initially not much of an algorithm is needed, and will later expand on what can be done if we really need to.</p>
<p>So first of all the Meijer G function is defined as an inverse Mellin transform. The standard notation is fairly idiosyncratic. In Sympy we should probably nevertheless stick to it. However for this post let me use the following notation:</p>
<ul>
<li><img src="http://s0.wp.com/latex.php?latex=G%5Cleft%28%7B%7Ba_m%2C+b_n%7D+%5Catop+%7Bc_p%2C+d_q%7D%7D+%5Cmiddle%7C+z+%5Cright%29+%3D+%5Cfrac%7B1%7D%7B2+%5Cpi+%5Ci%7D+%5Cint_L+%5Cfrac%7B%5Cprod_%7Bk%3D1%7D%5Em+%5CGamma%281-a_k+%2B+s%29+%5C%2C+%5Cprod_%7Bk%3D1%7D%5En+%5CGamma%28b_k+-+s%29%7D%7B%5Cprod_%7Bk%3D1%7D%5Ep+%5CGamma%281-c_k+%2B+s%29+%5C%2C+%5Cprod_%7Bk%3D1%7D%5En+%5CGamma%28d_k+-+s%29%7D+z%5Es+%5Cmathrm%7Bd%7Ds&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="G\left({{a_m, b_n} \atop {c_p, d_q}} \middle| z \right) = \frac{1}{2 \pi \i} \int_L \frac{\prod_{k=1}^m \Gamma(1-a_k + s) \, \prod_{k=1}^n \Gamma(b_k - s)}{\prod_{k=1}^p \Gamma(1-c_k + s) \, \prod_{k=1}^n \Gamma(d_k - s)} z^s \mathrm{d}s" class="latex" title="G\left({{a_m, b_n} \atop {c_p, d_q}} \middle| z \right) = \frac{1}{2 \pi \i} \int_L \frac{\prod_{k=1}^m \Gamma(1-a_k + s) \, \prod_{k=1}^n \Gamma(b_k - s)}{\prod_{k=1}^p \Gamma(1-c_k + s) \, \prod_{k=1}^n \Gamma(d_k - s)} z^s \mathrm{d}s" /></li>
</ul>
<p>I won’t describe here what the contour <img src="http://s0.wp.com/latex.php?latex=L&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="L" class="latex" title="L" /> is or under what conditions the integral converges. One important thing is that <img src="http://s0.wp.com/latex.php?latex=L&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="L" class="latex" title="L" /> separates the poles of <img src="http://s0.wp.com/latex.php?latex=%5CGamma%281-a_k+%2B+s%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\Gamma(1-a_k + s)" class="latex" title="\Gamma(1-a_k + s)" /> from those of <img src="http://s0.wp.com/latex.php?latex=%5CGamma%28b_k+-+s%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\Gamma(b_k - s)" class="latex" title="\Gamma(b_k - s)" />, so the <img src="http://s0.wp.com/latex.php?latex=G&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="G" class="latex" title="G" /> function is undefined if <img src="http://s0.wp.com/latex.php?latex=a_i+-+b_j+%5Cin+%5Cmathbb%7BZ%7D_%7B%3E0%7D&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_i - b_j \in \mathbb{Z}_{&gt;0}" class="latex" title="a_i - b_j \in \mathbb{Z}_{&gt;0}" /> for any <img src="http://s0.wp.com/latex.php?latex=i%2C+j&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="i, j" class="latex" title="i, j" />.</p>
<h2>Slater’s Theorem</h2>
<p>In many cases, a <img src="http://s0.wp.com/latex.php?latex=G&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="G" class="latex" title="G" /> function can be expressed in terms of Hypergeometric functions, due to the following:</p>
<ul>
<li>Suppose <img src="http://s0.wp.com/latex.php?latex=m+%2B+q+%3C+n+%2B+p&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="m + q &lt; n + p" class="latex" title="m + q &lt; n + p" /> or <img src="http://s0.wp.com/latex.php?latex=m%2Bq+%3D+n%2Bp%2C+%7Cz%7C+%3C+1&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="m+q = n+p, |z| &lt; 1" class="latex" title="m+q = n+p, |z| &lt; 1" />. If <img src="http://s0.wp.com/latex.php?latex=b_i+-+b_j+%5Cnotin+%5Cmathbb%7BZ%7D&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b_i - b_j \notin \mathbb{Z}" class="latex" title="b_i - b_j \notin \mathbb{Z}" /> for all <img src="http://s0.wp.com/latex.php?latex=i+%5Cne+j&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="i \ne j" class="latex" title="i \ne j" />, then <img src="http://s0.wp.com/latex.php?latex=G%5Cleft%28%7B%7Ba_m%2C+b_n%7D+%5Catop+%7Bc_p%2C+d_q%7D%7D+%5Cmiddle%7C+z+%5Cright%29+%3D+%5Csum_%7Bh%3D1%7D%5En+%28%5Ctext%7Bcomplicated+product+of+gamma+functions%7D%29+%5Ctimes+%7B%7D_%7Bm%2Bq%7DF_%7Bn%2Bp-1%7D+%5Cleft%28%7B1%2Bb_h+-+%28a_m%2C+d_q%29%7D+%5Catop+%7B1+%2B+b_h+-%28b_n%2C+c_p%29%2A%7D+%5Cmiddle%7C+%28-1%29%5E%7Bp+-+m%7D+z+%5Cright%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="G\left({{a_m, b_n} \atop {c_p, d_q}} \middle| z \right) = \sum_{h=1}^n (\text{complicated product of gamma functions}) \times {}_{m+q}F_{n+p-1} \left({1+b_h - (a_m, d_q)} \atop {1 + b_h -(b_n, c_p)*} \middle| (-1)^{p - m} z \right)" class="latex" title="G\left({{a_m, b_n} \atop {c_p, d_q}} \middle| z \right) = \sum_{h=1}^n (\text{complicated product of gamma functions}) \times {}_{m+q}F_{n+p-1} \left({1+b_h - (a_m, d_q)} \atop {1 + b_h -(b_n, c_p)*} \middle| (-1)^{p - m} z \right)" />.</li>
<li>A similar theorem holds with inequalities reversed, and roles of <img src="http://s0.wp.com/latex.php?latex=a_m%2C+b_n&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_m, b_n" class="latex" title="a_m, b_n" /> switched.</li>
</ul>
<h2>Beyond Slater’s Theorem</h2>
<p>This reduces our problem to Hypergeometric functions unless two of the <img src="http://s0.wp.com/latex.php?latex=a_i&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_i" class="latex" title="a_i" /> (or <img src="http://s0.wp.com/latex.php?latex=b_j&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b_j" class="latex" title="b_j" />) differ by an integer. I will assume that this is not a common case. It can sometimes be treated by what is called the “paired index theorem”. Moreover there exists a theory of shift and inverse-shift operators for <img src="http://s0.wp.com/latex.php?latex=G&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="G" class="latex" title="G" /> functions. We can thus use much the same algorithm as for Hypergeometric functions. However most functions of interest are already expressible as Hypergeometric functions, so it should be possible to reduce to that case.</p>
<p>Later in the summer if use cases arise (or just if I get bored and then come up with use cases), I can implement the full algorithm for <img src="http://s0.wp.com/latex.php?latex=G&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="G" class="latex" title="G" /> functions as well.</p>
<br />  <a href="http://feeds.wordpress.com/1.0/gocomments/nessgrh.wordpress.com/110/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/nessgrh.wordpress.com/110/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godelicious/nessgrh.wordpress.com/110/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/delicious/nessgrh.wordpress.com/110/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gofacebook/nessgrh.wordpress.com/110/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/facebook/nessgrh.wordpress.com/110/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gotwitter/nessgrh.wordpress.com/110/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/twitter/nessgrh.wordpress.com/110/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gostumble/nessgrh.wordpress.com/110/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/stumble/nessgrh.wordpress.com/110/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godigg/nessgrh.wordpress.com/110/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/digg/nessgrh.wordpress.com/110/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/goreddit/nessgrh.wordpress.com/110/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/reddit/nessgrh.wordpress.com/110/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=nessgrh.wordpress.com&amp;blog=22546379&amp;post=110&amp;subd=nessgrh&amp;ref=&amp;feed=1" alt="" height="1" border="0" width="1" /></div>







<p class="date">
<a href="http://nessgrh.wordpress.com/2011/05/09/finding-meijer-g-function-expressions/">by nessgrh at May 09, 2011 09:58 AM</a>
</p>
</div>
</div>




<div class="entrygroup" id="http://nessgrh.wordpress.com/?p=97">
<h4 lang="en"><a href="http://nessgrh.wordpress.com/2011/05/09/testing-equivalence-of-parameters-algorithmically/">Testing equivalence of parameters algorithmically</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>In the previous post we reduced the problem of finding an expression of a Hypergeometric function to creating a suitably large “knowledge base” of suitable origins, and to find, given a suitable set of parameters <img src="http://s0.wp.com/latex.php?latex=a_p%2C+b_q&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p, b_q" class="latex" title="a_p, b_q" /> an origin <img src="http://s0.wp.com/latex.php?latex=a_p%5E0%2C+b_q%5E0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p^0, b_q^0" class="latex" title="a_p^0, b_q^0" />. This post is concerned with the latter problem.</p>
<p>Let us re-state the definitions. We are given two vectors of complex numbers <img src="http://s0.wp.com/latex.php?latex=a_p%2C+b_q&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p, b_q" class="latex" title="a_p, b_q" />. These parameters are called <em>suitable</em> if <img src="http://s0.wp.com/latex.php?latex=a_i+-+b_j+%5Cin+%5Cmathbb%7BZ%7D&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_i - b_j \in \mathbb{Z}" class="latex" title="a_i - b_j \in \mathbb{Z}" /> implies that <img src="http://s0.wp.com/latex.php?latex=a_i+%3C+b_j&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_i &lt; b_j" class="latex" title="a_i &lt; b_j" />. We assume <img src="http://s0.wp.com/latex.php?latex=a_p%2C+b_q&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p, b_q" class="latex" title="a_p, b_q" /> are suitable, and also that <img src="http://s0.wp.com/latex.php?latex=a_i+%5Cne+0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_i \ne 0" class="latex" title="a_i \ne 0" />, <img src="http://s0.wp.com/latex.php?latex=b_j+%3E+0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b_j &gt; 0" class="latex" title="b_j &gt; 0" /> for all <img src="http://s0.wp.com/latex.php?latex=i%2C+j&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="i, j" class="latex" title="i, j" />. All our origins also satisfy the same conditions. To every such set of parameters <img src="http://s0.wp.com/latex.php?latex=a_p%2C+b_q&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p, b_q" class="latex" title="a_p, b_q" /> we associate three invariants:</p>
<ul>
<li>For <img src="http://s0.wp.com/latex.php?latex=r+%5Cin+%5B0%2C+1%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="r \in [0, 1)" class="latex" title="r \in [0, 1)" />, the number <img src="http://s0.wp.com/latex.php?latex=%5Calpha_r&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\alpha_r" class="latex" title="\alpha_r" /> of <img src="http://s0.wp.com/latex.php?latex=a_i+%5Cequiv+r+%5Cpmod%7B1%7D&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_i \equiv r \pmod{1}" class="latex" title="a_i \equiv r \pmod{1}" />, and similarly the number <img src="http://s0.wp.com/latex.php?latex=%5Cbeta_r&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\beta_r" class="latex" title="\beta_r" /> of <img src="http://s0.wp.com/latex.php?latex=b_j+%5Cequiv+r+%5Cpmod%7B1%7D&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b_j \equiv r \pmod{1}" class="latex" title="b_j \equiv r \pmod{1}" />.</li>
<li>The number <img src="http://s0.wp.com/latex.php?latex=%5Cgamma&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\gamma" class="latex" title="\gamma" /> of <img src="http://s0.wp.com/latex.php?latex=a_i+%3C+0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_i &lt; 0" class="latex" title="a_i &lt; 0" />.</li>
</ul>
<p>We then know that <img src="http://s0.wp.com/latex.php?latex=a_p%2C+b_q&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p, b_q" class="latex" title="a_p, b_q" /> are equivalent to (reachable from) <img src="http://s0.wp.com/latex.php?latex=a_p%5E0%2C+b_q%5E0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p^0, b_q^0" class="latex" title="a_p^0, b_q^0" /> if and only if these invariants all agree.</p>
<h2>Strictly Numerical Parameters</h2>
<p>If all of the <img src="http://s0.wp.com/latex.php?latex=a_i%2C+b_j%2C+a_i%5E0%2C+b_j%5E0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_i, b_j, a_i^0, b_j^0" class="latex" title="a_i, b_j, a_i^0, b_j^0" /> are concretely given, then this leads to an easy efficient algorithm. To every <img src="http://s0.wp.com/latex.php?latex=r+%5Cin+%5B0%2C+1%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="r \in [0, 1)" class="latex" title="r \in [0, 1)" /> we can associate a tuple <img src="http://s0.wp.com/latex.php?latex=A_r+%3D+%28r%2C+%5Calpha_r%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="A_r = (r, \alpha_r)" class="latex" title="A_r = (r, \alpha_r)" /> and similarly a tuple <img src="http://s0.wp.com/latex.php?latex=B_r+%3D+%28r%2C+%5Cbeta_r%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="B_r = (r, \beta_r)" class="latex" title="B_r = (r, \beta_r)" />. Given parameters <img src="http://s0.wp.com/latex.php?latex=a_p%2C+b_q&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p, b_q" class="latex" title="a_p, b_q" /> there exist finitely many <img src="http://s0.wp.com/latex.php?latex=r_1+%3C+r_2+%3C+%5Cdots&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="r_1 &lt; r_2 &lt; \dots" class="latex" title="r_1 &lt; r_2 &lt; \dots" /> and <img src="http://s0.wp.com/latex.php?latex=s_1+%3C+s_2+%3C+%5Cdots&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="s_1 &lt; s_2 &lt; \dots" class="latex" title="s_1 &lt; s_2 &lt; \dots" /> such that <img src="http://s0.wp.com/latex.php?latex=%5Calpha_r+%3E+0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\alpha_r &gt; 0" class="latex" title="\alpha_r &gt; 0" /> if and only if <img src="http://s0.wp.com/latex.php?latex=r+%3D+r_k&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="r = r_k" class="latex" title="r = r_k" /> for some <img src="http://s0.wp.com/latex.php?latex=k&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="k" class="latex" title="k" />, and similarly <img src="http://s0.wp.com/latex.php?latex=%5Cbeta_r+%3E+0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\beta_r &gt; 0" class="latex" title="\beta_r &gt; 0" /> if and only if <img src="http://s0.wp.com/latex.php?latex=r+%3D+s_k&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="r = s_k" class="latex" title="r = s_k" /> for some <img src="http://s0.wp.com/latex.php?latex=k&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="k" class="latex" title="k" />. We can thus pack all invariants of <img src="http://s0.wp.com/latex.php?latex=a_p%2C+b_q&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p, b_q" class="latex" title="a_p, b_q" /> into a single tuple: <img src="http://s0.wp.com/latex.php?latex=C%28a_p%2C+b_q%29+%3D+%28%5Cgamma%2C+A_%7Br_1%7D%2C+A_%7Br_2%7D%2C+%5Cdots%2C+B_%7Bs_1%7D%2C+B_%7Bs_2%7D%2C+%5Cdots%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="C(a_p, b_q) = (\gamma, A_{r_1}, A_{r_2}, \dots, B_{s_1}, B_{s_2}, \dots)" class="latex" title="C(a_p, b_q) = (\gamma, A_{r_1}, A_{r_2}, \dots, B_{s_1}, B_{s_2}, \dots)" /></p>
<p>Thus from our knowledge base we simply assemble a python dictionary that is indexed by the invariant <img src="http://s0.wp.com/latex.php?latex=C&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="C" class="latex" title="C" />. In this way strictly numerical parameters can be settled very quickly and easily.</p>
<h2>Parametric Hypergeometric Formulae</h2>
<p>In particular for low orders, there are often parametric formulae for Hypergeometric functions, like this:</p>
<ul>
<li><img src="http://s0.wp.com/latex.php?latex=2%7B%7D_2F_1%5Cleft%28%7B-a%2C+%5Cfrac%7B1%7D%7B2%7D-a%7D+%5Catop+%5Cfrac%7B1%7D%7B2%7D+%5Cmiddle%7C+z%5Cright%29+%3D+%281+%2B+%5Csqrt%7Bz%7D%29%5E%7B2a%7D+%2B+%281-%5Csqrt%7Bz%7D%29%5E%7B2a%7D&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="2{}_2F_1\left({-a, \frac{1}{2}-a} \atop \frac{1}{2} \middle| z\right) = (1 + \sqrt{z})^{2a} + (1-\sqrt{z})^{2a}" class="latex" title="2{}_2F_1\left({-a, \frac{1}{2}-a} \atop \frac{1}{2} \middle| z\right) = (1 + \sqrt{z})^{2a} + (1-\sqrt{z})^{2a}" /></li>
<li><img src="http://s0.wp.com/latex.php?latex=%7B%7D_2F_3+%5Cleft%28%7B%28%5Cmu+%2B+%5Cnu+%2B+1%29%2F2%2C+%28%5Cmu+%2B+%5Cnu+%2B+2%29%2F2%7D+%5Catop+%7B%5Cmu+%2B+1%2C+%5Cnu+%2B+1%2C+%5Cmu+%2B+%5Cnu+%2B+1%7D+%5Cmiddle%7C+-z%5E2+%5Cright%29+%3D+%282%2Fz%29%5E%7B%5Cmu+%2B+%5Cnu%7D+%5CGamma%28%5Cmu+%2B+1%29+%5CGamma%28%5Cnu+%2B+1%29+J_%5Cmu%28z%29+J_%5Cnu%28z%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="{}_2F_3 \left({(\mu + \nu + 1)/2, (\mu + \nu + 2)/2} \atop {\mu + 1, \nu + 1, \mu + \nu + 1} \middle| -z^2 \right) = (2/z)^{\mu + \nu} \Gamma(\mu + 1) \Gamma(\nu + 1) J_\mu(z) J_\nu(z)" class="latex" title="{}_2F_3 \left({(\mu + \nu + 1)/2, (\mu + \nu + 2)/2} \atop {\mu + 1, \nu + 1, \mu + \nu + 1} \middle| -z^2 \right) = (2/z)^{\mu + \nu} \Gamma(\mu + 1) \Gamma(\nu + 1) J_\mu(z) J_\nu(z)" /></li>
</ul>
<p>Clearly we want to support these kinds of formulae. This seems much harder, though. Part of the difficulty stems from the fact that <img src="http://s0.wp.com/latex.php?latex=%5Cmathbb%7BQ%7D%2F%5Cmathbb%7BZ%7D&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\mathbb{Q}/\mathbb{Z}" class="latex" title="\mathbb{Q}/\mathbb{Z}" /> is not even a ring, and part of the difficulty stems from the fact that the Hypergeometric function is symmetric in the numerator parameters and in the denominator parameters. The following strategy is the best I could come up with: Given <img src="http://s0.wp.com/latex.php?latex=a_p%5E0%2C+b_q%5E0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p^0, b_q^0" class="latex" title="a_p^0, b_q^0" /> (where the <img src="http://s0.wp.com/latex.php?latex=a_p%5E0%2C+b_q%5E0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p^0, b_q^0" class="latex" title="a_p^0, b_q^0" /> are parametric formulae) we call a choice of numbers for the free variables an <em>instantiation</em> of the parametric formula. So for example <img src="http://s0.wp.com/latex.php?latex=%281%2C+%5Cfrac%7B3%7D%7B2%7D%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="(1, \frac{3}{2})" class="latex" title="(1, \frac{3}{2})" /> would be an instantiation of <img src="http://s0.wp.com/latex.php?latex=%28-a%2C+%5Cfrac%7B1%7D%7B2%7D-a%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="(-a, \frac{1}{2}-a)" class="latex" title="(-a, \frac{1}{2}-a)" /> (here <img src="http://s0.wp.com/latex.php?latex=a+%3D+-1&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a = -1" class="latex" title="a = -1" />). Now given <img src="http://s0.wp.com/latex.php?latex=a_p%2C+b_q&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p, b_q" class="latex" title="a_p, b_q" /> , for every <img src="http://s0.wp.com/latex.php?latex=%28%5Csigma%2C+%5Ctau%29+%5Cin+S_%7Bp%7D+%5Ctimes+S_%7Bq%7D&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="(\sigma, \tau) \in S_{p} \times S_{q}" class="latex" title="(\sigma, \tau) \in S_{p} \times S_{q}" /> (where <img src="http://s0.wp.com/latex.php?latex=S_%7Bp%7D&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="S_{p}" class="latex" title="S_{p}" /> denotes the symmetric group acting on  <img src="http://s0.wp.com/latex.php?latex=p&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="p" class="latex" title="p" /> elements), we will try to find all inequivalent instantiations of <img src="http://s0.wp.com/latex.php?latex=a_p%5E0%2C+b_q%5E0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p^0, b_q^0" class="latex" title="a_p^0, b_q^0" /> that satisfy</p>
<ul>
<li><img src="http://s0.wp.com/latex.php?latex=a_%7B%5Cpi+i%7D+%5Cequiv+a_i%5E0+%5Cpmod%7B1%7D&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_{\pi i} \equiv a_i^0 \pmod{1}" class="latex" title="a_{\pi i} \equiv a_i^0 \pmod{1}" /> for all <img src="http://s0.wp.com/latex.php?latex=i&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="i" class="latex" title="i" />,</li>
<li><img src="http://s0.wp.com/latex.php?latex=b_%7B%5Ctau+j%7D+%5Cequiv+b_j%5E0+%5Cpmod%7B1%7D&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b_{\tau j} \equiv b_j^0 \pmod{1}" class="latex" title="b_{\tau j} \equiv b_j^0 \pmod{1}" /> for all <img src="http://s0.wp.com/latex.php?latex=j&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="j" class="latex" title="j" />.</li>
</ul>
<p>We then instantiate all of these formulae, and run the algorithm for numerical parameters on the instantiations.</p>
<p>It remains to find a way to solve the above system of equations. Here we make additional assumptions. First of all we will assume all formulae are <em>linear</em> in the free parameters. The formulae found in tables are all of this form. Moreover, they have the property that for every free parameter <img src="http://s0.wp.com/latex.php?latex=%5Cmu&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\mu" class="latex" title="\mu" /> there exists at least one entry in the vector <img src="http://s0.wp.com/latex.php?latex=a_p&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p" class="latex" title="a_p" /> (or <img src="http://s0.wp.com/latex.php?latex=b_q&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b_q" class="latex" title="b_q" />) containing <img src="http://s0.wp.com/latex.php?latex=%5Cmu&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\mu" class="latex" title="\mu" /> as the <em>only</em> free symbol. We will use this entry to make an initial guess of the value of <img src="http://s0.wp.com/latex.php?latex=%5Cmu&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\mu" class="latex" title="\mu" />, and then see what other values we should try. Thus to find the values of <img src="http://s0.wp.com/latex.php?latex=%5Cmu&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\mu" class="latex" title="\mu" /> to try, do the following:</p>
<ul>
<li>Find the least common multiple <img src="http://s0.wp.com/latex.php?latex=l&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="l" class="latex" title="l" /> of all denominators of coefficients of <img src="http://s0.wp.com/latex.php?latex=%5Cmu&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\mu" class="latex" title="\mu" /> appearing in the equations.</li>
<li>Of all entries that isolate <img src="http://s0.wp.com/latex.php?latex=%5Cmu&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\mu" class="latex" title="\mu" />, find the one in which <img src="http://s0.wp.com/latex.php?latex=%5Cmu&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\mu" class="latex" title="\mu" /> appears with largest denominator, say <img src="http://s0.wp.com/latex.php?latex=m&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="m" class="latex" title="m" />.</li>
<li>The right-hand side of the equation corresponding to that entry determines <img src="http://s0.wp.com/latex.php?latex=%5Cmu&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\mu" class="latex" title="\mu" /> up to multiples of <img src="http://s0.wp.com/latex.php?latex=m&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="m" class="latex" title="m" />. Pick an initial choice <img src="http://s0.wp.com/latex.php?latex=%5Cmu_0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\mu_0" class="latex" title="\mu_0" />.</li>
<li>Let <img src="http://s0.wp.com/latex.php?latex=r+%3D+%5Cfrac%7Bl%7D%7Bm%7D&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="r = \frac{l}{m}" class="latex" title="r = \frac{l}{m}" />. Try also <img src="http://s0.wp.com/latex.php?latex=%5Cmu_0+%2B+m&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\mu_0 + m" class="latex" title="\mu_0 + m" />, <img src="http://s0.wp.com/latex.php?latex=%5Cmu_0+%2B+2m&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\mu_0 + 2m" class="latex" title="\mu_0 + 2m" />, and so on, up to <img src="http://s0.wp.com/latex.php?latex=%5Cmu_0+%2B+%28r-1%29m&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\mu_0 + (r-1)m" class="latex" title="\mu_0 + (r-1)m" />.</li>
</ul>
<p>I think this should yield all possible solutions (and a lot of spurious ones). We then run these steps for all free parameters, and try all combinations of all possible solutions, and all permutations. Evidently this leads to combinatorial explosion, but it is important to keep in mind that the formulae we will be working with have <img src="http://s0.wp.com/latex.php?latex=%5Cle+3&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\le 3" class="latex" title="\le 3" /> free parameters and very small denominators. Efficient code will still be important.</p>
<h2>Finding Expressions for Hypergeometric Functions with Parameters</h2>
<p>This is a different notion from the above: what if we want to find a formula for a Hypergeometric function where the <img src="http://s0.wp.com/latex.php?latex=a_p%2C+b_q&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p, b_q" class="latex" title="a_p, b_q" /> <em>themselves</em> contain free symbols? This can happen when trying to evaluate general integrals (involving say the general order <img src="http://s0.wp.com/latex.php?latex=%5Cnu&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\nu" class="latex" title="\nu" /> Bessel function), or when computing transforms (e.g. the Laplace transform). Clearly none of the “concrete” formulae are of help here. So we can only try to find an instantiation of some parametric Hypergeometric formula from which we can reach the function we are interested in in a finite number of steps independent of the free symbols. Clearly there are no huge tricks we can play here. We will just assume that everything that is not obviously congruent mod 1 is “generically incongruent” and return formulae that are valid for almost all values of the free parameters. With this in mind, running the above algorithm should also work in the case of free symbols.</p>
<br />  <a href="http://feeds.wordpress.com/1.0/gocomments/nessgrh.wordpress.com/97/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/nessgrh.wordpress.com/97/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godelicious/nessgrh.wordpress.com/97/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/delicious/nessgrh.wordpress.com/97/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gofacebook/nessgrh.wordpress.com/97/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/facebook/nessgrh.wordpress.com/97/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gotwitter/nessgrh.wordpress.com/97/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/twitter/nessgrh.wordpress.com/97/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gostumble/nessgrh.wordpress.com/97/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/stumble/nessgrh.wordpress.com/97/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godigg/nessgrh.wordpress.com/97/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/digg/nessgrh.wordpress.com/97/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/goreddit/nessgrh.wordpress.com/97/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/reddit/nessgrh.wordpress.com/97/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=nessgrh.wordpress.com&amp;blog=22546379&amp;post=97&amp;subd=nessgrh&amp;ref=&amp;feed=1" alt="" height="1" border="0" width="1" /></div>







<p class="date">
<a href="http://nessgrh.wordpress.com/2011/05/09/testing-equivalence-of-parameters-algorithmically/">by nessgrh at May 09, 2011 08:29 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>May 08, 2011</h2>

<div class="channelgroup">







<h3><a href="http://gilbertgede.wordpress.com" title="gilbertgede">Gilbert Gede</a></h3>


<div class="entrygroup" id="http://gilbertgede.wordpress.com/?p=12">
<h4 lang="en"><a href="http://gilbertgede.wordpress.com/2011/05/08/equations-of-motion-example/">Equations of Motion Example</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>Here, I have derived by hand the equations of motion for a rolling disc.  The scanned document at the bottom shows the steps I went through.</p>
<p>This is to show what PyDy (my Google Summer of Code 2011 project, under SymPy) will be doing; by using SymPy’s symbolic manipulation abilities, one can use the functions in PyDy to derive equations of motion symbolically.  A simple system like the rolling disc can be done by hand easily but for larger, multibody systems you will need some computational assistance.</p>
<p>PyDy is primarily built around Kane’s Method<a href="http://gilbertgede.wordpress.com/feed/#1" id="ref1"><sup> 1 </sup></a>, but will be able to work with Lagrange’s Method or Newton-Euler.</p>
<p>Edit: PDF removed for now until I fix an error….</p>
<p><a href="http://gilbertgede.wordpress.com/feed/#ref1" id="1">1.</a> Kane, T. R. and Levinson, D. A. (1985)  Dynamics: Theory and Applications. MacGraw-Hill Series in Mechanical Engineering. MacGraw-Hill Book Company, NewYork.</p>
<br />  <a href="http://feeds.wordpress.com/1.0/gocomments/gilbertgede.wordpress.com/12/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/gilbertgede.wordpress.com/12/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godelicious/gilbertgede.wordpress.com/12/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/delicious/gilbertgede.wordpress.com/12/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gofacebook/gilbertgede.wordpress.com/12/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/facebook/gilbertgede.wordpress.com/12/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gotwitter/gilbertgede.wordpress.com/12/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/twitter/gilbertgede.wordpress.com/12/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gostumble/gilbertgede.wordpress.com/12/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/stumble/gilbertgede.wordpress.com/12/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godigg/gilbertgede.wordpress.com/12/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/digg/gilbertgede.wordpress.com/12/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/goreddit/gilbertgede.wordpress.com/12/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/reddit/gilbertgede.wordpress.com/12/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=gilbertgede.wordpress.com&amp;blog=22677911&amp;post=12&amp;subd=gilbertgede&amp;ref=&amp;feed=1" alt="" height="1" border="0" width="1" /></div>







<p class="date">
<a href="http://gilbertgede.wordpress.com/2011/05/08/equations-of-motion-example/">by gilbertgede at May 08, 2011 02:15 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>May 07, 2011</h2>

<div class="channelgroup">







<h3><a href="http://nessgrh.wordpress.com" title="nessgrh">Tom Bachmann</a></h3>


<div class="entrygroup" id="http://nessgrh.wordpress.com/?p=29">
<h4 lang="en"><a href="http://nessgrh.wordpress.com/2011/05/07/finding-hypergeometric-function-expressions/">Finding hypergeometric function expressions</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>The core of the new code will be algorithms for expressing Hypergeometric and Meijer G functions in terms of known special functions. This is fairly complicated, so let me use this blog post to order my thoughts on the Hypergeometric case. The Meijer G case is fairly similar, there are just more indices to keep track of and more possible transformations, I’ll describe this in a later post.</p>
<p>Most of this post is based on the paper by Kelly Roach.</p>
<p>So first of all the Hypergeometric function is initially defined as a series: <img src="http://s0.wp.com/latex.php?latex=%7B%7D_p+F_q%5Cleft%28%7Ba_p+%5Catop+b_q%7D+%5Cmiddle%7C+z+%5Cright%29+%3D+%5Csum_%7Bn%3D0%7D%5E%5Cinfty+%5Cfrac%7B%28a_1%29_n+%5Cdots+%28a_p%29_n%7D%7B%28b_1%29_n+%5Cdots+%28b_q%29_n%7D+%5Cfrac%7Bz%5En%7D%7Bn%21%7D&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="{}_p F_q\left({a_p \atop b_q} \middle| z \right) = \sum_{n=0}^\infty \frac{(a_1)_n \dots (a_p)_n}{(b_1)_n \dots (b_q)_n} \frac{z^n}{n!}" class="latex" title="{}_p F_q\left({a_p \atop b_q} \middle| z \right) = \sum_{n=0}^\infty \frac{(a_1)_n \dots (a_p)_n}{(b_1)_n \dots (b_q)_n} \frac{z^n}{n!}" />, where <img src="http://s0.wp.com/latex.php?latex=a_p&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p" class="latex" title="a_p" /> and <img src="http://s0.wp.com/latex.php?latex=b_q&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b_q" class="latex" title="b_q" /> represent vectors of respectively <img src="http://s0.wp.com/latex.php?latex=p&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="p" class="latex" title="p" /> and <img src="http://s0.wp.com/latex.php?latex=q&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="q" class="latex" title="q" /> complex parameters, and <img src="http://s0.wp.com/latex.php?latex=%28a%29_n+%3D+a%28a%2B1%29%5Cdots%28a%2Bn-1%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="(a)_n = a(a+1)\dots(a+n-1)" class="latex" title="(a)_n = a(a+1)\dots(a+n-1)" />. This converges in some disc if <img src="http://s0.wp.com/latex.php?latex=p+%5Cle+q%2B1&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="p \le q+1" class="latex" title="p \le q+1" /> and none of the <img src="http://s0.wp.com/latex.php?latex=b_j&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b_j" class="latex" title="b_j" /> is a negative integer (it also converges in some other cases if one of the <img src="http://s0.wp.com/latex.php?latex=a_i&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_i" class="latex" title="a_i" /> is a non-positive integer). Notice that the Hypergeometric function is symmetric in all numerator parameters (the <img src="http://s0.wp.com/latex.php?latex=a_p&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p" class="latex" title="a_p" />), and also in all denominator parameters (the <img src="http://s0.wp.com/latex.php?latex=b_q&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b_q" class="latex" title="b_q" />).</p>
<p>It turns out that there are certain differential operators that can change the <img src="http://s0.wp.com/latex.php?latex=a_p&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p" class="latex" title="a_p" /> and <img src="http://s0.wp.com/latex.php?latex=p_q&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="p_q" class="latex" title="p_q" /> parameters by integers. If a sequence of such operators is known that converts the set of indices <img src="http://s0.wp.com/latex.php?latex=a_r%5E0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_r^0" class="latex" title="a_r^0" /> and <img src="http://s0.wp.com/latex.php?latex=b_s%5E0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b_s^0" class="latex" title="b_s^0" /> into <img src="http://s0.wp.com/latex.php?latex=a_p&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p" class="latex" title="a_p" /> and <img src="http://s0.wp.com/latex.php?latex=b_q&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b_q" class="latex" title="b_q" />, then we shall say the pair <img src="http://s0.wp.com/latex.php?latex=a_p%2C+b_q&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p, b_q" class="latex" title="a_p, b_q" /> is <em>reachable</em> from <img src="http://s0.wp.com/latex.php?latex=a_r%5E0%2C+b_s%5E0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_r^0, b_s^0" class="latex" title="a_r^0, b_s^0" />. Our general strategy is thus as follows: given a set <img src="http://s0.wp.com/latex.php?latex=a_p%2C+b_q&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p, b_q" class="latex" title="a_p, b_q" /> of parameters, try to look up an <em>origin</em> <img src="http://s0.wp.com/latex.php?latex=a_r%5E0%2C+b_s%5E0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_r^0, b_s^0" class="latex" title="a_r^0, b_s^0" /> for which we know an expression, and then apply the sequence of differential operators to the known expression to find an expression for the Hypergeometric function we are interested in.</p>
<h2>Notation</h2>
<p>In the following, the symbol <img src="http://s0.wp.com/latex.php?latex=a&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a" class="latex" title="a" /> will always denote a numerator parameter and the symbol <img src="http://s0.wp.com/latex.php?latex=b&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b" class="latex" title="b" /> will always denote a denominator parameter. The subscripts <img src="http://s0.wp.com/latex.php?latex=p%2C+q%2C+r%2C+s&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="p, q, r, s" class="latex" title="p, q, r, s" /> denote <em>vectors</em> of that length, so e.g. <img src="http://s0.wp.com/latex.php?latex=a_p&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p" class="latex" title="a_p" /> denotes a vector of <img src="http://s0.wp.com/latex.php?latex=p&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="p" class="latex" title="p" /> numerator parameters. The subscripts <img src="http://s0.wp.com/latex.php?latex=i&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="i" class="latex" title="i" /> and <img src="http://s0.wp.com/latex.php?latex=j&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="j" class="latex" title="j" /> denote “running indices”, so they should usually be used in conjuction with a “for all <img src="http://s0.wp.com/latex.php?latex=i&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="i" class="latex" title="i" />“. E.g. <img src="http://s0.wp.com/latex.php?latex=a_i+%3C+4&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_i &lt; 4" class="latex" title="a_i &lt; 4" /> for all <img src="http://s0.wp.com/latex.php?latex=i&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="i" class="latex" title="i" />. Uppercase subscripts <img src="http://s0.wp.com/latex.php?latex=I&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="I" class="latex" title="I" /> and <img src="http://s0.wp.com/latex.php?latex=J&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="J" class="latex" title="J" /> denote a chosen, fixed index. So for example <img src="http://s0.wp.com/latex.php?latex=a_I+%3E+0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_I &gt; 0" class="latex" title="a_I &gt; 0" /> is true if the inequality holds for the one index <img src="http://s0.wp.com/latex.php?latex=I&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="I" class="latex" title="I" /> we are currently interested in.</p>
<h2>Incrementing and decrementing indices</h2>
<p>Suppose <img src="http://s0.wp.com/latex.php?latex=a_i+%5Cne+0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_i \ne 0" class="latex" title="a_i \ne 0" />. Set <img src="http://s0.wp.com/latex.php?latex=A%28a_i%29+%3D+%5Cfrac%7Bz%7D%7Ba_i%7D%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7Bdz%7D%2B1&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="A(a_i) = \frac{z}{a_i}\frac{\mathrm{d}}{dz}+1" class="latex" title="A(a_i) = \frac{z}{a_i}\frac{\mathrm{d}}{dz}+1" />. It is then easy to show that <img src="http://s0.wp.com/latex.php?latex=A%28a_i%29+%7B%7D_p+F_q%5Cleft%28%7Ba_p+%5Catop+b_q%7D+%5Cmiddle%7C+z+%5Cright%29+%3D+%7B%7D_p+F_q%5Cleft%28%7Ba_p+%2B+e_i+%5Catop+b_q%7D+%5Cmiddle%7C+z+%5Cright%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="A(a_i) {}_p F_q\left({a_p \atop b_q} \middle| z \right) = {}_p F_q\left({a_p + e_i \atop b_q} \middle| z \right)" class="latex" title="A(a_i) {}_p F_q\left({a_p \atop b_q} \middle| z \right) = {}_p F_q\left({a_p + e_i \atop b_q} \middle| z \right)" />, where <img src="http://s0.wp.com/latex.php?latex=e_i&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="e_i" class="latex" title="e_i" /> is the i-th unit vector. Similarly for <img src="http://s0.wp.com/latex.php?latex=b_j+%5Cne+1&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b_j \ne 1" class="latex" title="b_j \ne 1" /> we set <img src="http://s0.wp.com/latex.php?latex=B%28b_j%29+%3D+%5Cfrac%7Bz%7D%7Bb_j-1%7D+%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7Bdz%7D%2B1&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="B(b_j) = \frac{z}{b_j-1} \frac{\mathrm{d}}{dz}+1" class="latex" title="B(b_j) = \frac{z}{b_j-1} \frac{\mathrm{d}}{dz}+1" /> and find <img src="http://s0.wp.com/latex.php?latex=B%28b_j%29+%7B%7D_p+F_q%5Cleft%28%7Ba_p+%5Catop+b_q%7D+%5Cmiddle%7C+z+%5Cright%29+%3D+%7B%7D_p+F_q%5Cleft%28%7Ba_p+%5Catop+b_q+-+e_i%7D+%5Cmiddle%7C+z+%5Cright%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="B(b_j) {}_p F_q\left({a_p \atop b_q} \middle| z \right) = {}_p F_q\left({a_p \atop b_q - e_i} \middle| z \right)" class="latex" title="B(b_j) {}_p F_q\left({a_p \atop b_q} \middle| z \right) = {}_p F_q\left({a_p \atop b_q - e_i} \middle| z \right)" />. Thus we can increment upper and decrement lower indices at will, as long as we don’t go through zero. The <img src="http://s0.wp.com/latex.php?latex=A%28a_i%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="A(a_i)" class="latex" title="A(a_i)" /> and <img src="http://s0.wp.com/latex.php?latex=B%28b_j%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="B(b_j)" class="latex" title="B(b_j)" /> are called <em>shift operators</em>.</p>
<p>It is also easy to show that <img src="http://s0.wp.com/latex.php?latex=%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7Bdz%7D+%7B%7D_p+F_q%5Cleft%28%7Ba_p+%5Catop+b_q%7D+%5Cmiddle%7C+z+%5Cright%29+%3D+%5Cfrac%7Ba_1+%5Cdots+a_p%7D%7Bb_1+%5Cdots+b_q%7D+%7B%7D_p+F_q%5Cleft%28%7Ba_p+%2B+1+%5Catop+b_q+%2B+1%7D+%5Cmiddle%7C+z+%5Cright%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\frac{\mathrm{d}}{dz} {}_p F_q\left({a_p \atop b_q} \middle| z \right) = \frac{a_1 \dots a_p}{b_1 \dots b_q} {}_p F_q\left({a_p + 1 \atop b_q + 1} \middle| z \right)" class="latex" title="\frac{\mathrm{d}}{dz} {}_p F_q\left({a_p \atop b_q} \middle| z \right) = \frac{a_1 \dots a_p}{b_1 \dots b_q} {}_p F_q\left({a_p + 1 \atop b_q + 1} \middle| z \right)" />, where <img src="http://s0.wp.com/latex.php?latex=a_p+%2B+1&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p + 1" class="latex" title="a_p + 1" /> is the vector <img src="http://s0.wp.com/latex.php?latex=a_1+%2B+1%2C+a_2+%2B+1%2C+%5Cdots&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_1 + 1, a_2 + 1, \dots" class="latex" title="a_1 + 1, a_2 + 1, \dots" /> and similarly for <img src="http://s0.wp.com/latex.php?latex=b_q+%2B+1&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b_q + 1" class="latex" title="b_q + 1" />. Combining this with the shift operators,  we arrive at one form of the Hypergeometric differential equation: <img src="http://s0.wp.com/latex.php?latex=%5Cleft%5B+%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7Bdz%7D+%5Cprod_%7Bj%3D1%7D%5Eq+B%28b_j%29+-+%5Cfrac%7Ba_1+%5Cdots+a_p%7D%7B%28b_1-1%29+%5Cdots+%28b_q-1%29%7D+%5Cprod_%7Bi%3D1%7D%5Ep+A%28a_i%29+%5Cright%5D+%7B%7D_p+F_q%5Cleft%28%7Ba_p+%5Catop+b_q%7D+%5Cmiddle%7C+z+%5Cright%29+%3D+0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\left[ \frac{\mathrm{d}}{dz} \prod_{j=1}^q B(b_j) - \frac{a_1 \dots a_p}{(b_1-1) \dots (b_q-1)} \prod_{i=1}^p A(a_i) \right] {}_p F_q\left({a_p \atop b_q} \middle| z \right) = 0" class="latex" title="\left[ \frac{\mathrm{d}}{dz} \prod_{j=1}^q B(b_j) - \frac{a_1 \dots a_p}{(b_1-1) \dots (b_q-1)} \prod_{i=1}^p A(a_i) \right] {}_p F_q\left({a_p \atop b_q} \middle| z \right) = 0" />. This holds if all shift operators are defined, i.e. if no <img src="http://s0.wp.com/latex.php?latex=a_i+%3D+0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_i = 0" class="latex" title="a_i = 0" /> and no <img src="http://s0.wp.com/latex.php?latex=b_j+%3D+1&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b_j = 1" class="latex" title="b_j = 1" />. Clearing denominators and multiplying through by z we arrive at the following equation: <img src="http://s0.wp.com/latex.php?latex=%5Cleft%5B+z%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7Bdz%7D+%5Cprod_%7Bj%3D1%7D%5Eq+%5Cleft%28z%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7Bdz%7D+%2B+b_j-1+%5Cright%29+-+z+%5Cprod_%7Bi%3D1%7D%5Ep+%5Cleft%28+z%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7B%5Cmathrm%7Bd%7Dz%7D+%2B+a_i+%5Cright%29+%5Cright%5D+%7B%7D_p+F_q%5Cleft%28%7Ba_p+%5Catop+b_q%7D+%5Cmiddle%7C+z%5Cright%29+%3D+0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\left[ z\frac{\mathrm{d}}{dz} \prod_{j=1}^q \left(z\frac{\mathrm{d}}{dz} + b_j-1 \right) - z \prod_{i=1}^p \left( z\frac{\mathrm{d}}{\mathrm{d}z} + a_i \right) \right] {}_p F_q\left({a_p \atop b_q} \middle| z\right) = 0" class="latex" title="\left[ z\frac{\mathrm{d}}{dz} \prod_{j=1}^q \left(z\frac{\mathrm{d}}{dz} + b_j-1 \right) - z \prod_{i=1}^p \left( z\frac{\mathrm{d}}{\mathrm{d}z} + a_i \right) \right] {}_p F_q\left({a_p \atop b_q} \middle| z\right) = 0" />. Even though our derivation does not show it, it can be checked that this equation holds whenever the <img src="http://s0.wp.com/latex.php?latex=%7B%7D_p+F_q&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="{}_p F_q" class="latex" title="{}_p F_q" /> is defined.</p>
<p>Notice that, under suitable conditions on <img src="http://s0.wp.com/latex.php?latex=a_I%2C+b_J&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_I, b_J" class="latex" title="a_I, b_J" />, each of the operators <img src="http://s0.wp.com/latex.php?latex=A%28a_i%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="A(a_i)" class="latex" title="A(a_i)" />, <img src="http://s0.wp.com/latex.php?latex=B%28b_j%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="B(b_j)" class="latex" title="B(b_j)" /> and <img src="http://s0.wp.com/latex.php?latex=z%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7B%5Cmathrm%7Bd%7Dz%7D&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="z\frac{\mathrm{d}}{\mathrm{d}z}" class="latex" title="z\frac{\mathrm{d}}{\mathrm{d}z}" /> can be expressed in terms of <img src="http://s0.wp.com/latex.php?latex=A%28a_I%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="A(a_I)" class="latex" title="A(a_I)" /> or <img src="http://s0.wp.com/latex.php?latex=B%28b_J%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="B(b_J)" class="latex" title="B(b_J)" />. Our next aim is to write the Hypergeometric differential equation as follows: <img src="http://s0.wp.com/latex.php?latex=%5BX+A%28a_I%29+-+b%5D+%7B%7D_p+F_q%5Cleft%28%7Ba_p+%5Catop+b_q%7D+%5Cmiddle%7C+z%5Cright%29+%3D+0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="[X A(a_I) - b] {}_p F_q\left({a_p \atop b_q} \middle| z\right) = 0" class="latex" title="[X A(a_I) - b] {}_p F_q\left({a_p \atop b_q} \middle| z\right) = 0" />, for some operator <img src="http://s0.wp.com/latex.php?latex=X&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="X" class="latex" title="X" /> to be determined. If <img src="http://s0.wp.com/latex.php?latex=b+%5Cne+0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b \ne 0" class="latex" title="b \ne 0" />, then we can write this as <img src="http://s0.wp.com/latex.php?latex=%5Cfrac%7B-1%7D%7Bb%7D+X+%7B%7D_p+F_q%5Cleft%28%7Ba_p+%2B+e_I+%5Catop+b_q%7D+%5Cmiddle%7C+z%5Cright%29+%3D+%7B%7D_p+F_q%5Cleft%28%7Ba_p+%5Catop+b_q%7D+%5Cmiddle%7C+z%5Cright%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\frac{-1}{b} X {}_p F_q\left({a_p + e_I \atop b_q} \middle| z\right) = {}_p F_q\left({a_p \atop b_q} \middle| z\right)" class="latex" title="\frac{-1}{b} X {}_p F_q\left({a_p + e_I \atop b_q} \middle| z\right) = {}_p F_q\left({a_p \atop b_q} \middle| z\right)" />, and so <img src="http://s0.wp.com/latex.php?latex=%5Cfrac%7B-1%7D%7Bb%7DX&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\frac{-1}{b}X" class="latex" title="\frac{-1}{b}X" /> undoes the shifting of <img src="http://s0.wp.com/latex.php?latex=A%28a_I%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="A(a_I)" class="latex" title="A(a_I)" />, whence it will be called an <em>inverse-shift operator</em>.</p>
<p>Now <img src="http://s0.wp.com/latex.php?latex=A%28a_I%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="A(a_I)" class="latex" title="A(a_I)" /> exists if <img src="http://s0.wp.com/latex.php?latex=a_I+%5Cne+0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_I \ne 0" class="latex" title="a_I \ne 0" />, and then <img src="http://s0.wp.com/latex.php?latex=z%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7B%5Cmathrm%7Bd%7Dz%7D+%3D+a_I+A%28a_I%29+-+a_I&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="z\frac{\mathrm{d}}{\mathrm{d}z} = a_I A(a_I) - a_I" class="latex" title="z\frac{\mathrm{d}}{\mathrm{d}z} = a_I A(a_I) - a_I" />. Observe also that all the operators <img src="http://s0.wp.com/latex.php?latex=A%28a_i%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="A(a_i)" class="latex" title="A(a_i)" />, <img src="http://s0.wp.com/latex.php?latex=B%28b_j%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="B(b_j)" class="latex" title="B(b_j)" /> and <img src="http://s0.wp.com/latex.php?latex=z%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7B%5Cmathrm%7Bd%7Dz%7D&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="z\frac{\mathrm{d}}{\mathrm{d}z}" class="latex" title="z\frac{\mathrm{d}}{\mathrm{d}z}" /> commute. We have <img src="http://s0.wp.com/latex.php?latex=%5Cprod_%7Bi%3D1%7D%5Ep+%5Cleft%28+z%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7B%5Cmathrm%7Bd%7Dz%7D+%2B+a_i+%5Cright%29+%3D+%5Cleft%28%5Cprod_%7Bi%3D1%2C+i+%5Cne+I%7D%5Ep+%5Cleft%28+z%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7B%5Cmathrm%7Bd%7Dz%7D+%2B+a_i+%5Cright%29%5Cright%29+a_I+A%28a_I%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\prod_{i=1}^p \left( z\frac{\mathrm{d}}{\mathrm{d}z} + a_i \right) = \left(\prod_{i=1, i \ne I}^p \left( z\frac{\mathrm{d}}{\mathrm{d}z} + a_i \right)\right) a_I A(a_I)" class="latex" title="\prod_{i=1}^p \left( z\frac{\mathrm{d}}{\mathrm{d}z} + a_i \right) = \left(\prod_{i=1, i \ne I}^p \left( z\frac{\mathrm{d}}{\mathrm{d}z} + a_i \right)\right) a_I A(a_I)" />, so this gives us the first half of <img src="http://s0.wp.com/latex.php?latex=X&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="X" class="latex" title="X" />. The other half does not have such a nice expression. We find <img src="http://s0.wp.com/latex.php?latex=+z%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7Bdz%7D+%5Cprod_%7Bj%3D1%7D%5Eq+%5Cleft%28z%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7Bdz%7D+%2B+b_j-1+%5Cright%29+%3D+%5Cleft%28a_I+A%28a_I%29+-+a_I%5Cright%29+%5Cprod_%7Bj%3D1%7D%5Eq+%5Cleft%28a_I+A%28a_I%29+-+a_I+%2B+b_j+-+1%5Cright%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt=" z\frac{\mathrm{d}}{dz} \prod_{j=1}^q \left(z\frac{\mathrm{d}}{dz} + b_j-1 \right) = \left(a_I A(a_I) - a_I\right) \prod_{j=1}^q \left(a_I A(a_I) - a_I + b_j - 1\right)" class="latex" title=" z\frac{\mathrm{d}}{dz} \prod_{j=1}^q \left(z\frac{\mathrm{d}}{dz} + b_j-1 \right) = \left(a_I A(a_I) - a_I\right) \prod_{j=1}^q \left(a_I A(a_I) - a_I + b_j - 1\right)" />. Since the first half had no constant term, we infer <img src="http://s0.wp.com/latex.php?latex=b+%3D+-a_I%5Cprod_%7Bj%3D1%7D%5Eq%28b_j+-+1+-a_I%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b = -a_I\prod_{j=1}^q(b_j - 1 -a_I)" class="latex" title="b = -a_I\prod_{j=1}^q(b_j - 1 -a_I)" />.</p>
<p>This tells us under which conditions we can “un-shift” <img src="http://s0.wp.com/latex.php?latex=A%28a_I%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="A(a_I)" class="latex" title="A(a_I)" />, namely when <img src="http://s0.wp.com/latex.php?latex=a_I+%5Cne+0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_I \ne 0" class="latex" title="a_I \ne 0" /> and <img src="http://s0.wp.com/latex.php?latex=b+%5Cne+0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b \ne 0" class="latex" title="b \ne 0" />. Substituting <img src="http://s0.wp.com/latex.php?latex=a_I+-+1&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_I - 1" class="latex" title="a_I - 1" /> for <img src="http://s0.wp.com/latex.php?latex=a_I&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_I" class="latex" title="a_I" /> then tells us under what conditions we can <em>decrement</em> the index <img src="http://s0.wp.com/latex.php?latex=a_I&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_I" class="latex" title="a_I" />. Doing a similar analysis for <img src="http://s0.wp.com/latex.php?latex=B%28a_J%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="B(a_J)" class="latex" title="B(a_J)" />, we arrive at the following rules:</p>
<ul>
<li>An index <img src="http://s0.wp.com/latex.php?latex=a_I&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_I" class="latex" title="a_I" /> can be decremented if <img src="http://s0.wp.com/latex.php?latex=a_I+%5Cne+1&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_I \ne 1" class="latex" title="a_I \ne 1" /> and <img src="http://s0.wp.com/latex.php?latex=a_I+%5Cne+b_j&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_I \ne b_j" class="latex" title="a_I \ne b_j" /> for all <img src="http://s0.wp.com/latex.php?latex=b_j&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b_j" class="latex" title="b_j" />.</li>
<li>An index <img src="http://s0.wp.com/latex.php?latex=b_J&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b_J" class="latex" title="b_J" /> can be incremented if <img src="http://s0.wp.com/latex.php?latex=b_J+%5Cne+-1&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b_J \ne -1" class="latex" title="b_J \ne -1" /> and <img src="http://s0.wp.com/latex.php?latex=b_J+%5Cne+a_i&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b_J \ne a_i" class="latex" title="b_J \ne a_i" /> for all <img src="http://s0.wp.com/latex.php?latex=a_i&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_i" class="latex" title="a_i" />.</li>
</ul>
<p>Combined with the conditions (stated above) for the existence of shift operators, we have thus established the rules of the game!</p>
<h2>Reduction of Order</h2>
<p>Notice that, quite trivially, if <img src="http://s0.wp.com/latex.php?latex=a_I+%3D+b_J&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_I = b_J" class="latex" title="a_I = b_J" />, we have <img src="http://s0.wp.com/latex.php?latex=%7B%7D_p+F_q%5Cleft%28%7Ba_p+%5Catop+b_q%7D+%5Cmiddle%7C+z+%5Cright%29+%3D+%7B%7D_%7Bp-1%7D+F_%7Bq-1%7D%5Cleft%28%7Ba_p%5E%2A+%5Catop+b_q%5E%2A%7D+%5Cmiddle%7C+z+%5Cright%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="{}_p F_q\left({a_p \atop b_q} \middle| z \right) = {}_{p-1} F_{q-1}\left({a_p^* \atop b_q^*} \middle| z \right)" class="latex" title="{}_p F_q\left({a_p \atop b_q} \middle| z \right) = {}_{p-1} F_{q-1}\left({a_p^* \atop b_q^*} \middle| z \right)" />, where <img src="http://s0.wp.com/latex.php?latex=a_p%5E%2A&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p^*" class="latex" title="a_p^*" /> means <img src="http://s0.wp.com/latex.php?latex=a_p&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p" class="latex" title="a_p" /> with <img src="http://s0.wp.com/latex.php?latex=a_I&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_I" class="latex" title="a_I" /> omitted, and similarly for <img src="http://s0.wp.com/latex.php?latex=b_q%5E%2A&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b_q^*" class="latex" title="b_q^*" />. We call this reduction of order.</p>
<p>In fact, we can do even better. If <img src="http://s0.wp.com/latex.php?latex=a_I+-+b_J+%5Cin+%5Cmathbb%7BZ%7D_%7B%3E0%7D&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_I - b_J \in \mathbb{Z}_{&gt;0}" class="latex" title="a_I - b_J \in \mathbb{Z}_{&gt;0}" />, then it is easy to see that <img src="http://s0.wp.com/latex.php?latex=%5Cfrac%7B%28a_I%29_n%7D%7B%28b_J%29_n%7D&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\frac{(a_I)_n}{(b_J)_n}" class="latex" title="\frac{(a_I)_n}{(b_J)_n}" /> is actually a polynomial in <img src="http://s0.wp.com/latex.php?latex=n&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="n" class="latex" title="n" />. It is also easy to see that <img src="http://s0.wp.com/latex.php?latex=%28z%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7B%5Cmathrm%7Bd%7Dz%7D%29%5Ek+z%5En+%3D+n%5Ek+z%5En&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="(z\frac{\mathrm{d}}{\mathrm{d}z})^k z^n = n^k z^n" class="latex" title="(z\frac{\mathrm{d}}{\mathrm{d}z})^k z^n = n^k z^n" />. Combining these two remarks we find:</p>
<ul>
<li>If <img src="http://s0.wp.com/latex.php?latex=a_I+-+b_J+%5Cin+%5Cmathbb%7BZ%7D_%7B%3E0%7D&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_I - b_J \in \mathbb{Z}_{&gt;0}" class="latex" title="a_I - b_J \in \mathbb{Z}_{&gt;0}" />, then there exists a polynomial <img src="http://s0.wp.com/latex.php?latex=p%28n%29+%3D+p_0+%2B+p_1+n+%2B+%5Cdots&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="p(n) = p_0 + p_1 n + \dots" class="latex" title="p(n) = p_0 + p_1 n + \dots" /> (of degree <img src="http://s0.wp.com/latex.php?latex=a_I+-+b_J&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_I - b_J" class="latex" title="a_I - b_J" />) such that <img src="http://s0.wp.com/latex.php?latex=%5Cfrac%7B%28a_I%29_n%7D%7B%28b_J%29_n%7D+%3D+p%28n%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\frac{(a_I)_n}{(b_J)_n} = p(n)" class="latex" title="\frac{(a_I)_n}{(b_J)_n} = p(n)" /> and <img src="http://s0.wp.com/latex.php?latex=%7B%7D_p+F_q%5Cleft%28%7Ba_p+%5Catop+b_q%7D+%5Cmiddle%7C+z+%5Cright%29+%3D+%5Cleft%28p_0+%2B+p_1+z%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7B%5Cmathrm%7Bd%7Dz%7D+%2B+p_2+%5Cleft%28z%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7B%5Cmathrm%7Bd%7Dz%7D%5Cright%29%5E2+%2B+%5Cdots+%5Cright%29+%7B%7D_%7Bp-1%7D+F_%7Bq-1%7D%5Cleft%28%7Ba_p%5E%2A+%5Catop+b_q%5E%2A%7D+%5Cmiddle%7C+z+%5Cright%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="{}_p F_q\left({a_p \atop b_q} \middle| z \right) = \left(p_0 + p_1 z\frac{\mathrm{d}}{\mathrm{d}z} + p_2 \left(z\frac{\mathrm{d}}{\mathrm{d}z}\right)^2 + \dots \right) {}_{p-1} F_{q-1}\left({a_p^* \atop b_q^*} \middle| z \right)" class="latex" title="{}_p F_q\left({a_p \atop b_q} \middle| z \right) = \left(p_0 + p_1 z\frac{\mathrm{d}}{\mathrm{d}z} + p_2 \left(z\frac{\mathrm{d}}{\mathrm{d}z}\right)^2 + \dots \right) {}_{p-1} F_{q-1}\left({a_p^* \atop b_q^*} \middle| z \right)" />.</li>
</ul>
<p>Thus any set of parameters <img src="http://s0.wp.com/latex.php?latex=a_p%2C+b_q&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p, b_q" class="latex" title="a_p, b_q" /> is reachable from a set of parameters <img src="http://s0.wp.com/latex.php?latex=c_r%2C+d_s&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="c_r, d_s" class="latex" title="c_r, d_s" /> where <img src="http://s0.wp.com/latex.php?latex=c_i+-+d_j+%5Cin+%5Cmathbb%7BZ%7D&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="c_i - d_j \in \mathbb{Z}" class="latex" title="c_i - d_j \in \mathbb{Z}" /> implies <img src="http://s0.wp.com/latex.php?latex=c_i+%3C+d_j&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="c_i &lt; d_j" class="latex" title="c_i &lt; d_j" />. Such a set of parameters <img src="http://s0.wp.com/latex.php?latex=c_r%2C+d_s&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="c_r, d_s" class="latex" title="c_r, d_s" /> is called <em>suitable</em>. Our database of known formulae should only contain suitable origins. The reasons are twofold: firstly, working from suitable origins is easier, and secondly, a formula for a non-suitable origin can be deduced from a lower order formula, and we should put this one into the database instead.</p>
<h2>Moving Around in the Parameter Space</h2>
<p>It remains to investigate the following question: suppose <img src="http://s0.wp.com/latex.php?latex=a_p%2C+b_q&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p, b_q" class="latex" title="a_p, b_q" /> and <img src="http://s0.wp.com/latex.php?latex=a_p%5E0%2C+b_q%5E0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p^0, b_q^0" class="latex" title="a_p^0, b_q^0" /> are both suitable, and also <img src="http://s0.wp.com/latex.php?latex=a_i+-+a_i%5E0+%5Cin+%5Cmathbb%7BZ%7D&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_i - a_i^0 \in \mathbb{Z}" class="latex" title="a_i - a_i^0 \in \mathbb{Z}" />, <img src="http://s0.wp.com/latex.php?latex=b_j+-+b_j%5E0+%5Cin+%5Cmathbb%7BZ%7D&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b_j - b_j^0 \in \mathbb{Z}" class="latex" title="b_j - b_j^0 \in \mathbb{Z}" />. When is <img src="http://s0.wp.com/latex.php?latex=a_p%2C+b_q&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p, b_q" class="latex" title="a_p, b_q" /> reachable from <img src="http://s0.wp.com/latex.php?latex=a_p%5E0%2C+b_q%5E0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p^0, b_q^0" class="latex" title="a_p^0, b_q^0" />? It is clear that we can treat all parameters independently that are incongruent mod 1. So assume that <img src="http://s0.wp.com/latex.php?latex=a_i&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_i" class="latex" title="a_i" /> and <img src="http://s0.wp.com/latex.php?latex=b_j&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b_j" class="latex" title="b_j" /> are congruent to <img src="http://s0.wp.com/latex.php?latex=r&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="r" class="latex" title="r" /> mod 1, for all <img src="http://s0.wp.com/latex.php?latex=i&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="i" class="latex" title="i" /> and <img src="http://s0.wp.com/latex.php?latex=j&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="j" class="latex" title="j" />. The same then follows for <img src="http://s0.wp.com/latex.php?latex=a_i%5E0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_i^0" class="latex" title="a_i^0" /> and <img src="http://s0.wp.com/latex.php?latex=b_j%5E0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b_j^0" class="latex" title="b_j^0" />.</p>
<p>If <img src="http://s0.wp.com/latex.php?latex=r+%5Cne+0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="r \ne 0" class="latex" title="r \ne 0" />, then <strong>any</strong> such <img src="http://s0.wp.com/latex.php?latex=a_p%2C+b_q&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p, b_q" class="latex" title="a_p, b_q" /> is reachable from <strong>any</strong> <img src="http://s0.wp.com/latex.php?latex=a_p%5E0%2C+b_q%5E0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p^0, b_q^0" class="latex" title="a_p^0, b_q^0" />. To see this notice that there exist constants <img src="http://s0.wp.com/latex.php?latex=c%2C+c%5E0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="c, c^0" class="latex" title="c, c^0" />, congruent mod 1, such that <img src="http://s0.wp.com/latex.php?latex=a_i+%3C+c+%3C+b_j&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_i &lt; c &lt; b_j" class="latex" title="a_i &lt; c &lt; b_j" /> for all <img src="http://s0.wp.com/latex.php?latex=i&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="i" class="latex" title="i" /> and <img src="http://s0.wp.com/latex.php?latex=j&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="j" class="latex" title="j" />, and similarly <img src="http://s0.wp.com/latex.php?latex=a_i%5E0+%3C+c%5E0+%3C+b_j%5E0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_i^0 &lt; c^0 &lt; b_j^0" class="latex" title="a_i^0 &lt; c^0 &lt; b_j^0" />. If <img src="http://s0.wp.com/latex.php?latex=n+%3D+c+-+c%5E0+%3E+0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="n = c - c^0 &gt; 0" class="latex" title="n = c - c^0 &gt; 0" /> then we first inverse-shift all the <img src="http://s0.wp.com/latex.php?latex=b_j%5E0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b_j^0" class="latex" title="b_j^0" /> <img src="http://s0.wp.com/latex.php?latex=n&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="n" class="latex" title="n" /> times up, and then similarly shift shift up all the <img src="http://s0.wp.com/latex.php?latex=a_i%5E0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_i^0" class="latex" title="a_i^0" /> <img src="http://s0.wp.com/latex.php?latex=n&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="n" class="latex" title="n" /> times. If <img src="http://s0.wp.com/latex.php?latex=n+%3C+0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="n &lt; 0" class="latex" title="n &lt; 0" /> then we first inverse-shift down the <img src="http://s0.wp.com/latex.php?latex=a_i%5E0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_i^0" class="latex" title="a_i^0" /> and then shift down the <img src="http://s0.wp.com/latex.php?latex=b_j%5E0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b_j^0" class="latex" title="b_j^0" />. This reduces to the case <img src="http://s0.wp.com/latex.php?latex=c+%3D+c%5E0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="c = c^0" class="latex" title="c = c^0" />. But evidently we can now shift or inverse-shift around the <img src="http://s0.wp.com/latex.php?latex=a_i%5E0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_i^0" class="latex" title="a_i^0" /> arbitrarily so long as we keep them less than <img src="http://s0.wp.com/latex.php?latex=c&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="c" class="latex" title="c" />, and similarly for the <img src="http://s0.wp.com/latex.php?latex=b_j%5E0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b_j^0" class="latex" title="b_j^0" /> so long as we keep them bigger than <img src="http://s0.wp.com/latex.php?latex=c&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="c" class="latex" title="c" />. Thus <img src="http://s0.wp.com/latex.php?latex=a_p%2C+b_q&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p, b_q" class="latex" title="a_p, b_q" /> is reachable from <img src="http://s0.wp.com/latex.php?latex=a_p%5E0%2C+b_q%5E0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p^0, b_q^0" class="latex" title="a_p^0, b_q^0" />.</p>
<p>If <img src="http://s0.wp.com/latex.php?latex=r+%3D+0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="r = 0" class="latex" title="r = 0" /> then the problem is slightly more involved. WLOG no parameter is zero. We now have one additional complication: no parameter can ever move through zero. Hence <img src="http://s0.wp.com/latex.php?latex=a_p%2C+b_q&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p, b_q" class="latex" title="a_p, b_q" /> is reachable from <img src="http://s0.wp.com/latex.php?latex=a_p%5E0%2C+b_q%5E0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p^0, b_q^0" class="latex" title="a_p^0, b_q^0" /> if and only if the number of <img src="http://s0.wp.com/latex.php?latex=a_i+%3C+0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_i &lt; 0" class="latex" title="a_i &lt; 0" /> equals the number of <img src="http://s0.wp.com/latex.php?latex=a_i%5E0+%3C+0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_i^0 &lt; 0" class="latex" title="a_i^0 &lt; 0" />, and similarly for the <img src="http://s0.wp.com/latex.php?latex=b_i&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b_i" class="latex" title="b_i" /> and <img src="http://s0.wp.com/latex.php?latex=b_i%5E0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b_i^0" class="latex" title="b_i^0" />. But in a suitable set of parameters, all <img src="http://s0.wp.com/latex.php?latex=b_j+%3E+0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b_j &gt; 0" class="latex" title="b_j &gt; 0" />! This is because the Hypergeometric function is undefined if one of the <img src="http://s0.wp.com/latex.php?latex=b_j&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b_j" class="latex" title="b_j" /> is a non-positive integer and all <img src="http://s0.wp.com/latex.php?latex=a_i&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_i" class="latex" title="a_i" /> are smaller than the <img src="http://s0.wp.com/latex.php?latex=b_j&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b_j" class="latex" title="b_j" />. Hence the number of <img src="http://s0.wp.com/latex.php?latex=b_j+%5Cle+0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b_j \le 0" class="latex" title="b_j \le 0" /> is always zero.</p>
<p>We can thus associate to every suitable set of parameters <img src="http://s0.wp.com/latex.php?latex=a_p%2C+b_q&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p, b_q" class="latex" title="a_p, b_q" />, where no <img src="http://s0.wp.com/latex.php?latex=a_i+%3D+0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_i = 0" class="latex" title="a_i = 0" />, the following invariants:</p>
<ul>
<li>For every <img src="http://s0.wp.com/latex.php?latex=r+%5Cin+%5B0%2C+1%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="r \in [0, 1)" class="latex" title="r \in [0, 1)" /> the number <img src="http://s0.wp.com/latex.php?latex=%5Calpha_r&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\alpha_r" class="latex" title="\alpha_r" /> of parameters <img src="http://s0.wp.com/latex.php?latex=a_i+%5Cequiv+r+%5Cpmod%7B1%7D&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_i \equiv r \pmod{1}" class="latex" title="a_i \equiv r \pmod{1}" />, and similarly the number <img src="http://s0.wp.com/latex.php?latex=%5Cbeta_r&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\beta_r" class="latex" title="\beta_r" /> of parameters <img src="http://s0.wp.com/latex.php?latex=b_i+%5Cequiv+r+%5Cpmod%7B1%7D&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="b_i \equiv r \pmod{1}" class="latex" title="b_i \equiv r \pmod{1}" />.</li>
<li>The number <img src="http://s0.wp.com/latex.php?latex=%5Cgamma&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\gamma" class="latex" title="\gamma" /> of integers <img src="http://s0.wp.com/latex.php?latex=a_i&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_i" class="latex" title="a_i" /> with <img src="http://s0.wp.com/latex.php?latex=a_i+%3C+0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_i &lt; 0" class="latex" title="a_i &lt; 0" />.</li>
</ul>
<p>The above reasoning shows that <img src="http://s0.wp.com/latex.php?latex=a_p%2C+b_q&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p, b_q" class="latex" title="a_p, b_q" /> is reachable from <img src="http://s0.wp.com/latex.php?latex=a_p%5E0%2C+b_q%5E0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_p^0, b_q^0" class="latex" title="a_p^0, b_q^0" /> if and only if the invariants <img src="http://s0.wp.com/latex.php?latex=%5Calpha_r%2C+%5Cbeta_r%2C+%5Cgamma&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\alpha_r, \beta_r, \gamma" class="latex" title="\alpha_r, \beta_r, \gamma" /> all agree. Thus in particular “being reachable from” is a symmetric relation on suitable parameters without zeros.</p>
<h2>Applying the Operators</h2>
<p>If all goes well then for a given set of parameters we find an origin in our database for which we have a nice formula. We now have to apply (potentially) many differential operators to it. If we do this blindly then the result will be very messy. This is because with Hypergeometric type functions, the derivative is usually expressed as a sum of two contiguous functions. Hence if we compute <img src="http://s0.wp.com/latex.php?latex=N&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="N" class="latex" title="N" /> derivatives, then the answer will involve <img src="http://s0.wp.com/latex.php?latex=2N&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="2N" class="latex" title="2N" /> contiguous functions! This is clearly undesirable. In fact we know from the Hypergeometric differential equation that we need at most <img src="http://s0.wp.com/latex.php?latex=%5Cmax%28p%2C+q%2B1%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\max(p, q+1)" class="latex" title="\max(p, q+1)" /> contiguous functions to express all derivatives.</p>
<p>Hence instead of differentiating blindly, we will work with a <img src="http://s0.wp.com/latex.php?latex=%5Cmathbb%7BC%7D%28z%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\mathbb{C}(z)" class="latex" title="\mathbb{C}(z)" />-module basis: for an origin <img src="http://s0.wp.com/latex.php?latex=a_r%5E0%2C+b_s%5E0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a_r^0, b_s^0" class="latex" title="a_r^0, b_s^0" /> we either store (for particularly pretty answers) or compute a set of <img src="http://s0.wp.com/latex.php?latex=N&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="N" class="latex" title="N" /> functions (typically <img src="http://s0.wp.com/latex.php?latex=N+%3D+%5Cmax%28r%2C+s%2B1%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="N = \max(r, s+1)" class="latex" title="N = \max(r, s+1)" />) with the property that the derivative of any of them is a <img src="http://s0.wp.com/latex.php?latex=%5Cmathbb%7BC%7D%28z%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\mathbb{C}(z)" class="latex" title="\mathbb{C}(z)" />-linear combination of them. In formulae, we store a vector <img src="http://s0.wp.com/latex.php?latex=B&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="B" class="latex" title="B" /> of <img src="http://s0.wp.com/latex.php?latex=N&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="N" class="latex" title="N" /> functions, a matrix <img src="http://s0.wp.com/latex.php?latex=M&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="M" class="latex" title="M" /> and a vector <img src="http://s0.wp.com/latex.php?latex=C&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="C" class="latex" title="C" /> (the latter two with entries in <img src="http://s0.wp.com/latex.php?latex=%5Cmathbb%7BC%7D%28z%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\mathbb{C}(z)" class="latex" title="\mathbb{C}(z)" />), with the following properties:</p>
<ul>
<li><img src="http://s0.wp.com/latex.php?latex=%7B%7D_r+F_s%5Cleft%28%7Ba_r%5E0+%5Catop+b_s%5E0%7D+%5Cmiddle%7C+z+%5Cright%29+%3D+C+B&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="{}_r F_s\left({a_r^0 \atop b_s^0} \middle| z \right) = C B" class="latex" title="{}_r F_s\left({a_r^0 \atop b_s^0} \middle| z \right) = C B" /></li>
<li><img src="http://s0.wp.com/latex.php?latex=%5Cfrac%7B%5Cmathrm%7Bd%7D%7D%7B%5Cmathrm%7Bd%7Dz%7D+B+%3D+M+B&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\frac{\mathrm{d}}{\mathrm{d}z} B = M B" class="latex" title="\frac{\mathrm{d}}{\mathrm{d}z} B = M B" />.</li>
</ul>
<p>Then we can compute as many derivatives as we want and we will always end up with <img src="http://s0.wp.com/latex.php?latex=%5Cmathbb%7BC%7D%28z%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\mathbb{C}(z)" class="latex" title="\mathbb{C}(z)" />-linear combination of at most <img src="http://s0.wp.com/latex.php?latex=N&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="N" class="latex" title="N" /> special functions.</p>
<p>As hinted above, <img src="http://s0.wp.com/latex.php?latex=B&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="B" class="latex" title="B" />, <img src="http://s0.wp.com/latex.php?latex=M&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="M" class="latex" title="M" /> and <img src="http://s0.wp.com/latex.php?latex=C&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="C" class="latex" title="C" /> can either all be stored (for particularly pretty answers) or computed from a single <img src="http://s0.wp.com/latex.php?latex=%7B%7D_p+F_q&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="{}_p F_q" class="latex" title="{}_p F_q" /> formula.</p>
<br />  <a href="http://feeds.wordpress.com/1.0/gocomments/nessgrh.wordpress.com/29/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/nessgrh.wordpress.com/29/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godelicious/nessgrh.wordpress.com/29/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/delicious/nessgrh.wordpress.com/29/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gofacebook/nessgrh.wordpress.com/29/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/facebook/nessgrh.wordpress.com/29/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gotwitter/nessgrh.wordpress.com/29/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/twitter/nessgrh.wordpress.com/29/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gostumble/nessgrh.wordpress.com/29/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/stumble/nessgrh.wordpress.com/29/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godigg/nessgrh.wordpress.com/29/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/digg/nessgrh.wordpress.com/29/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/goreddit/nessgrh.wordpress.com/29/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/reddit/nessgrh.wordpress.com/29/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=nessgrh.wordpress.com&amp;blog=22546379&amp;post=29&amp;subd=nessgrh&amp;ref=&amp;feed=1" alt="" height="1" border="0" width="1" /></div>







<p class="date">
<a href="http://nessgrh.wordpress.com/2011/05/07/finding-hypergeometric-function-expressions/">by nessgrh at May 07, 2011 10:58 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>May 04, 2011</h2>

<div class="channelgroup">







<h3><a href="http://fseoane.net/blog" title="F. Pedregosa">Fabian Pedregosa</a></h3>


<div class="entrygroup" id="http://fseoane.net/blog/?p=755">
<h4 lang="en"><a href="http://fseoane.net/blog/2011/handwritten-digits-and-locally-linear-embedding/">Handwritten digits and Locally Linear Embedding</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>I decided to test my <a href="http://fseoane.net/blog/2011/locally-linear-embedding-and-sparse-eigensolvers/">new Locally Linear Embedding (LLE)</a> implementation against a real dataset. At first I didn’t think this would turn out very well, since LLE seems to be somewhat fragile, yielding largely different results for small differences in parameters such as number of neighbors or tolerance, but as it turns out, results are not bad at all.</p>
<p>The idea is to take a handwritten digit, stored as a 8×8 pixel image and flatten it into a an array of 8×8 = 64 floating-point values.</p>
<p><a href="http://fseoane.net/blog/wp-content/uploads/2011/05/digits_transformation1.png"><img src="http://fseoane.net/blog/wp-content/uploads/2011/05/digits_transformation1.png" alt="" title="digits_transformation" class="aligncenter size-full wp-image-786" width="350" /></a></p>
<p>Then each handwritten digit can be seen as a point in a 64-dimensional space. Of course, visualizing in 64-dimensional spaces is not easy, and that’s where <a href="http://fseoane.net/blog/2011/locally-linear-embedding-and-sparse-eigensolvers/">Locally Linear Embedding</a> comes handy. We’ll use this method to reduce the dimension from 64 to 2 with the hope of preserving most of the underlying manifold structure. The following is a plot of the handwritten digits {0, 1, 2, 3, 4} after performing locally linear embedding. As you can see, some groups are nicely clustered, notably the 0 is isolated while other like {4, 5} are closer, precisely those that are more similar.</p>
<p><a href="http://fseoane.net/blog/wp-content/uploads/2011/05/Picture-1.png"><img src="http://fseoane.net/blog/wp-content/uploads/2011/05/Picture-1.png" alt="" title="Digitst and Locally Linear Embedding" class="aligncenter size-full wp-image-757" width="500" /></a></p>
<p>Source code for this example <a href="https://gist.github.com/954815">can be found here</a> but relies on my manifold branch of scikit-learn. </p></div>







<p class="date">
<a href="http://fseoane.net/blog/2011/handwritten-digits-and-locally-linear-embedding/">by fabian at May 04, 2011 08:46 AM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://lazovichsympy.wordpress.com" title="Tomo Lazovich's SymPy Blog">Tomo Lazovich</a></h3>


<div class="entrygroup" id="http://lazovichsympy.wordpress.com/?p=1">
<h4 lang="en"><a href="http://lazovichsympy.wordpress.com/2011/05/04/hello-world/">Intro!</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>This is the blog where I will post about my fun summer working for SymPy as part of GSoC 2011. See my project proposal here: https://github.com/sympy/sympy/wiki/GSoC-2011-Application-Tomo-Lazovich%3A-Position-and-Momentum-Bases-for-QM</p>
<br />  <a href="http://feeds.wordpress.com/1.0/gocomments/lazovichsympy.wordpress.com/1/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/lazovichsympy.wordpress.com/1/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godelicious/lazovichsympy.wordpress.com/1/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/delicious/lazovichsympy.wordpress.com/1/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gofacebook/lazovichsympy.wordpress.com/1/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/facebook/lazovichsympy.wordpress.com/1/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gotwitter/lazovichsympy.wordpress.com/1/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/twitter/lazovichsympy.wordpress.com/1/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gostumble/lazovichsympy.wordpress.com/1/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/stumble/lazovichsympy.wordpress.com/1/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godigg/lazovichsympy.wordpress.com/1/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/digg/lazovichsympy.wordpress.com/1/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/goreddit/lazovichsympy.wordpress.com/1/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/reddit/lazovichsympy.wordpress.com/1/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=lazovichsympy.wordpress.com&amp;blog=22774068&amp;post=1&amp;subd=lazovichsympy&amp;ref=&amp;feed=1" alt="" height="1" border="0" width="1" /></div>







<p class="date">
<a href="http://lazovichsympy.wordpress.com/2011/05/04/hello-world/">by lazovich at May 04, 2011 03:27 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>May 01, 2011</h2>

<div class="channelgroup">







<h3><a href="http://gilbertgede.wordpress.com" title="gilbertgede">Gilbert Gede</a></h3>


<div class="entrygroup" id="http://gilbertgede.wordpress.com/?p=5">
<h4 lang="en"><a href="http://gilbertgede.wordpress.com/2011/05/01/hello-wordpress/">Hello, WordPress</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>I hope this does a good job setting the tone for my blog.</p>
<p><a href="http://gilbertgede.files.wordpress.com/2011/04/yo_dawg_unittest.png"><img src="http://gilbertgede.files.wordpress.com/2011/04/yo_dawg_unittest.png?w=400&amp;h=266" title="yo_dawg_unittest" height="266" width="400" alt="" class="alignnone size-full wp-image-6" /></a></p>
<p>On a more serious note, this is where I will be posting my GSoC 2011 work for Sympy.</p>
<br />  <a href="http://feeds.wordpress.com/1.0/gocomments/gilbertgede.wordpress.com/5/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/gilbertgede.wordpress.com/5/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godelicious/gilbertgede.wordpress.com/5/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/delicious/gilbertgede.wordpress.com/5/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gofacebook/gilbertgede.wordpress.com/5/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/facebook/gilbertgede.wordpress.com/5/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gotwitter/gilbertgede.wordpress.com/5/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/twitter/gilbertgede.wordpress.com/5/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gostumble/gilbertgede.wordpress.com/5/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/stumble/gilbertgede.wordpress.com/5/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godigg/gilbertgede.wordpress.com/5/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/digg/gilbertgede.wordpress.com/5/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/goreddit/gilbertgede.wordpress.com/5/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/reddit/gilbertgede.wordpress.com/5/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=gilbertgede.wordpress.com&amp;blog=22677911&amp;post=5&amp;subd=gilbertgede&amp;ref=&amp;feed=1" alt="" height="1" border="0" width="1" /></div>







<p class="date">
<a href="http://gilbertgede.wordpress.com/2011/05/01/hello-wordpress/">by gilbertgede at May 01, 2011 12:03 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>April 27, 2011</h2>

<div class="channelgroup">







<h3><a href="http://asmeurersympy.wordpress.com" title="Aaron Meurer's SymPy Blog">Aaron Meurer</a></h3>


<div class="entrygroup" id="http://asmeurersympy.wordpress.com/?p=845">
<h4 lang="en"><a href="http://asmeurersympy.wordpress.com/2011/04/27/advice-for-future-prospective-gsoc-students/">Advice for Future Prospective GSoC Students</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>So now that Google has <a href="http://asmeurersympy.wordpress.com/2011/04/27/accepted-gsoc-students-announced/">announced the results</a> of Google Summer of Code, I want to write down some general things that I noticed when reviewing applications while they are still fresh in my mind.  </p>
<p>Note that none of these things apply to any specific student who applied to SymPy.  Many of these things are things that I noticed that people did right.  </p>
<p>Most of this should apply to any organization, though some of them might be SymPy specific, since that is the lens that I am viewing this through.  These aren’t really in any particular order.  </p>
<ol>
<li><strong>Fulfill all the requirements.</strong> This is kind of a no brainer, and as it turns out, almost all students who applied to SymPy did indeed do this.  For SymPy, this means that you should submit a patch by the deadline. Other organizations might have other requirements.  If you don’t fulfill the requirements, it doesn’t matter how good your application is; you won’t be eligible and hence won’t be accepted.</li>
<li><strong>Discuss your proposal on the mailing list.</strong> A proposal submitted out of the blue has a poor chance of being accepted.  First, we like to see that you will be involved in the community, and if you don’t discuss the proposal at all, it shows badly.  Second, it is very likely that we will not like something about your proposal, or will have questions (see the next point).  If you don’t discuss it at all, you are making a shot in the dark.  Even if the proposal is good, it could be rejected simply because it’s not something that we feel that we want. And you don’t want to accidentally submit a proposal to do something that has already been implemented.
<p>It’s important to discuss it on the public mailing list, not just with a specific mentor.  Even if that mentor is the expert on your project subject and would likely be the person to mentor you if you are accepted, you need to remember that all the mentors review the proposals and decide who to accept.   Also, this year for SymPy, we are trying to put an emphasis on students doing things publicly with the whole community, instead of just with their mentors.</p></li>
<li><strong>Ask the mentors for advice on your proposal, and then follow it.</strong> Again, most students who applied to SymPy were good on this one too.  We request that all students put their proposals on the GitHub wiki, so that the mentors can take a look at them and give advice.  If you feel uncomfortable putting your application in a public place, send it to some mentors privately.
<p>But the most important thing here is to actually follow any advice that the mentors give you.  If they tell you that you should expand your timeline section, you should expand your timeline section.  If they tell you you should discuss the implementation more, you should do that (see the next point).  If you don’t follow the advice, it looks to the mentor like you didn’t listen to him, which doesn’t make you appear like a good candidate for acceptance.  Also, the things that they tell you to improve will tend to be the things that they will look at when reviewing your proposal.  </p></li>
<li><strong>Don’t just discuss the theory.</strong> I suspect that this may be more of a problem with SymPy than for other organizations, because SymPy is very math based, so many of the proposals to SymPy involve complex mathematics. One of the biggest issues I saw in proposals was that students discussed the theory of what they wanted to implement too much and not enough of the actual implementation. It’s easy to do this, but discussing the implementation is actually more important than the theory of what you want to do.
<p>An easy way to do this is to give a “fake” example session showing how your code might work after it is completed.  For example, if you were writing a proposal for a PDE solver, you might include something like</p>
<pre class="brush: python;">&gt;&gt;&gt; u = Function('u')
&gt;&gt;&gt; # Solve the Heat Equation in one dimension
&gt;&gt;&gt; pdesolve(u(x, t).diff(t) - c**2*u(x, t).diff(x, x), u(x), {u(x, 0):f(x), u(0, t):0, u(0, pi):0}, method='separation of variables')
2/pi*Sum(Integral(f(x)*sin(n*x), x)*sin(n*x)*exp(-n**2*c**2*t), (n, 1, oo))
&gt;&gt;&gt; # Use Fourier Transforms to get d'Alembert's Solution to the Wave Equation
&gt;&gt;&gt; …
</pre>
<p>in your proposal.  Just saying “I plan to implement solvers for PDEs using separation of variables and Fourier Transforms” tells us only what we already know, which is that you can solve PDEs using separation of variables and Fourier Transforms.  What we don’t know is how it will look.  The above example shows how the PDE, initial/boundary conditions, and method are entered by the user, and how the output looks.  </p>
<p>A more advanced thing that you can do is to give actual prototype code. This is not required, but it can show that you are dedicated enough to get a start, and can demonstrate how things will work for more complicated projects.</p></li>
<li><strong>But theory is important too.</strong> This might also be a problem more in SymPy, but maybe not.  The mathematical backgrounds of SymPy developers ranges quite a bit.  For example, I know a lot about the complicated Risch Algorithm for symbolic integration that the majority of people (even among SymPy developers) know hardly anything about, but I know basically nothing about quantum mechanics.  So that more mentors can have a chance to even have a clue about what you are talking about when they are reviewing your proposal, you should try to explain things to a general audience, at least in the introduction of your proposal.  It can also help to explain why your project would be useful, so that even if someone doesn’t know what it is, they can see why it would be nice to have.  This doesn’t mean that you should sacrifice details by dumbing everything down.  There’s a pretty good chance that someone will understand what you are talking about in your specifics, but you should also explain things from the other end.
<p>If you are implementing a specific algorithm, maybe you could give a brief overview of the algorithm.  This will not only explain things to the mentors who might not know how it works, but also it shows that you know how it works too.</p></li>
<li><strong>Be involved in the community.</strong> We understand that students have classes during the application period, but the more you involve yourself in the community beyond the patch requirement (or whatever requirement some other org might have), the better your chances of being accepted. Every org has to take risks accepting students, because there is always the chance that they will fail.  This is not good for anyone: the student doesn’t get paid the full stipend and the organization looses not only the project that would have been implemented, but also the slot that they could have given to someone who wouldn’t have failed.  Involving yourself in the community early is the best way to show the community that you are a low risk for failure.</li>
<li><strong>The proposal is the most important thing.</strong> But don’t assume that just because you are involved in the community that you will be accepted.  The most important thing is the proposal.  If you don’t have a good proposal, we will not even consider the rest of your activity.  So you should focus most of your energy on writing a high quality proposal.  The quality of the patch and your involvement in the community are secondary considerations after the quality of the proposal.  These might be used to narrow down the list of good proposals to fit the number of slots Google gives us and the number of mentors we have available, but the first phase is always to narrow down the list based on the quality of the proposals.</li>
<li><strong>Use a consistant nickname, preferably one based on your real name.</strong>  This is something that I think most people do not realize.  If your real name is John Smith, and your IRC nick, GitHub handle, Google Code handle, and GSoC link_id are all jsmith, it makes it very easy for me to associate in my mind: “OK, that person who just submitted that patch is the same person I talked to on IRC last week, and I remember reading his proposal on google-melange.com.”  But if your real name is John Smith, your IRC nick is freebird, your GitHub handle is mr.nice, your Google Code handle is smithy, and your link_id on google-melange.com is johnhsmith, I can have a very hard time associating your work in one place with your work in another (my apologies if those are anybodys’ real nicknames; I just made them up to make the point here).  Maybe you actually have been very active in the IRC channel, but it is hard for me to realize that based on your nick vs. your real name.  This year for SymPy, we had 25 applications by 25 students.  None of these students were members of the SymPy community a few months ago.  It’s very hard for the other mentors and I to keep track of which nicknames associate with which people, and in the end, we may mistakenly believe that you haven’t done as much as you really have.  Your best bet is to use one nickname everywhere, and to make it based on your real name, so that we can easily tell who it is even based on the nickname.  If your name is common enough that no one permutation is guaranteed to be available everywhere, at least try to be consistent with your nickname, or just use different permutations of your real name based on what site you are on.</li>
</ol>
<p>That’s all I can think of for now.  I kind of wish I had thought of two more, so I could make it “Ten pieces of advice,” but whatever.  If any SymPy mentors or mentors from other projects feel that something is missing, I would love to hear about it in the comments.</p>
<br />  <a href="http://feeds.wordpress.com/1.0/gocomments/asmeurersympy.wordpress.com/845/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/asmeurersympy.wordpress.com/845/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godelicious/asmeurersympy.wordpress.com/845/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/delicious/asmeurersympy.wordpress.com/845/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gofacebook/asmeurersympy.wordpress.com/845/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/facebook/asmeurersympy.wordpress.com/845/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gotwitter/asmeurersympy.wordpress.com/845/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/twitter/asmeurersympy.wordpress.com/845/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gostumble/asmeurersympy.wordpress.com/845/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/stumble/asmeurersympy.wordpress.com/845/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godigg/asmeurersympy.wordpress.com/845/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/digg/asmeurersympy.wordpress.com/845/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/goreddit/asmeurersympy.wordpress.com/845/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/reddit/asmeurersympy.wordpress.com/845/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=asmeurersympy.wordpress.com&amp;blog=7467151&amp;post=845&amp;subd=asmeurersympy&amp;ref=&amp;feed=1" alt="" height="1" border="0" width="1" /></div>







<p class="date">
<a href="http://asmeurersympy.wordpress.com/2011/04/27/advice-for-future-prospective-gsoc-students/">by asmeurer at April 27, 2011 09:15 PM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://sympy.blogspot.com/" title="Official SymPy blog">Official SymPy blog</a></h3>


<div class="entrygroup" id="tag:blogger.com,1999:blog-2520472460430880330.post-775661391652616507">
<h4><a href="http://sympy.blogspot.com/2011/04/accepted-gsoc-students-announced.html">Accepted GSoC Students Announced</a></h4>
<div class="entry">
<div class="content">
<div>So Google has announced the results of <a href="http://www.google-melange.com/gsoc/homepage/google/gsoc2011">Google Summer of Code</a>. I am proud to announce that we got nine slots from Google.  The following projects have been accepted: </div><div><br /></div><div><em>(Project, Student, Mentor, Link to proposal on the wiki) </em></div><em></em><div></div><div><ul><li>Definite Integration using Meijer G-functions, Tom Bachmann, Aaron Meurer, <a href="https://github.com/sympy/sympy/wiki/GSoC-2011-Application-Tom-Bachmann%3A-Definite-Integration">Proposal</a></li><li>PyDy, Gilbert Gede, Luke Peterson, <a href="https://github.com/sympy/sympy/wiki/GSoC-2011-Application-Gilbert-Gede%3A-PyDy">Proposal</a></li><li>Position and Momentum Bases for Quantum Mechanics, Tomo Lazovich, Brian Granger, <a href="https://github.com/sympy/sympy/wiki/GSoC-2011-Application-Tomo-Lazovich%3A-Position-and-Momentum-Bases-for-QM">Proposal</a></li><li>Combinatorics package for Sympy, Saptarshi Mandal, Christian Muise, <a href="https://github.com/sympy/sympy/wiki/GSoC-2011-Application-Saptarshi-Mandal">Proposal</a></li><li>Symbolic Linear Algebra, Sherjil Ozair, Vinzent Steinberg, <a href="https://github.com/sympy/sympy/wiki/GSoC-2011-Application-Sherjil-Ozair:-Symbolic-Linear-Algebra">Proposal</a></li><li>Porting to Python 3, Vladimir Perić, Ronan Lamy, <a href="https://github.com/sympy/sympy/wiki/GSoC-2011-Application%3A-Vladimir-Peri%C4%87%3A-Porting-to-Python-3">Proposal</a></li><li>SymPy Stats: Random Variables, Matthew Rocklin, Andy Terrel, <a href="https://github.com/sympy/sympy/wiki/GSoC-2011-Application-Matthew-Rocklin%3A-Random-Variables">Proposal</a></li><li>Symbolic Clebsch-Gordon coefficients/Wigner symbols and Implementing Addition of Spin Angular Momenta, Sean Vig, Ondřej Čertík, <a href="https://github.com/sympy/sympy/wiki/GSoC%202011%20Application%20Sean%20Vig">Proposal</a></li><li>Implementing F5, Jeremias Yehdegho, Mateusz Paprocki, <a href="https://github.com/sympy/sympy/wiki/GSoC-2011-Application-Jeremias-Yehdegho%3A-Implementing-F5">Proposal</a></li></ul></div><div><br /></div><div>Join me in congratulating these students on their acceptance.   </div><div>In case you don't know for some reason, Google Summer of Code is a program where Google pays students to write code for open source projects.  SymPy was accepted as a mentoring organization this year.  The goal of the summer is to help the students learn new skills, in particular in our case: </div><div><ul><li> contributing to open source </li><li> working with the community </li><li> learn git, pull requests, reviews </li><li> teach them how to review other's people patches </li><li> do useful work for SymPy </li><li> have fun, and encourage the students to stay around </li></ul></div><div><br /></div><div>Also see the <a href="http://sympy.blogspot.com/2011/03/sympy-is-google-summer-of-code-2011.html">previous blog post</a> about it.</div><div class="blogger-post-footer"><img src="https://blogger.googleusercontent.com/tracker/2520472460430880330-775661391652616507?l=sympy.blogspot.com" alt="" height="1" width="1" /></div></div>







<p class="date">
<a href="http://sympy.blogspot.com/2011/04/accepted-gsoc-students-announced.html">by Aaron Meurer (asmeurer@gmail.com) at April 27, 2011 07:46 PM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://asmeurersympy.wordpress.com" title="Aaron Meurer's SymPy Blog">Aaron Meurer</a></h3>


<div class="entrygroup" id="http://asmeurersympy.wordpress.com/?p=838">
<h4 lang="en"><a href="http://asmeurersympy.wordpress.com/2011/04/27/accepted-gsoc-students-announced/">Accepted GSoC Students Announced</a></h4>
<div class="entry">
<div class="content" lang="en">
<p><em>(Cross posted on the <a href="http://sympy.blogspot.com/2011/04/accepted-gsoc-students-announced.html">Official SymPy Blog</a>)</em><br />
So Google has announced the results of <a href="http://www.google-melange.com/gsoc/homepage/google/gsoc2011">Google Summer of Code</a>. I am proud to announce that we got nine slots from Google.  The following projects have been accepted: </p>
<p><em>(Project, Student, Mentor, Link to proposal on the wiki)<br />
</em>- Definite Integration using Meijer G-functions, Tom Bachmann, Aaron Meurer, <a href="https://github.com/sympy/sympy/wiki/GSoC-2011-Application-Tom-Bachmann%3A-Definite-Integration">Proposal</a><br />
- PyDy, Gilbert Gede, Luke Peterson, <a href="https://github.com/sympy/sympy/wiki/GSoC-2011-Application-Gilbert-Gede%3A-PyDy">Proposal</a><br />
- Position and Momentum Bases for Quantum Mechanics, Tomo Lazovich, Brian Granger, <a href="https://github.com/sympy/sympy/wiki/GSoC-2011-Application-Tomo-Lazovich%3A-Position-and-Momentum-Bases-for-QM">Proposal</a><br />
- Combinatorics package for Sympy, Saptarshi Mandal, Christian Muise, <a href="https://github.com/sympy/sympy/wiki/GSoC-2011-Application-Saptarshi-Mandal">Proposal</a><br />
- Symbolic Linear Algebra, Sherjil Ozair, Vinzent Steinberg, <a href="https://github.com/sympy/sympy/wiki/GSoC-2011-Application-Sherjil-Ozair:-Symbolic-Linear-Algebra">Proposal</a><br />
- Porting to Python 3, Vladimir Perić, Ronan Lamy, <a href="https://github.com/sympy/sympy/wiki/GSoC-2011-Application%3A-Vladimir-Perić%3A-Porting-to-Python-3">Proposal</a><br />
- SymPy Stats: Random Variables, Matthew Rocklin, Andy Terrel, <a href="https://github.com/sympy/sympy/wiki/GSoC-2011-Application-Matthew-Rocklin%3A-Random-Variables">Proposal</a><br />
- Symbolic Clebsch-Gordon coefficients/Wigner symbols and Implementing Addition of Spin Angular Momenta, Sean Vig, Ondřej Čertík, <a href="https://github.com/sympy/sympy/wiki/GSoC%202011%20Application%20Sean%20Vig">Proposal</a><br />
- Implementing F5, Jeremias Yehdegho, Mateusz Paprocki, <a href="https://github.com/sympy/sympy/wiki/GSoC-2011-Application-Jeremias-Yehdegho%3A-Implementing-F5">Proposal</a></p>
<p>Join me in congratulating these students on their acceptance.<br />
In case you don’t know for some reason, Google Summer of Code is a program where Google pays students to write code for open source projects.  SymPy was accepted as a mentoring organization this year.  The goal of the summer is to help the students learn new skills, in particular in our case:<br />
* contributing to open source<br />
* working with the community<br />
* learn git, pull requests, reviews<br />
* teach them how to review other’s people patches<br />
* do useful work for SymPy<br />
* have fun, and encourage the students to stay around </p>
<p>Also see my <a href="http://asmeurersympy.wordpress.com/2011/03/18/sympy-is-a-google-summer-of-code-2011-mentoring-organization/">previous blog post</a> about it.</p>
<br />  <a href="http://feeds.wordpress.com/1.0/gocomments/asmeurersympy.wordpress.com/838/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/asmeurersympy.wordpress.com/838/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godelicious/asmeurersympy.wordpress.com/838/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/delicious/asmeurersympy.wordpress.com/838/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gofacebook/asmeurersympy.wordpress.com/838/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/facebook/asmeurersympy.wordpress.com/838/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gotwitter/asmeurersympy.wordpress.com/838/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/twitter/asmeurersympy.wordpress.com/838/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gostumble/asmeurersympy.wordpress.com/838/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/stumble/asmeurersympy.wordpress.com/838/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godigg/asmeurersympy.wordpress.com/838/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/digg/asmeurersympy.wordpress.com/838/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/goreddit/asmeurersympy.wordpress.com/838/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/reddit/asmeurersympy.wordpress.com/838/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=asmeurersympy.wordpress.com&amp;blog=7467151&amp;post=838&amp;subd=asmeurersympy&amp;ref=&amp;feed=1" alt="" height="1" border="0" width="1" /></div>







<p class="date">
<a href="http://asmeurersympy.wordpress.com/2011/04/27/accepted-gsoc-students-announced/">by asmeurer at April 27, 2011 07:45 PM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://fseoane.net/blog" title="F. Pedregosa">Fabian Pedregosa</a></h3>


<div class="entrygroup" id="http://fseoane.net/blog/?p=546">
<h4 lang="en"><a href="http://fseoane.net/blog/2011/low-level-routines-for-support-vector-machines/">Low-level routines for Support Vector Machines</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>I’ve been working lately in improving the low-level API of the libsvm bindings in scikit-learn. The goal is to provide an API that encourages an efficient use of these libraries for expert users.</p>
<p>These are methods that have lower overhead than the <a href="http://scikit-learn.sourceforge.net/modules/svm.html">object-oriented interface</a> as they are closer to the C implementation, but do not have an interface as polished. Here, all parameters are expected to be of the correct type, and submitting one of the wrong type will make the function exit immediately with a ValueError. For instance, input data is expected to be of type float64, even for class labels!</p>
<p>Another peculiarity of these methods is that they only take and return numpy arrays. No custom objects, all method take and return arrays. That looks something like:</p>
<div style="overflow: auto; white-space: nowrap; width: 435px;" class="codecolorer-container python default"><div style="" class="python codecolorer"><span style="color: #ff7700; font-weight: bold;">import</span> numpy <span style="color: #ff7700; font-weight: bold;">as</span> np<br />
<span style="color: #ff7700; font-weight: bold;">from</span> scikits.<span style="color: black;">learn</span> <span style="color: #ff7700; font-weight: bold;">import</span> svm, datasets<br />
<br />
iris = datasets.<span style="color: black;">load_iris</span><span style="color: black;">(</span><span style="color: black;">)</span><br />
iris.<span style="color: black;">target</span> = iris.<span style="color: black;">target</span>.<span style="color: black;">astype</span><span style="color: black;">(</span>np.<span style="color: black;">float64</span><span style="color: black;">)</span><br />
<br />
learned_params = svm.<span style="color: black;">libsvm</span>.<span style="color: black;">fit</span><span style="color: black;">(</span>iris.<span style="color: black;">data</span>, iris.<span style="color: black;">target</span><span style="color: black;">)</span><br />
pred = svm.<span style="color: black;">libsvm</span>.<span style="color: black;">predict</span><span style="color: black;">(</span>iris.<span style="color: black;">data</span>, <span style="color: #66cc66;">*</span>learned_params<span style="color: black;">)</span></div></div>
<p>Here, I used the fact that the parameters returned by <a href="http://scikit-learn.sourceforge.net/dev/modules/generated/scikits.learn.svm.libsvm.fit.html">libsvm.fit</a> can just passed to <a href="http://scikit-learn.sourceforge.net/dev/modules/generated/scikits.learn.svm.libsvm.predict.html">libsvm.predict</a>. However, any other given parameters should be manually passed to both method.</p></div>







<p class="date">
<a href="http://fseoane.net/blog/2011/low-level-routines-for-support-vector-machines/">by fabian at April 27, 2011 01:27 PM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://nessgrh.wordpress.com" title="nessgrh">Tom Bachmann</a></h3>


<div class="entrygroup" id="http://nessgrh.wordpress.com/?p=10">
<h4 lang="en"><a href="http://nessgrh.wordpress.com/2011/04/27/work/">Work</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>Alright, since I don’t have much to say yet, let me use this post to compile a list of things that have to be done before we see the first non-trivial integrals evaluated. I’ll also add random notes on implementation that spring to my mind. I’ll keep updating this.</p>
<ol>
<li>Classes to represent functions: Bessel, Hypergeometric, Meijer G
<ul>
<li>Make sure the following work: evalf, derivatives, simple limits, basic properties, naive pattern matching, some special values</li>
<li>Pretty printing.</li>
</ul>
</li>
<li>Framework for simplifying Hypergeometric and Meijer G functions.
<ul>
<li>Shift and inverse-shift operators.</li>
<li>Determining suitable origins and sequences of operators to reach them.</li>
<li>Implement randomised testing.</li>
<li>Start the lookup table.</li>
<li>Possibly need to tweak gamma function simplification code.</li>
<li>Probably need to find a replacement for naive pattern matching. In any case pattern matching of tuples does not seem to work too well.</li>
</ul>
</li>
<li>Expression of integrands in terms of Meijer G functions.
<ul>
<li>Convert to a canonical form and use table lookup.</li>
</ul>
</li>
<li>Extend integration code to use Meijer G function integration theorems.
<ul>
<li>Probably need to implement more properties / assumptions in order to be able to check the antecedents of the theorems.</li>
</ul>
</li>
</ol>
<p>The following are possible extensions of the above work, orthogonal to the main plan of adding new functions:</p>
<ul>
<li>Asymptotic expansion of Meijer G (and hence Hypergeometric) functions is possible but complicated.</li>
<li>Extend class Sum to convert itself into a hypergeometric function if possible.</li>
<li>The Hypergeometric (and Meijer G) functions are also the general solutions to fairly general ODEs, so the ODE module could also benefit.</li>
<li>Use Zeilberger’s algorithm to find particular values of hypergeometric functions.</li>
<li>Use recursive mellin transforms for 3.</li>
</ul>
<br />  <a href="http://feeds.wordpress.com/1.0/gocomments/nessgrh.wordpress.com/10/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/nessgrh.wordpress.com/10/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godelicious/nessgrh.wordpress.com/10/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/delicious/nessgrh.wordpress.com/10/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gofacebook/nessgrh.wordpress.com/10/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/facebook/nessgrh.wordpress.com/10/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gotwitter/nessgrh.wordpress.com/10/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/twitter/nessgrh.wordpress.com/10/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gostumble/nessgrh.wordpress.com/10/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/stumble/nessgrh.wordpress.com/10/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godigg/nessgrh.wordpress.com/10/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/digg/nessgrh.wordpress.com/10/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/goreddit/nessgrh.wordpress.com/10/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/reddit/nessgrh.wordpress.com/10/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=nessgrh.wordpress.com&amp;blog=22546379&amp;post=10&amp;subd=nessgrh&amp;ref=&amp;feed=1" alt="" height="1" border="0" width="1" /></div>







<p class="date">
<a href="http://nessgrh.wordpress.com/2011/04/27/work/">by nessgrh at April 27, 2011 10:35 AM</a>
</p>
</div>
</div>




<div class="entrygroup" id="http://nessgrh.wordpress.com/?p=7">
<h4 lang="en"><a href="http://nessgrh.wordpress.com/2011/04/27/things-to-keep-in-mind/">Things to keep in mind</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>This is going to be a list of random things I should keep in mind while working on the GSoC project. I’ll keep updating it.</p>
<ul>
<li><img src="http://s0.wp.com/latex.php?latex=G&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="G" class="latex" title="G" /> function has a (logarithmic) branch point at the origin</li>
<li>Gamma function estimates (a la stirling) use a branch cut along the negative reals, e.g. here: <img src="http://s0.wp.com/latex.php?latex=%5CGamma%28z%2Ba%29+%3D+e%5E%7B-z%7D+z%5E%7Bz%2Ba-%5Cfrac%7B1%7D%7B2%7D%7D+%282+%5Cpi%29%5E%7B%5Cfrac%7B1%7D%7B2%7D%7D+%5Cleft%281%2BO%5Cleft%28%5Cfrac%7B1%7D%7Bz%7D%5Cright%29%5Cright%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\Gamma(z+a) = e^{-z} z^{z+a-\frac{1}{2}} (2 \pi)^{\frac{1}{2}} \left(1+O\left(\frac{1}{z}\right)\right)" class="latex" title="\Gamma(z+a) = e^{-z} z^{z+a-\frac{1}{2}} (2 \pi)^{\frac{1}{2}} \left(1+O\left(\frac{1}{z}\right)\right)" />, for <img src="http://s0.wp.com/latex.php?latex=%7C%5Carg%28z%2Ba%29%7C+%5Cle+%5Cpi+-+%5Cepsilon&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="|\arg(z+a)| \le \pi - \epsilon" class="latex" title="|\arg(z+a)| \le \pi - \epsilon" /> where the implicit constant in <img src="http://s0.wp.com/latex.php?latex=O%5Cleft%28%5Cfrac%7B1%7D%7Bz%7D%5Cright%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="O\left(\frac{1}{z}\right)" class="latex" title="O\left(\frac{1}{z}\right)" /> depends on <img src="http://s0.wp.com/latex.php?latex=a&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="a" class="latex" title="a" /> and <img src="http://s0.wp.com/latex.php?latex=%5Cepsilon&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\epsilon" class="latex" title="\epsilon" />.</li>
</ul>
<br />  <a href="http://feeds.wordpress.com/1.0/gocomments/nessgrh.wordpress.com/7/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/nessgrh.wordpress.com/7/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godelicious/nessgrh.wordpress.com/7/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/delicious/nessgrh.wordpress.com/7/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gofacebook/nessgrh.wordpress.com/7/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/facebook/nessgrh.wordpress.com/7/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gotwitter/nessgrh.wordpress.com/7/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/twitter/nessgrh.wordpress.com/7/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gostumble/nessgrh.wordpress.com/7/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/stumble/nessgrh.wordpress.com/7/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godigg/nessgrh.wordpress.com/7/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/digg/nessgrh.wordpress.com/7/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/goreddit/nessgrh.wordpress.com/7/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/reddit/nessgrh.wordpress.com/7/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=nessgrh.wordpress.com&amp;blog=22546379&amp;post=7&amp;subd=nessgrh&amp;ref=&amp;feed=1" alt="" height="1" border="0" width="1" /></div>







<p class="date">
<a href="http://nessgrh.wordpress.com/2011/04/27/things-to-keep-in-mind/">by nessgrh at April 27, 2011 10:23 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>April 26, 2011</h2>

<div class="channelgroup">







<h3><a href="http://sympystats.wordpress.com" title="sympy-stats">Matthew Rocklin</a></h3>


<div class="entrygroup" id="http://sympystats.wordpress.com/?p=5">
<h4 lang="en"><a href="http://sympystats.wordpress.com/2011/04/26/introduction/">Introduction</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>This blog will document the progress of the Google Summer of Code 2011 project sympy-stats.</p>
<p>About the project:</p>
<p><a href="http://sympy.org/" target="_blank" title="Sympy">SymPy</a> is an open source <a href="http://en.wikipedia.org/wiki/Computer_algebra_system">Computer Algebra System</a> for Python. That is it is a library to model and solve symbolic algebra systems much like Mathematica or Maple. It deals with variables, functions, calculus, linear algebra, geometry, etc…. It does this in purely mathematical terms rather than numerically as is found in projects like <a href="http://scipy.org" target="_blank">numpy and scipy</a>.</p>
<p>SymPy’s treatment of statistics could be improved however. The goal of this project is to clearly define a <a href="http://en.wikipedia.org/wiki/Random_variable">random variable</a> type and tightly integrate it into SymPy.  My hope is that much of statistical modeling can be reconciled with traditional modeling if random variables can be freely interchanged with traditional ones.</p>
<p>About the author:</p>
<p>My name is <a href="http://people.cs.uchicago.edu/~mrocklin/" target="_blank">Matthew Rocklin</a>. I’m a graduate student at the University of Chicago studying computational mathematics. My research focus is <a href="http://en.wikipedia.org/wiki/Uncertainty_quantification" target="_blank">uncertainty quantification</a> in complex systems. I’m working on this project because I think it will be of  help to myself and other researchers in the field. Coming from a physics background I’m also a completely self-taught (read: bad) coder. I hope that through my participation in this project and connection with the SymPy community my coding practices will improve. In my brief exposure I’ve already found that this is the case.</p>
<p>Links:</p>
<p><a href="http://code.google.com/soc/" target="_blank" title="Google Summer of Code">Google Summer of Code</a></p>
<p><a href="http://sympy.org/" target="_blank" title="SymPy">SymPy</a></p>
<p>The original GSoC application for <a href="https://github.com/sympy/sympy/wiki/GSoC-2011-Application-Matthew-Rocklin%3A-Random-Variables" target="_blank" title="sympy-stats">sympy-stats</a></p>
<br />  <a href="http://feeds.wordpress.com/1.0/gocomments/sympystats.wordpress.com/5/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/sympystats.wordpress.com/5/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godelicious/sympystats.wordpress.com/5/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/delicious/sympystats.wordpress.com/5/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gofacebook/sympystats.wordpress.com/5/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/facebook/sympystats.wordpress.com/5/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gotwitter/sympystats.wordpress.com/5/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/twitter/sympystats.wordpress.com/5/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gostumble/sympystats.wordpress.com/5/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/stumble/sympystats.wordpress.com/5/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godigg/sympystats.wordpress.com/5/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/digg/sympystats.wordpress.com/5/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/goreddit/sympystats.wordpress.com/5/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/reddit/sympystats.wordpress.com/5/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=sympystats.wordpress.com&amp;blog=22550280&amp;post=5&amp;subd=sympystats&amp;ref=&amp;feed=1" alt="" height="1" border="0" width="1" /></div>







<p class="date">
<a href="http://sympystats.wordpress.com/2011/04/26/introduction/">by mrocklin at April 26, 2011 07:16 PM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://nessgrh.wordpress.com" title="nessgrh">Tom Bachmann</a></h3>


<div class="entrygroup" id="http://nessgrh.wordpress.com/?p=1">
<h4 lang="en"><a href="http://nessgrh.wordpress.com/2011/04/26/hello-world/">Hello world!</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>Testing latex: <img src="http://s0.wp.com/latex.php?latex=%5Csqrt%7Bx%7D&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="\sqrt{x}" class="latex" title="\sqrt{x}" /> <img src="http://s0.wp.com/latex.php?latex=%7B%7D_p+F_q%5Cleft%28%7Ba_p+%5Catop+b_q%7D+%5Cmiddle%7C+z+%5Cright%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="{}_p F_q\left({a_p \atop b_q} \middle| z \right)" class="latex" title="{}_p F_q\left({a_p \atop b_q} \middle| z \right)" /></p>
<p>Testing code:</p>
<pre class="brush: python;"> for foo in bar: grunzt </pre>
<br />  <a href="http://feeds.wordpress.com/1.0/gocomments/nessgrh.wordpress.com/1/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/nessgrh.wordpress.com/1/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godelicious/nessgrh.wordpress.com/1/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/delicious/nessgrh.wordpress.com/1/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gofacebook/nessgrh.wordpress.com/1/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/facebook/nessgrh.wordpress.com/1/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gotwitter/nessgrh.wordpress.com/1/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/twitter/nessgrh.wordpress.com/1/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gostumble/nessgrh.wordpress.com/1/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/stumble/nessgrh.wordpress.com/1/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godigg/nessgrh.wordpress.com/1/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/digg/nessgrh.wordpress.com/1/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/goreddit/nessgrh.wordpress.com/1/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/reddit/nessgrh.wordpress.com/1/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=nessgrh.wordpress.com&amp;blog=22546379&amp;post=1&amp;subd=nessgrh&amp;ref=&amp;feed=1" alt="" height="1" border="0" width="1" /></div>







<p class="date">
<a href="http://nessgrh.wordpress.com/2011/04/26/hello-world/">by nessgrh at April 26, 2011 04:55 PM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://seanvig.blogspot.com/search/label/sympy" title="Sean Vig's 2011 GSoC Project">Sean Vig</a></h3>


<div class="entrygroup" id="tag:blogger.com,1999:blog-8510171342300140296.post-8490398923441347584">
<h4><a href="http://seanvig.blogspot.com/2011/04/best-things-in-life-are-free-and-open.html">The best things in life are free (and open source)</a></h4>
<div class="entry">
<div class="content">
Hi all,<br />This adventure into blogging is to document the work I will be doing this summer with <a href="http://sympy.org/">SymPy</a>, an open source symbolic mathematics library written in Python. The project will be done as a part of the <a href="http://socghop.appspot.com/">Google Summer of Code</a> program. This summer, I will be developing a symbolic class for creating Clebsch-Gordon coefficients and will develop the spin algebra in the existing quantum physics module to utilize these coefficients. The gory details can be read in my <a href="https://github.com/sympy/sympy/wiki/GSoC%202011%20Application%20Sean%20Vig">application</a>. My mentor for this project will b<span style="font-family: inherit;" class="Apple-style-span">e <span style="border-collapse: collapse;" class="Apple-style-span">Ondřej Čertík. The project officially starts May 24, but I'll be diving in once I finish up the last of my finals May 14. </span></span><span style="border-collapse: collapse;" class="Apple-style-span">I will be documenting my progress on the project throughout the summer through this blog, and anyone interested in this is free to watch for updates once the project is underway. All my work will be pushed to </span><a style="border-collapse: collapse;" href="https://github.com/flacjacket/sympy">my SymPy fork</a><span style="border-collapse: collapse;" class="Apple-style-span"> on github.</span><br /><span style="border-collapse: collapse;" class="Apple-style-span"><br /></span><br /><span style="border-collapse: collapse;" class="Apple-style-span">That's enough for now, I'll be checking back in once I get started in the summer. Now, back to trying to graduate.</span><div class="blogger-post-footer"><img src="https://blogger.googleusercontent.com/tracker/8510171342300140296-8490398923441347584?l=seanvig.blogspot.com" alt="" height="1" width="1" /></div></div>







<p class="date">
<a href="http://seanvig.blogspot.com/2011/04/best-things-in-life-are-free-and-open.html">by Sean Vig (noreply@blogger.com) at April 26, 2011 12:02 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>April 23, 2011</h2>

<div class="channelgroup">







<h3><a href="http://fseoane.net/blog" title="F. Pedregosa">Fabian Pedregosa</a></h3>


<div class="entrygroup" id="http://fseoane.net/blog/?p=587">
<h4 lang="en"><a href="http://fseoane.net/blog/2011/new-get_blas_funcs-in-scipy-linalg/">new get_blas_funcs in scipy.linalg</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>Today got merged some changes I made to function scipy.linalg.get_blas_funcs(). The main enhacement is that get_blas_funcs() now also accepts a single string as input parameter and a dtype, so that fetching the BLAS function for a specific type becomes more natural. </p>
<p>For example, fetching the gemm routine for a single-precision complex number now looks like this:</p>
<div style="overflow: auto; white-space: nowrap; width: 435px;" class="codecolorer-container python default"><div style="" class="python codecolorer">gemm = scipy.<span style="color: black;">linalg</span>.<span style="color: black;">get_blas_funcs</span><span style="color: black;">(</span><span style="color: #483d8b;">'gemm'</span>, dtype=np.<span style="color: black;">complex64</span><span style="color: black;">)</span></div></div>
<p>compared to the clumsy old syntax:</p>
<div style="overflow: auto; white-space: nowrap; width: 435px;" class="codecolorer-container python default"><div style="" class="python codecolorer">X = np.<span style="color: black;">empty</span><span style="color: black;">(</span><span style="color: #ff4500;">0</span>, dtype=np.<span style="color: black;">complex64</span><span style="color: black;">)</span><br />
gemm, = scipy.<span style="color: black;">linalg</span>.<span style="color: black;">get_blas_funcs</span><span style="color: black;">(</span><span style="color: black;">(</span><span style="color: #483d8b;">'gemm'</span>,<span style="color: black;">)</span>, <span style="color: black;">(</span>X,<span style="color: black;">)</span><span style="color: black;">)</span></div></div></div>







<p class="date">
<a href="http://fseoane.net/blog/2011/new-get_blas_funcs-in-scipy-linalg/">by fabian at April 23, 2011 04:24 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>April 21, 2011</h2>

<div class="channelgroup">







<h3><a href="http://fseoane.net/blog" title="F. Pedregosa">Fabian Pedregosa</a></h3>


<div class="entrygroup" id="http://fseoane.net/blog/?p=597">
<h4 lang="en"><a href="http://fseoane.net/blog/2011/locally-linear-embedding-and-sparse-eigensolvers/">Locally linear embedding and sparse eigensolvers</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>I’ve been working for some time on implementing a <a href="http://www.cs.nyu.edu/~roweis/lle/algorithm.html">locally linear embedding</a> algorithm for the upcoming manifold module in scikit-learn. </p>
<p>While several implementations of this algorithm exist in Python, as far as I know none of them is able to use a sparse eigensolver in the last step of the algorithm, falling back to dense routines causing a huge overhead in this step. </p>
<p>To overcome this, my first implementation used <code>scipy.sparse.linalg.eigsh</code>, which is a sparse eigensolver shipped by scipy and based on ARPACK. However, this approach converged extremely slowly, with timings that exceeded largely those of dense solvers.</p>
<p>Recently I found a way that seems to work reasonably well, with timings that win by a factor of 5 on the swiss roll existing routines. This code is able to solve the problem making use of a preconditioner computed by <a href="http://code.google.com/p/pyamg/">PyAMG</a>.</p>
<div style="overflow: auto; white-space: nowrap; width: 435px;" class="codecolorer-container python default"><div style="" class="python codecolorer"><span style="color: #ff7700; font-weight: bold;">import</span> numpy <span style="color: #ff7700; font-weight: bold;">as</span> np<br />
<span style="color: #ff7700; font-weight: bold;">from</span> scipy.<span style="color: black;">sparse</span> <span style="color: #ff7700; font-weight: bold;">import</span> linalg, eye<br />
<span style="color: #ff7700; font-weight: bold;">from</span> pyamg <span style="color: #ff7700; font-weight: bold;">import</span> smoothed_aggregation_solver<br />
<span style="color: #ff7700; font-weight: bold;">from</span> scikits.<span style="color: black;">learn</span> <span style="color: #ff7700; font-weight: bold;">import</span> neighbors<br />
<br />
<span style="color: #ff7700; font-weight: bold;">def</span> locally_linear_embedding<span style="color: black;">(</span>X, n_neighbors, out_dim, tol=1e-6, max_iter=<span style="color: #ff4500;">200</span><span style="color: black;">)</span>:<br />
    W = neighbors.<span style="color: black;">kneighbors_graph</span><span style="color: black;">(</span><br />
        X, n_neighbors=n_neighbors, mode=<span style="color: #483d8b;">'barycenter'</span><span style="color: black;">)</span><br />
<br />
    <span style="color: #808080; font-style: italic;"># M = (I-W)' (I-W)</span><br />
    A = eye<span style="color: black;">(</span><span style="color: #66cc66;">*</span>W.<span style="color: black;">shape</span>, format=W.<span style="color: black;">format</span><span style="color: black;">)</span> - W<br />
    A = <span style="color: black;">(</span>A.<span style="color: black;">T</span><span style="color: black;">)</span>.<span style="color: black;">dot</span><span style="color: black;">(</span>A<span style="color: black;">)</span>.<span style="color: black;">tocsr</span><span style="color: black;">(</span><span style="color: black;">)</span><br />
<br />
    <span style="color: #808080; font-style: italic;"># initial approximation to the eigenvectors</span><br />
    X = np.<span style="color: #dc143c;">random</span>.<span style="color: black;">rand</span><span style="color: black;">(</span>W.<span style="color: black;">shape</span><span style="color: black;">[</span><span style="color: #ff4500;">0</span><span style="color: black;">]</span>, out_dim<span style="color: black;">)</span><br />
    ml = smoothed_aggregation_solver<span style="color: black;">(</span>A, symmetry=<span style="color: #483d8b;">'symmetric'</span><span style="color: black;">)</span><br />
    prec = ml.<span style="color: black;">aspreconditioner</span><span style="color: black;">(</span><span style="color: black;">)</span><br />
<br />
    <span style="color: #808080; font-style: italic;"># compute eigenvalues and eigenvectors with LOBPCG</span><br />
    eigen_values, eigen_vectors = linalg.<span style="color: black;">lobpcg</span><span style="color: black;">(</span><br />
        A, X, M=prec, largest=<span style="color: #008000;">False</span>, tol=tol, maxiter=max_iter<span style="color: black;">)</span><br />
<br />
    index = np.<span style="color: black;">argsort</span><span style="color: black;">(</span>eigen_values<span style="color: black;">)</span><br />
    <span style="color: #ff7700; font-weight: bold;">return</span> eigen_vectors<span style="color: black;">[</span>:, index<span style="color: black;">]</span>, np.<span style="color: #008000;">sum</span><span style="color: black;">(</span>eigen_values<span style="color: black;">)</span></div></div>
<p>Full code for this algorithm applied to the swiss roll can be found here <a href="https://gist.github.com/934363">here</a>, and I hope it will soon be part of <a href="http://scikit-learn.sourceforge.net/">scikit-learn</a>.</p>
<p><a href="http://fseoane.net/blog/wp-content/uploads/2011/04/lle1.png"><img src="http://fseoane.net/blog/wp-content/uploads/2011/04/lle1-690x1024.png" alt="" title="Locally linear embedding on the swiss roll" class="aligncenter size-large wp-image-731" width="500" /></a></p></div>







<p class="date">
<a href="http://fseoane.net/blog/2011/locally-linear-embedding-and-sparse-eigensolvers/">by fabian at April 21, 2011 12:28 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>April 20, 2011</h2>

<div class="channelgroup">







<h3><a href="http://fseoane.net/blog" title="F. Pedregosa">Fabian Pedregosa</a></h3>


<div class="entrygroup" id="http://fseoane.net/blog/?p=694">
<h4 lang="en"><a href="http://fseoane.net/blog/2011/scikits-learn-is-now-part-of-pythonxy/">scikits.learn is now part of pythonxy</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>The guys behind <a href="http://www.pythonxy.com/">pythonxy</a> have been kind enough to add the latest scikit-learn as an <a href="http://code.google.com/p/pythonxy/wiki/AdditionalPlugins">additional plugin</a> for their distribution. Having scikit-learn being in both <a href="http://www.pythonxy.com/">pythonxy</a> and <a href="http://www.enthought.com/products/epd.php">EPD</a> will hopefully make it easier to use for Windows users.</p>
<p><img src="http://fseoane.net/blog/wp-content/uploads/2011/04/pythonxy-logo.png" title="pythonxy-logo" height="70" width="161" alt="pythonxy-logo" class="alignnone size-full wp-image-695" /></p>
<p>For now I will continue to make windows precompiled binaries, but pythonxy users finally have a package that is guaranteed to work with their installation.</p></div>







<p class="date">
<a href="http://fseoane.net/blog/2011/scikits-learn-is-now-part-of-pythonxy/">by fabian at April 20, 2011 11:48 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>April 16, 2011</h2>

<div class="channelgroup">







<h3><a href="http://fredrik-j.blogspot.com/search/label/sympy" title="Fredrik Johansson">Fredrik Johansson</a></h3>


<div class="entrygroup" id="tag:blogger.com,1999:blog-4754734402679928849.post-7530661868168314621">
<h4><a href="http://fredrik-j.blogspot.com/2011/03/100-mpmath-one-liners-for-pi.html">100 mpmath one-liners for pi</a></h4>
<div class="entry">
<div class="content">
Since it's pi day today, I thought I'd share a list of mpmath one-liners for computing the value of pi to high precision using various representations in terms of special functions, infinite series, integrals, etc. Most of them can already be found as doctest examples in some form in the mpmath documentation.<br /><br />A few of the formulas explicitly involve pi. Using those to calculate pi is rather <i>circular</i> (!), though a few of them could still be used for computing pi using numerical root-finding. In any case, most of the formulas are circular even when pi doesn't appear explicitly since mpmath is likely using its value internally. In any <i>further</i> case, the majority of the formulas are not efficient for computing pi to very high precision (at least as written). Still, ~50 digits is no problem. Enjoy!<br /><br /><pre><br />from mpmath import *<br />mp.dps = 50; mp.pretty = True<br /><br />+pi<br />180*degree<br />4*atan(1)<br />16*acot(5)-4*acot(239)<br />48*acot(49)+128*acot(57)-20*acot(239)+48*acot(110443)<br />chop(2*j*log((1-j)/(1+j)))<br />chop(-2j*asinh(1j))<br />chop(ci(-inf)/1j)<br />gamma(0.5)**2<br />beta(0.5,0.5)<br />(2/diff(erf, 0))**2<br />findroot(sin, 3)<br />findroot(cos, 1)*2<br />chop(-2j*lambertw(-pi/2))<br />besseljzero(0.5,1)<br />3*sqrt(3)/2/hyp2f1((-1,3),(1,3),1,1)<br />8/(hyp2f1(0.5,0.5,1,0.5)*gamma(0.75)/gamma(1.25))**2<br />4*(hyp1f2(1,1.5,1,1) / struvel(-0.5, 2))**2<br />1/meijerg([[],[]], [[0],[0.5]], 0)**2<br />(meijerg([[],[2]], [[1,1.5],[]], 1, 0.5) / erfc(1))**2<br />(1-e) / meijerg([[1],[0.5]], [[1],[0.5,0]], 1)<br />sqrt(psi(1,0.25)-8*catalan)<br />elliprc(1,2)*4<br />elliprg(0,1,1)*4<br />2*agm(1,0.5)*ellipk(0.75)<br />(gamma(0.75)*jtheta(3,0,exp(-pi)))**4<br />cbrt(gamma(0.25)**4*agm(1,sqrt(2))**2/8)<br />sqrt(6*zeta(2))<br />sqrt(6*(zeta(2,3)+5./4))<br />sqrt(zeta(2,(3,4))+8*catalan)<br />exp(-2*zeta(0,1,1))/2<br />sqrt(12*altzeta(2))<br />4*dirichlet(1,[0,1,0,-1])<br />2*catalan/dirichlet(-1,[0,1,0,-1],1)<br />exp(-dirichlet(0,[0,1,0,-1],1))*gamma(0.25)**2/(2*sqrt(2))<br />sqrt(7*zeta(3)/(4*diff(lerchphi, (-1,-2,1), (0,1,0))))<br />sqrt(-12*polylog(2,-1))<br />sqrt(6*log(2)**2+12*polylog(2,0.5))<br />chop(root(-81j*(polylog(3,root(1,3,1))+4*zeta(3)/9)/2,3))<br />2*clsin(1,1)+1<br />(3+sqrt(3)*sqrt(1+8*clcos(2,1)))/2<br />root(2,6)*sqrt(e)/(glaisher**6*barnesg(0.5)**4)<br />nsum(lambda k: 4*(-1)**(k+1)/(2*k-1), [1,inf])<br />nsum(lambda k: (3**k-1)/4**k*zeta(k+1), [1,inf])<br />nsum(lambda k: 8/(2*k-1)**2, [1,inf])**0.5<br />nsum(lambda k: 2*fac(k)/fac2(2*k+1), [0,inf])<br />nsum(lambda k: fac(k)**2/fac(2*k+1), [0,inf])*3*sqrt(3)/2<br />nsum(lambda k: fac(k)**2/(phi**(2*k+1)*fac(2*k+1)), [0,inf])*(5*sqrt(phi+2))/2<br />nsum(lambda k: (4/(8*k+1)-2/(8*k+4)-1/(8*k+5)-1/(8*k+6))/16**k, [0,inf])<br />2/nsum(lambda k: (-1)**k*(4*k+1)*(fac2(2*k-1)/fac2(2*k))**3, [0,inf])<br />nsum(lambda k: 72/(k*expm1(k*pi))-96/(k*expm1(2*pi*k))+24/(k*expm1(4*pi*k)), [1,inf])<br />1/nsum(lambda k: binomial(2*k,k)**3*(42*k+5)/2**(12*k+4), [0,inf])<br />4/nsum(lambda k: (-1)**k*(1123+21460*k)*fac2(2*k-1)*fac2(4*k-1)/(882**(2*k+1)*32**k*fac(k)**3), [0,inf])<br />9801/sqrt(8)/nsum(lambda k: fac(4*k)*(1103+26390*k)/(fac(k)**4*396**(4*k)), [0,inf])<br />426880*sqrt(10005)/nsum(lambda k: (-1)**k*fac(6*k)*(13591409+545140134*k)/(fac(k)**3*fac(3*k)*(640320**3)**k), [0,inf])<br />4/nsum(lambda k: (6*k+1)*rf(0.5,k)**3/(4**k*fac(k)**3), [0,inf])<br />(ln(8)+sqrt(48*nsum(lambda m,n: (-1)**(m+n)/(m**2+n**2), [1,inf],[1,inf]) + 9*log(2)**2))/2<br />-nsum(lambda x,y: (-1)**(x+y)/(x**2+y**2), [-inf,inf], [-inf,inf], ignore=True)/ln2<br />2*nsum(lambda k: sin(k)/k, [1,inf])+1<br />quad(lambda x: 2/(x**2+1), [0,inf])<br />quad(lambda x: exp(-x**2), [-inf,inf])**2<br />2*quad(lambda x: sqrt(1-x**2), [-1,1])<br />chop(quad(lambda z: 1/(2j*z), [1,j,-1,-j,1]))<br />3*(4*log(2+sqrt(3))-quad(lambda x,y: 1/sqrt(1+x**2+y**2), [-1,1],[-1,1]))/2<br />sqrt(8*quad(lambda x,y: 1/(1-(x*y)**2), [0,1],[0,1]))<br />sqrt(6*quad(lambda x,y: 1/(1-x*y), [0,1],[0,1]))<br />sqrt(6*quad(lambda x: x/expm1(x), [0,inf]))<br />quad(lambda x: (16*x-16)/(x**4-2*x**3+4*x-4), [0,1])<br />quad(lambda x: sqrt(x-x**2), [0,0.25])*24+3*sqrt(3)/4<br />mpf(22)/7 - quad(lambda x: x**4*(1-x)**4/(1+x**2), [0,1])<br />mpf(355)/113 - quad(lambda x: x**8*(1-x)**8*(25+816*x**2)/(1+x**2), [0,1])/3164<br />2*quadosc(lambda x: sin(x)/x, [0,inf], omega=1)<br />40*quadosc(lambda x: sin(x)**6/x**6, [0,inf], omega=1)/11<br />e*quadosc(lambda x: cos(x)/(1+x**2), [-inf,inf], omega=1)<br />8*quadosc(lambda x: cos(x**2), [0,inf], zeros=lambda n: sqrt(n))**2<br />2*quadosc(lambda x: sin(exp(x)), [1,inf], zeros=ln)+2*si(e)<br />exp(2*quad(loggamma, [0,1]))/2<br />2*nprod(lambda k: sec(pi/2**k), [2,inf])<br />s=lambda k: sqrt(0.5+s(k-1)/2) if k else 0; 2/nprod(s, [1,inf])<br />s=lambda k: sqrt(2+s(k-1)) if k else 0; limit(lambda k: sqrt(2-s(k))*2**(k+1), inf)<br />2*nprod(lambda k: (2*k)**2/((2*k-1)*(2*k+1)), [1,inf])<br />2*nprod(lambda k: (4*k**2)/(4*k**2-1), [1, inf])<br />sqrt(6*ln(nprod(lambda k: exp(1/k**2), [1,inf])))<br />nprod(lambda k: (k**2-1)/(k**2+1), [2,inf])/csch(pi)<br />nprod(lambda k: (k**2-1)/(k**2+1), [2,inf])*sinh(pi)<br />nprod(lambda k: (k**4-1)/(k**4+1), [2, inf])*(cosh(sqrt(2)*pi)-cos(sqrt(2)*pi))/sinh(pi)<br />sinh(pi)/nprod(lambda k: (1-1/k**4), [2, inf])/4<br />sinh(pi)/nprod(lambda k: (1+1/k**2), [2, inf])/2<br />(exp(1+euler/2)/nprod(lambda n: (1+1/n)**n * exp(1/(2*n)-1), [1, inf]))**2/2<br />3*sqrt(2)*cosh(pi*sqrt(3)/2)**2*csch(pi*sqrt(2))/nprod(lambda k: (1+1/k+1/k**2)**2/(1+2/k+3/k**2), [1, inf])<br />2/e*nprod(lambda k: (1+2/k)**((-1)**(k+1)*k), [1,inf])<br />limit(lambda k: 16**k/(k*binomial(2*k,k)**2), inf)<br />limit(lambda x: 4*x*hyp1f2(0.5,1.5,1.5,-x**2), inf)<br />1/log(limit(lambda n: nprod(lambda k: pi/(2*atan(k)), [n,2*n]), inf),4)<br />limit(lambda k: 2**(4*k+1)*fac(k)**4/(2*k+1)/fac(2*k)**2, inf)<br />limit(lambda k: fac(k) / (sqrt(k)*(k/e)**k), inf)**2/2<br />limit(lambda k: (-(-1)**k*bernoulli(2*k)*2**(2*k-1)/fac(2*k))**(-1/(2*k)), inf)<br />limit(lambda k: besseljzero(1,k)/k, inf)<br />1/limit(lambda x: airyai(x)*2*x**0.25*exp(2*x**1.5/3), inf, exp=True)**2<br />1/limit(lambda x: airybi(x)*x**0.25*exp(-2*x**1.5/3), inf, exp=True)**2<br /></pre><div class="blogger-post-footer"><img src="https://blogger.googleusercontent.com/tracker/4754734402679928849-7530661868168314621?l=fredrik-j.blogspot.com" alt="" height="1" width="1" /></div></div>







<p class="date">
<a href="http://fredrik-j.blogspot.com/2011/03/100-mpmath-one-liners-for-pi.html">by Fredrik Johansson (fredrik.johansson@gmail.com) at April 16, 2011 05:39 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>April 14, 2011</h2>

<div class="channelgroup">







<h3><a href="http://fseoane.net/blog" title="F. Pedregosa">Fabian Pedregosa</a></h3>


<div class="entrygroup" id="http://fseoane.net/blog/?p=621">
<h4 lang="en"><a href="http://fseoane.net/blog/2011/least-squares-with-equality-constrain/">Least squares with equality constrain</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>The following algorithm computes the Least squares solution || Ax – b|| subject to the equality constrain Bx = d. It’s a classic algorithm that can be implemented only using a QR decomposition and a least squares solver. </p>
<p>This implementation uses numpy and scipy. It makes use of the new linalg.solve_triangular function in scipy 0.9, although degrades to linalg.solve on older versions.</p>
<div style="overflow: auto; white-space: nowrap; width: 435px;" class="codecolorer-container python default"><div style="" class="python codecolorer"><span style="color: #ff7700; font-weight: bold;">import</span> numpy <span style="color: #ff7700; font-weight: bold;">as</span> np<br />
<br />
<span style="color: #ff7700; font-weight: bold;">def</span> lse<span style="color: black;">(</span>A, b, B, d, cond=<span style="color: #008000;">None</span><span style="color: black;">)</span>:<br />
    <span style="color: #483d8b;">"""<br />
    Equality-contrained least squares.<br />
<br />
    The following algorithm minimizes ||Ax - b|| subject to the<br />
    constrain Bx = d.<br />
<br />
    Parameters<br />
    ----------<br />
    A : array-like, shape=[m, n]<br />
<br />
    b : array-like, shape=[m]<br />
<br />
    B : array-like, shape=[p, n]<br />
<br />
    d : array-like, shape=[p]<br />
<br />
    cond : float, optional<br />
        Cutoff for 'small' singular values; used to determine effective<br />
        rank of A. Singular values smaller than<br />
        ``rcond * largest_singular_value`` are considered zero.<br />
<br />
    Reference<br />
    ---------<br />
    Matrix Computations, Golub &amp; van Loan, algorithm 12.1.2<br />
<br />
    Examples<br />
    --------<br />
    &gt;&gt;&gt; A, b = [[0, 2, 3], [1, 3, 4.5]], [1, 1]<br />
    &gt;&gt;&gt; B, d = [[1, 1, 0]], [1]<br />
    &gt;&gt;&gt; lse(A, b, B, d)<br />
    array([-0.5       ,  1.5       , -0.66666667])    <br />
    """</span><br />
    <span style="color: #ff7700; font-weight: bold;">from</span> scipy <span style="color: #ff7700; font-weight: bold;">import</span> linalg<br />
    <span style="color: #ff7700; font-weight: bold;">if</span> <span style="color: #ff7700; font-weight: bold;">not</span> <span style="color: #008000;">hasattr</span><span style="color: black;">(</span>linalg, <span style="color: #483d8b;">'solve_triangular'</span><span style="color: black;">)</span>:<br />
        <span style="color: #808080; font-style: italic;"># compatibility for old scipy</span><br />
        <span style="color: #ff7700; font-weight: bold;">def</span> solve_triangular<span style="color: black;">(</span>X, y, <span style="color: #66cc66;">**</span>kwargs<span style="color: black;">)</span>:<br />
            <span style="color: #ff7700; font-weight: bold;">return</span> linalg.<span style="color: black;">solve</span><span style="color: black;">(</span>X, y<span style="color: black;">)</span><br />
    <span style="color: #ff7700; font-weight: bold;">else</span>:<br />
        solve_triangular = linalg.<span style="color: black;">solve_triangular</span><br />
    A, b, B, d = <span style="color: #008000;">map</span><span style="color: black;">(</span>np.<span style="color: black;">asanyarray</span>, <span style="color: black;">(</span>A, b, B, d<span style="color: black;">)</span><span style="color: black;">)</span><br />
    p = B.<span style="color: black;">shape</span><span style="color: black;">[</span><span style="color: #ff4500;">0</span><span style="color: black;">]</span><br />
    Q, R = linalg.<span style="color: black;">qr</span><span style="color: black;">(</span>B.<span style="color: black;">T</span><span style="color: black;">)</span><br />
    y = solve_triangular<span style="color: black;">(</span>R<span style="color: black;">[</span>:p, :p<span style="color: black;">]</span>, d, trans=<span style="color: #483d8b;">'T'</span>, lower=<span style="color: #008000;">False</span><span style="color: black;">)</span><br />
    A = np.<span style="color: black;">dot</span><span style="color: black;">(</span>A, Q<span style="color: black;">)</span><br />
    z = linalg.<span style="color: black;">lstsq</span><span style="color: black;">(</span>A<span style="color: black;">[</span>:, p:<span style="color: black;">]</span>, b - np.<span style="color: black;">dot</span><span style="color: black;">(</span>A<span style="color: black;">[</span>:, :p<span style="color: black;">]</span>, y<span style="color: black;">)</span>, <br />
                         cond=cond<span style="color: black;">)</span><span style="color: black;">[</span><span style="color: #ff4500;">0</span><span style="color: black;">]</span>.<span style="color: black;">ravel</span><span style="color: black;">(</span><span style="color: black;">)</span><br />
    <span style="color: #ff7700; font-weight: bold;">return</span> np.<span style="color: black;">dot</span><span style="color: black;">(</span>Q<span style="color: black;">[</span>:, :p<span style="color: black;">]</span>, y<span style="color: black;">)</span> + np.<span style="color: black;">dot</span><span style="color: black;">(</span>Q<span style="color: black;">[</span>:, p:<span style="color: black;">]</span>, z<span style="color: black;">)</span></div></div></div>







<p class="date">
<a href="http://fseoane.net/blog/2011/least-squares-with-equality-constrain/">by fabian at April 14, 2011 08:02 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>April 06, 2011</h2>

<div class="channelgroup">







<h3><a href="http://fseoane.net/blog" title="F. Pedregosa">Fabian Pedregosa</a></h3>


<div class="entrygroup" id="http://fseoane.net/blog/?p=531">
<h4 lang="en"><a href="http://fseoane.net/blog/2011/a-profiler-for-python-extensions/">A profiler for Python extensions</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>Profiling Python extensions has not been a pleasant experience for me, so I made my own package to do the job. Existing alternatives were either hard to use, forcing you to recompile with custom flags like gprofile or desperately slow like valgrind/callgrind. The package I’ll talk about is called <a href="http://pypi.python.org/pypi/yep">YEP</a> and is designed to be:</p>
<ol>
<li>Unobtrusive: no recompiling, no custom linking. Just lauch &amp; profile.</li>
<li>Fast: waiting sucks.</li>
<li>Easy to use.</li>
</ol>
<h2>Basic usage</h2>
<p>YEP is distributed as a python module and can be <a href="http://pypi.python.org/pypi/yep">downloaded from the pypi</a>. After installation, it is executed by giving the <b>-m yep</b> flags to the interpreter. Without any arguments, it will just print a help message:</p>
<div style="overflow: auto; white-space: nowrap; width: 435px;" class="codecolorer-container text default"><div style="" class="text codecolorer">    $ python -m yep<br />
Usage: python -m yep [options] scriptfile [arg] ...<br />
 ...</div></div>
<p>Say you want to profile a script called my_script.py, then the way to quickly get a profiler report is to execute:</p>
<div style="overflow: auto; white-space: nowrap; width: 435px;" class="codecolorer-container text default"><div style="" class="text codecolorer">    $ python -m yep -v my_script.py</div></div>
<p>For example, running YEP on <a href="http://scikit-learn.sourceforge.net/auto_examples/grid_search_digits.html">this example</a> that makes use of <a href="http://www.csie.ntu.edu.tw/~cjlin/libsvm/">libsvm</a>, a C++ library for Support Vector Machines, outputs</p>
<table style="width: auto;">
<tbody><tr>
<td><a href="https://picasaweb.google.com/lh/photo/ltfRg59k-z9Zrk7LBDTUxA?feat=embedwebsite"><img src="https://lh5.googleusercontent.com/_IOBIGAGXP4o/TZruzeuFJjI/AAAAAAAAAGI/JSmxqbOd0o4/s400/Screenshot-fabian%40localhost%3A%20-home-fabian.png" height="238" width="400" /></a></td>
</tr>
<tr>
<td style="font-family: arial,sans-serif; font-size: 11px; text-align: right;">From <a href="https://picasaweb.google.com/fabian.pedregosa.izquierdo/Screenshots?feat=embedwebsite">Screenshots</a></td>
</tr>
</tbody></table>
<p>The last column prints the name of the functions, so just looking at those that start with svm:: gives you an overview of how our libsvm is spending its time.</p>
<h2>Other usages</h2>
<p>Calling YEP without the -v will create a my_script.py.prof file that can be analyzed with pprof (google-pprof on some systems). pprof has a huge range of options, letting you to filter on some funtions, output to ghostview or print a line-by-line profiling, to mention a few. For example, you can generate a call graph with the command:</p>
<div style="overflow: auto; white-space: nowrap; width: 435px;" class="codecolorer-container text default"><div style="" class="text codecolorer"> $ pprof --gv /usr/bin/python my_script.py.prof</div></div>
<h2>More control</h2>
<p>If you would like to manually start/stop the profiler rather than profile the whole script, you can use the functions yep.start() and yep.stop() inside a python script. This will write the profile to a given filename, so make sure the directory is writable:</p>
<div style="overflow: auto; white-space: nowrap; width: 435px;" class="codecolorer-container python default"><div style="" class="python codecolorer"><span style="color: #ff7700; font-weight: bold;">import</span> yep<br />
yep.<span style="color: black;">start</span><span style="color: black;">(</span><span style="color: #483d8b;">'out.prof'</span><span style="color: black;">)</span> <span style="color: #808080; font-style: italic;"># will create an out.prof file</span><br />
<span style="color: #808080; font-style: italic;"># do something ...</span><br />
yep.<span style="color: black;">stop</span><span style="color: black;">(</span><span style="color: black;">)</span></div></div>
<h2>Future work</h2>
<p>The -v option showed at the beginning is just a dirty hack that launches pprof and pipes the output into less. A more robust approach would be to read the resulting profile from python and manipulate it from there, either to std or to <a href="http://docs.python.org/library/profile.html#pstats.Stats">pstats</a> format. This shouldn’t be too difficult as the pprof format is described <a href="http://google-perftools.googlecode.com/svn/trunk/doc/cpuprofile-fileformat.html">here</a></p>
<h2> Acknowledgment</h2>
<p>The original idea to use google-perftools to profile Python extensions was given on this <a href="http://stackoverflow.com/questions/2615153/profiling-python-c-extensions">Stack overflow question</a></p></div>







<p class="date">
<a href="http://fseoane.net/blog/2011/a-profiler-for-python-extensions/">by fabian at April 06, 2011 12:02 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>April 02, 2011</h2>

<div class="channelgroup">







<h3><a href="http://fseoane.net/blog" title="F. Pedregosa">Fabian Pedregosa</a></h3>


<div class="entrygroup" id="http://fseoane.net/blog/?p=547">
<h4 lang="en"><a href="http://fseoane.net/blog/2011/scikit-learn-coding-sprint-in-paris/">scikit-learn coding sprint in Paris</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>Yesterday was the scikit-learn coding sprint in Paris. It was great to meet with old developers (Vincent Michel) and new ones: some of whom I was already familiar with from the mailing list while others came just to say hi and get familiar with the code. It was really great to have people from such different backgrounds discuss on concrete problems and getting things done.</p>
<p>A lot of work was done, most of it unmerged yet, but if I had to highlight the three most important for me, that would be the the <a href="https://github.com/scikit-learn/scikit-learn/pull/86">merge of the hcluster2 branch</a>, the awesome work of <a href="https://github.com/thouis">thouis</a> in replacing the <a href="https://github.com/scikit-learn/scikit-learn/pull/120">C++ interface to the ball_tree with a Cython one</a> and suppport for Python3 (not bug-free but imports OK).</p>
<p>As for me, I’ve been working mostly in providing efficient cross-validatation for Support Vector Machines. The status of this is: low-level API seems to work fine (scikits.learn.svm.libsvm.cross_validation) but high-level API <a href="https://github.com/scikit-learn/scikit-learn/pull/117">still needs some work</a>.</p>
<p>This is the picture featuring (most) of the people that were at the sprint around 16h in <a href="http://www.logilab.fr/">Logilab’s</a> headquarters.</p>
<p><a href="http://www.flickr.com/photos/fseoane/5578952957/" title="IMG_0012 por Fabian Pedregosa, en Flickr"><img src="http://farm6.static.flickr.com/5092/5578952957_27b653d0a4.jpg" alt="IMG_0012" height="375" width="500" /></a></p></div>







<p class="date">
<a href="http://fseoane.net/blog/2011/scikit-learn-coding-sprint-in-paris/">by fabian at April 02, 2011 10:07 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>March 28, 2011</h2>

<div class="channelgroup">







<h3><a href="http://fseoane.net/blog" title="F. Pedregosa">Fabian Pedregosa</a></h3>


<div class="entrygroup" id="http://fseoane.net/blog/?p=536">
<h4 lang="en"><a href="http://fseoane.net/blog/2011/py3k-in-scikit-learn/">py3k in scikit-learn</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>One thing I’d really like to see done in <a href="http://gael-varoquaux.info/blog/?p=149">this Friday’s scikit-learn sprint</a> is to have full support for Python 3.</p>
<p>There’s <a href="http://github.com/fabianp/scikit-learn/compare/master...py3k">a branch were the hard word has been done</a> (porting C extensions, automatic 2to3 conversion, etc.), although joblib still has some bugs and no one has attempted to do anything serious with this branch yet …</p></div>







<p class="date">
<a href="http://fseoane.net/blog/2011/py3k-in-scikit-learn/">by fabian at March 28, 2011 01:23 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>March 22, 2011</h2>

<div class="channelgroup">







<h3><a href="http://sherjilozair.wordpress.com" title="Sherjil Ozair">Sherjil Ozair</a></h3>


<div class="entrygroup" id="http://sherjilozair.wordpress.com/?p=28">
<h4 lang="en"><a href="http://sherjilozair.wordpress.com/2011/03/22/gsoc-application/">A rough first draft for GSoC Application</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>Phase I : Infinite Set/Sequence capabilities (10 days)</p>
<ul>
<li>Set-builder notation</li>
<li>Might use interpolation library for this</li>
<li>Use current solver methods</li>
<li>Union and intersection of sets and sequences</li>
<li>Will be used in developing functional/lazy form of matrices</li>
</ul>
<p>Phase II : Sparse Matrix (20 days)</p>
<ul>
<li>Sparse matrix representation using dict+list</li>
<li>Store (Coordinate,value) pairs in dict</li>
<li>Store row-sorted list of keys</li>
<li>Store column-sorted list of keys</li>
<li>All three above DS simultaneously</li>
<li>For many sparse algorithms to work, we need ordered list of keys. Time-complexities would be as required.</li>
<li>Goes with my model of functional/lazy types of objects</li>
<li>Some sparse algorithms do not exist for symbolic matrices. So I will have to port dense algorithms for the sparse repr and optimise it to use the above three-way DS</li>
<li>Port all dense matrix functionalities for sparse</li>
</ul>
<p>Phase III : Optmization using gmpy and using ideas from polys (15 days)</p>
<ul>
<li>After both Sequence/Set capabilities and sparse matrix implementations have been finished, I’ll work with the matrix interface. Interconnections between sparse and dense, and working on the layered class hierarchy.</li>
<li>By this time I will be more familiar with SymPy’s full capabilities and the working of the polys classes.</li>
<li>It is at this time that I will start designing the class hierarchy of the Matrix class</li>
<li>I have already put some design ideas in my previous posts, and will add more for review.</li>
</ul>
<p>Phase IV : Implementing the class hierarchy and adding particular classes of matrices like Jacobian, Diagonal Matrices which are used often (10 days)</p>
<ul>
<li>These classes will exist along side SparseMatrix and DenseMatrix classes at the same level in the hierarchy tree, so that they have algorithms which use their special properties and aren’t just a constructor like in the current module.</li>
<li>I’ve kept this for the end, so that I will add as many classes as time permits.</li>
</ul>
<p>Mid-term evaluation.</p>
<p>Phase V : Finalization (10 days)</p>
<ul>
<li>Debugging, profiling, optimization, tests, writing tests, documentation(Very important as designing interface is a major part of this project)</li>
</ul>
<p>Phase VI</p>
<ul>
<li>Modifying existing SymPy code to fully utilise the new functionalities of the Matrix class.</li>
<li>Of course, this part will continue way after GSoC has ended</li>
</ul>
<br />  <a href="http://feeds.wordpress.com/1.0/gocomments/sherjilozair.wordpress.com/28/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/sherjilozair.wordpress.com/28/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godelicious/sherjilozair.wordpress.com/28/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/delicious/sherjilozair.wordpress.com/28/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gofacebook/sherjilozair.wordpress.com/28/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/facebook/sherjilozair.wordpress.com/28/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gotwitter/sherjilozair.wordpress.com/28/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/twitter/sherjilozair.wordpress.com/28/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gostumble/sherjilozair.wordpress.com/28/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/stumble/sherjilozair.wordpress.com/28/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godigg/sherjilozair.wordpress.com/28/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/digg/sherjilozair.wordpress.com/28/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/goreddit/sherjilozair.wordpress.com/28/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/reddit/sherjilozair.wordpress.com/28/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=sherjilozair.wordpress.com&amp;blog=14711170&amp;post=28&amp;subd=sherjilozair&amp;ref=&amp;feed=1" alt="" height="1" border="0" width="1" /></div>







<p class="date">
<a href="http://sherjilozair.wordpress.com/2011/03/22/gsoc-application/">by Sherjil Ozair at March 22, 2011 08:05 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>March 21, 2011</h2>

<div class="channelgroup">







<h3><a href="http://sherjilozair.wordpress.com" title="Sherjil Ozair">Sherjil Ozair</a></h3>


<div class="entrygroup" id="http://sherjilozair.wordpress.com/?p=17">
<h4 lang="en"><a href="http://sherjilozair.wordpress.com/2011/03/21/numerical-vs-symbolic/">Numerical V/S Symbolic and the Conjugate Gradient method</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>Though Sympy is a Symbolic mathematics module, if one sees it in the direction of a 1.0 library, we have to put in numeric functionalities as well, so that there is a seamless transition between them, using the both the advantage of symbolic computation and the speed and efficiency of numeric computation in the same Class, everything seamless and dynamic.</p>
<p>I happened to come across the Conjugate gradient method, which is used to solve system of linear equations Ax=B, where A is a sparse matrix.  It’s a very powerful algorithm, currently used by search engine giants like Google. Unfortunately, their code isn’t open-source, but fortunately there is an easy reference available in the internet that teaches this algorithm, by the Carnegie-Mellon University. [1]</p>
<p>Implementing such an advanced algorithm is very important for SymPy as some integration methods, Aaron told me, require large systems of simultaneous linear equations to be solved. Moreover Linear Algebra forms a base for many other parts of this library, and must be optimized to the fullest.</p>
<p>My estimate is that doing this alone would take around three weeks. One full week to learn the algorithm’s working. 3-4 days will be required to implement the algorithm, debugging might take another 3-4 days. Profiling and optimization (the most important part for such an algorithm) would take a full week. By the third week, we will have an optimized implementation of the Conjugate Gradient method. I add 2 days for auxiliary functions to be implemented and buffer.</p>
<p>Implementing such an algorithm might be a little frustrating, so keeping alternate work to do, is a good strategy to keep the work going. I can work on some other function that is trivial, or work on the architecture of the classes.</p>
<p>Thus, after the end of the 20 day period, not only will we have a cutting-edge algorithm to solve linear equations, but some progress in the class structure pertaining to the Matrix class. </p>
<p>[1] <a href="http://www.cs.cmu.edu/~quake-papers/painless-conjugate-gradient.pdf">Research paper on the Conjugate Gradient method </a></p>
<br />  <a href="http://feeds.wordpress.com/1.0/gocomments/sherjilozair.wordpress.com/17/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/sherjilozair.wordpress.com/17/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godelicious/sherjilozair.wordpress.com/17/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/delicious/sherjilozair.wordpress.com/17/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gofacebook/sherjilozair.wordpress.com/17/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/facebook/sherjilozair.wordpress.com/17/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gotwitter/sherjilozair.wordpress.com/17/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/twitter/sherjilozair.wordpress.com/17/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gostumble/sherjilozair.wordpress.com/17/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/stumble/sherjilozair.wordpress.com/17/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godigg/sherjilozair.wordpress.com/17/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/digg/sherjilozair.wordpress.com/17/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/goreddit/sherjilozair.wordpress.com/17/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/reddit/sherjilozair.wordpress.com/17/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=sherjilozair.wordpress.com&amp;blog=14711170&amp;post=17&amp;subd=sherjilozair&amp;ref=&amp;feed=1" alt="" height="1" border="0" width="1" /></div>







<p class="date">
<a href="http://sherjilozair.wordpress.com/2011/03/21/numerical-vs-symbolic/">by Sherjil Ozair at March 21, 2011 10:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>March 20, 2011</h2>

<div class="channelgroup">







<h3><a href="http://sherjilozair.wordpress.com" title="Sherjil Ozair">Sherjil Ozair</a></h3>


<div class="entrygroup" id="http://sherjilozair.wordpress.com/?p=14">
<h4 lang="en"><a href="http://sherjilozair.wordpress.com/2011/03/20/sympy-project/">SymPy Project</a></h4>
<div class="entry">
<div class="content" lang="en">
<div>
<p>GSoC is around the corner. Much more than the fame and the prestige that GSoC can give to anyone, it introduces students like me to the thrill of open source software development. Coding is fun, but the feeling that your creation is out there, live, to be run by people all across the world is enthralling. This is my first tryst with the open source community, and I consider myself very lucky to be introduced to this world by a fourth year student of my college.</p>
<p>I searched through the organizations’ list and saw Python Software Foundation, one of its sub-organisations was SymPy. Math and coding ! Perfect combination for me ! I had always wanted something like SymPy ever since I realized the sad limitation that most scientific calculators have when it comes to symbolic computation.</p>
<p>Anyway, enough with the introductions. I’ll skip to what this blog is about. About a new project I have planned for this summer. It involves re-organizing and adding to the Matrix class of sympy and adding support for sparse matrix too. An implementation following OO principles and relying on dynamic programming is desired.</p>
<p>I jump in.</p>
<p>Four categories of classes based in data handling Explicit, lazy, functional and implicit (Names not final; chosen for ease of understanding).</p>
<p>An Explicit class is one with all its internal data calculated at init time and stored in a suitable DS.</p>
<p>An Implicit class is one whose internal data is given by a property. It won’t calculate the internal data at init, and will calculate it as and when needed. There is no facility for storage of the data. It uses and throws the data.</p>
<p>A functional class is is like an implicit class, except that at init, it modifies the property to make it a function, such that it can be computed efficiently later.</p>
<p>A lazy class is like a functional class, except that after calculating any data, it STORES it for re-use. (Dyanamic Programming). There can be a few sub-types to a lazy class, but I will not detail them here.</p>
<p>I plan to implement three family of classes with this abstraction in mind,</p>
<p>the Sequence class, the Set class, and the Matrix class.</p>
<p>Though initially, my purpose was to make a fine-tuned full-scale Matrix class, making a Sequence class and a closely-related Set class would be good building blocks to the Matrix class. For Example, the Set {x:sin(x)=0}, and store it using one of the four class-types,Implicit would just store the Equality, that is, the sin function and the zero. Functional would make effort to get x=F(something), x=k*pi in this example.Explicit would list out the set elements, if the number of elements is finite, and the infinte case will need to be discussed. We can have something like {…,-pi,0,pi,2*pi,…}.</p>
<p>More important than depth of implementation is a proper web of class hierarchies to be established, for a robust final 1.0 grade Matrix class implementation.</p>
<p>I will be using the layered classes structure as already in polys. I understand how the structure works in high-level, but understanding the big polys class would take time before starting. The polys class makes use of two ground_types, the gmpy multi-precision int, and the python int. It will use the gmpy when it is installed, for a more efficient computation. This choice will be hidden from the user, and so will the choice sparse or dense, or which sparse representation is chosen, or which class-type is chosen.</p>
<p>Another level of abstraction, is seamless choice between symbolic and numeric. The algorithms for both are quite different, and using symbol-based algorithms for purely numeric structures is a waste. More-over, The User shouldn’t worry about low-level details. To him the x means just a number.</p>
<p>(optional) Numeric can take advantage of diagonalization-based methods which are O(1), as opposed to standard algorithms O(log n) or O(n). It will be a substantial chunk of my project but I plan to do this at the end with lowest priority. If I’m not able to finish the diagonalization-based algorithms, I can always use the existing mpmath numeric algorithms which are already a part of sympy, which use approximation algorithms.</p>
<p>Most probably, I will be able to finish the diagonalization-based algorithms too, since much of the rest of the work will rely on discussions. So, I can work on both of them in parallel.</p>
<p>In a few days’ time, I will have a list of specific classes and methods that will be implemented along with the algorithms and DS to be used, and a more defined class hierarchy after discussion with my potential mentors. I’ll need to figure out how much stuff would be enough to be called a substantial GSoC project, without making it unrealistic.</p>
</div>
<p> </p>
<br />  <a href="http://feeds.wordpress.com/1.0/gocomments/sherjilozair.wordpress.com/14/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/sherjilozair.wordpress.com/14/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godelicious/sherjilozair.wordpress.com/14/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/delicious/sherjilozair.wordpress.com/14/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gofacebook/sherjilozair.wordpress.com/14/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/facebook/sherjilozair.wordpress.com/14/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gotwitter/sherjilozair.wordpress.com/14/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/twitter/sherjilozair.wordpress.com/14/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gostumble/sherjilozair.wordpress.com/14/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/stumble/sherjilozair.wordpress.com/14/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godigg/sherjilozair.wordpress.com/14/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/digg/sherjilozair.wordpress.com/14/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/goreddit/sherjilozair.wordpress.com/14/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/reddit/sherjilozair.wordpress.com/14/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=sherjilozair.wordpress.com&amp;blog=14711170&amp;post=14&amp;subd=sherjilozair&amp;ref=&amp;feed=1" alt="" height="1" border="0" width="1" /></div>







<p class="date">
<a href="http://sherjilozair.wordpress.com/2011/03/20/sympy-project/">by Sherjil Ozair at March 20, 2011 04:49 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>March 19, 2011</h2>

<div class="channelgroup">







<h3><a href="http://sympy.blogspot.com/" title="Official SymPy blog">Official SymPy blog</a></h3>


<div class="entrygroup" id="tag:blogger.com,1999:blog-2520472460430880330.post-5266141065935110948">
<h4><a href="http://sympy.blogspot.com/2011/03/sympy-is-google-summer-of-code-2011.html">SymPy is a Google Summer of Code 2011 Mentoring Organization</a></h4>
<div class="entry">
<div class="content">
<div>I am proud to announce that SymPy has been accepted as a mentoring organization for Google Summer of Code 2011.  This is great news for the project.  Although we have participated in the past under the umbrella of the Python Software Foundation and Portland State University mentoring organizations, this is the first time that we have been accepted as a mentoring organization.  Out of 417 organizations that applied to Google, 175 were accepted, 50 of which were new.</div><div><br /></div><div>In case you don't know, Google Summer of Code is a program run by Google every year where they pay college students all around the world to write code for open source projects. Each student has a mentor assigned to him/her, who helps the student get started with interacting with open source (most students who are accepted have never participated in open source before).  </div><div><br /></div><div>So now that were are accepted, students are open to applications.  The actual application period opens on March 28, and closes on April 8 (see <a href="http://www.google-melange.com/document/show/gsoc_program/google/gsoc2011/timeline">the program timeline</a>).</div><div><br /></div><div>To students:</div><div><br /></div><div>If you are interested in applying, please write the to mailing list and introduce yourself.  The program is open to anyone worldwide who is 18 years of age or older who is enrolled in a higher education institution (this includes undergraduate and graduate).  If you are interested in applying, here is what you should do (if you have not already):</div><div><br /></div><div>- As I said above, write to the list and introduce yourself.  You might also join our IRC channel, which is #sympy on freenode.</div><div><br /></div><div>- Start thinking about what you want to apply to do.  See our <a href="https://github.com/sympy/sympy/wiki/GSoC-2011-Ideas">ideas page</a>.  However, we are open to ideas that are not on that page. Anything that fits in a computer algebra system would fit in SymPy.  If you have an idea not on that page, please discuss it on our mailing list, so we can see if it has not already be implemented, and if it is fitting for SymPy and for a project.  I recommend you apply to do something that you are interested in personally.</div><div><br /></div><div>- We require for any student to be accepted that he/she submit at least one patch to SymPy, which gets reviewed and pushed in.  See <a href="http://code.google.com/p/sympy/issues/list?can=2&amp;q=label%3AEasyToFix">issues labeled EasyToFix in our issue tracker</a> for some easy to fix issues that are a good place to start.  Don't worry if you do not know how to send in a patch or use git.  We will help you (that is the whole point of the program).  Just ask on the mailing list, on the issue page, or on IRC.</div><div><br /></div><div>- You should start thinking about your application.  See our <a href="https://github.com/sympy/sympy/wiki/GSoC-2011-Application-Template">application template</a> (it will also be at our page on the Google site).  If you like, you can start a page on our wiki to write your proposal.  If you do this, we will help you edit it (though understand that we will not help you write it).  Remember that we want you to get accepted just as much as you do, so you can help improve SymPy!</div><div><br /></div><div>To SymPy developers:</div><div><br /></div><div>- We need people who are willing to mentor students.  If you are willing to mentor, please add your name to the bottom of the <a href="https://github.com/sympy/sympy/wiki/GSoC-2011-ideas">ideas page</a>. </div><div><br /></div><div>- Please edit the ideas page to improve formatting and add new ideas.</div><div><br /></div><div>Good luck to all students who plan on applying!</div><div class="blogger-post-footer"><img src="https://blogger.googleusercontent.com/tracker/2520472460430880330-5266141065935110948?l=sympy.blogspot.com" alt="" height="1" width="1" /></div></div>







<p class="date">
<a href="http://sympy.blogspot.com/2011/03/sympy-is-google-summer-of-code-2011.html">by Aaron Meurer (asmeurer@gmail.com) at March 19, 2011 03:12 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>March 18, 2011</h2>

<div class="channelgroup">







<h3><a href="http://asmeurersympy.wordpress.com" title="Aaron Meurer's SymPy Blog">Aaron Meurer</a></h3>


<div class="entrygroup" id="http://asmeurersympy.wordpress.com/?p=834">
<h4 lang="en"><a href="http://asmeurersympy.wordpress.com/2011/03/18/sympy-is-a-google-summer-of-code-2011-mentoring-organization/">SymPy is a Google Summer of Code 2011 Mentoring Organization</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>I am proud to announce that SymPy has been accepted as a mentoring organization for Google Summer of Code 2011.  This is great news for the project.  Although we have participated in the past under the umbrella of the Python Software Foundation and Portland State University mentoring organizations, this is the first time that we have been accepted as a mentoring organization.  Out of 417 organizations that applied to Google, 175 were accepted, 50 of which were new.</p>
<p>In case you don’t know, Google Summer of Code is a program run by Google every year where they pay college students all around the world to write code for open source projects. Each student has a mentor assigned to him/her, who helps the student get started with interacting with open source (most students who are accepted have never participated in open source before).  </p>
<p>So now that were are accepted, students are open to applications.  The actual application period opens on March 28, and closes on April 8 (see <a href="http://www.google-melange.com/document/show/gsoc_program/google/gsoc2011/timeline">the program timeline</a>).</p>
<p>To students:</p>
<p>If you are interested in applying, please write the to mailing list and introduce yourself.  The program is open to anyone worldwide who is 18 years of age or older who is enrolled in a higher education institution (this includes undergraduate and graduate).  If you are interested in applying, here is what you should do (if you have not already):</p>
<p>- As I said above, write to the list and introduce yourself.  You might also join our IRC channel, which is #sympy on freenode.</p>
<p>- Start thinking about what you want to apply to do.  See our <a href="https://github.com/sympy/sympy/wiki/GSoC-2011-Ideas">ideas page</a>.  However, we are open to ideas that are not on that page. Anything that fits in a computer algebra system would fit in SymPy.  If you have an idea not on that page, please discuss it on our mailing list, so we can see if it has not already be implemented, and if it is fitting for SymPy and for a project.  I recommend you apply to do something that you are interested in personally.</p>
<p>- We require for any student to be accepted that he/she submit at least one patch to SymPy, which gets reviewed and pushed in.  See <a href="http://code.google.com/p/sympy/issues/list?can=2&amp;q=label%3AEasyToFix">issues labeled EasyToFix in our issue tracker</a> for some easy to fix issues that are a good place to start.  Don’t worry if you do not know how to send in a patch or use git.  We will help you (that is the whole point of the program).  Just ask on the mailing list, on the issue page, or on IRC.</p>
<p>- You should start thinking about your application.  See our <a href="https://github.com/sympy/sympy/wiki/GSoC-2011-Application-Template">application template</a> (it will also be at our page on the Google site).  If you like, you can start a page on our wiki to write your proposal.  If you do this, we will help you edit it (though understand that we will not help you write it).  Remember that we want you to get accepted just as much as you do, so you can help improve SymPy!</p>
<p>To SymPy developers:</p>
<p>- We need people who are willing to mentor students.  If you are willing to mentor, please add your name to the bottom of the <a href="https://github.com/sympy/sympy/wiki/GSoC-2011-ideas">ideas page</a>. </p>
<p>- Please edit the ideas page to improve formatting and add new ideas.</p>
<p>Good luck to all students who plan on applying!</p>
<br />  <a href="http://feeds.wordpress.com/1.0/gocomments/asmeurersympy.wordpress.com/834/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/asmeurersympy.wordpress.com/834/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godelicious/asmeurersympy.wordpress.com/834/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/delicious/asmeurersympy.wordpress.com/834/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gofacebook/asmeurersympy.wordpress.com/834/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/facebook/asmeurersympy.wordpress.com/834/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gotwitter/asmeurersympy.wordpress.com/834/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/twitter/asmeurersympy.wordpress.com/834/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gostumble/asmeurersympy.wordpress.com/834/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/stumble/asmeurersympy.wordpress.com/834/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godigg/asmeurersympy.wordpress.com/834/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/digg/asmeurersympy.wordpress.com/834/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/goreddit/asmeurersympy.wordpress.com/834/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/reddit/asmeurersympy.wordpress.com/834/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=asmeurersympy.wordpress.com&amp;blog=7467151&amp;post=834&amp;subd=asmeurersympy&amp;ref=&amp;feed=1" alt="" height="1" border="0" width="1" /></div>







<p class="date">
<a href="http://asmeurersympy.wordpress.com/2011/03/18/sympy-is-a-google-summer-of-code-2011-mentoring-organization/">by asmeurer at March 18, 2011 10:50 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>March 15, 2011</h2>

<div class="channelgroup">







<h3><a href="http://asmeurersympy.wordpress.com" title="Aaron Meurer's SymPy Blog">Aaron Meurer</a></h3>


<div class="entrygroup" id="http://asmeurersympy.wordpress.com/?p=828">
<h4 lang="en"><a href="http://asmeurersympy.wordpress.com/2011/03/15/true-is-true-is-false-is-true-is-false/">True is True is False is True is False</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>Time for <a href="http://asmeurersympy.wordpress.com/2009/07/20/modifying-a-list-while-looping-through-it-in-python/">another</a> <a href="http://asmeurersympy.wordpress.com/2010/06/16/strange-python-behavior-can-someone-please-explain-to-me-what-is-going-on-here/">one</a> of my WTF Python blog posts.  Yesterday, I randomly typed this in a Python session (it was late at night):</p>
<pre class="brush: python;">&gt;&gt;&gt; True is True is False is True is False
False
</pre>
<p>First a little background, in case you don’t know.  The <code>is</code> operator in Python does exact object comparison in memory. Unlike <code>==</code>, which only compares it two objects are equal, <code>is</code> only returns True if both arguments have the same memory address.  So you can have something like:</p>
<pre class="brush: python;">&gt;&gt;&gt; a = 12345
&gt;&gt;&gt; b = 12345
&gt;&gt;&gt; a == b
True
&gt;&gt;&gt; a is b
False
</pre>
<p>Now, there are a handful of Python built-ins that are always equal one another with the <code>is</code> operator.  <code>True</code> and <code>False</code> are two such constants:</p>
<pre class="brush: python;">&gt;&gt;&gt; a = True
&gt;&gt;&gt; b = True
&gt;&gt;&gt; a == b
True
&gt;&gt;&gt; a is b
True
&gt;&gt;&gt; c = False
&gt;&gt;&gt; d = False
&gt;&gt;&gt; c == d
True
&gt;&gt;&gt; c is d
True
</pre>
<p>Now, going back to the above, we see that each <code>is</code> returns <code>True</code> or <code>False</code>, which is then evaluated with the next one.  Or at least that is what you would think is happening.  But go back and look at it again, and see if you can figure out what it should evaluate to.  You could probably guess that something was amiss from the fact that I was blogging about it.  If you haven’t figured it out already, look at the following:</p>
<pre class="brush: python;">&gt;&gt;&gt; True is True is False is True is False
False
&gt;&gt;&gt; (((True is True) is False) is True) is False
True
&gt;&gt;&gt; True is (True is (False is (True is False)))
True
</pre>
<p>So it seems that <code>is</code> does not associate to the left or to the right.  Let’s see if we can figure out what is going on.  First off, <code>True is True</code>, etc. do behave as you expect them to:</p>
<pre class="brush: python;">&gt;&gt;&gt; True is True
True
&gt;&gt;&gt; False is False
True
&gt;&gt;&gt; True is False
False
&gt;&gt;&gt; False is True
False
</pre>
<p>It is when we start using multiple <code>is</code>s in the same statement that we start seeing problems:</p>
<pre class="brush: python;">&gt;&gt;&gt; False is False is False
True
&gt;&gt;&gt; (False is False) is False
False
</pre>
<p>So what’s going on here?  <code>False is False</code> is True, so maybe it is short-circuiting somehow.  </p>
<pre class="brush: python;">&gt;&gt;&gt; True is False is False
False
&gt;&gt;&gt; False is False is True
False
</pre>
<p>No, that is not it.  Those reduce to <code>False is False</code> and <code>True is True</code> when associating to the left, respectively, and <code>True is True</code> and <code>True is True</code> when associating to the right.  </p>
<p>Finally, at this point, it occurs to me what is really going on.  Have you figured it out too (or maybe you already knew all along)?  Maybe you can guess it from this statement, which uses <code>None</code>, another built-in object that always compares equal to itself with the <code>is</code> operator:</p>
<pre class="brush: python;">&gt;&gt;&gt; None is None is None
True
</pre>
<p>So you see what is happening?  <code>is</code> doesn’t associate at all.  Rather, using multiple <code>is</code>s in one statement does multiple comparisons at once.  Any <code>a is b is … x</code> will return <code>True</code> if <code>a</code>, <code>b</code>, …, and <code>x</code> are all equal by the <code>is</code> operator (they share the same identity or memory address), and <code>False</code> otherwise.  Actually, this isn’t surprising, since <code>==</code> works the same way:</p>
<pre class="brush: python;">&gt;&gt;&gt; False == False == False
True
&gt;&gt;&gt; (False == False) == False
False
</pre>
<p>This syntax can actually be useful to test equality of three or more items at once efficiently (Python will not evaluate the same <code>==</code> or <code>is</code> more than once).  But it can be confusing when comparing with <code>True</code> or <code>False</code>, since <code>a is b</code> and <code>a == b</code> themselves evaluate to one of those values.  So remember that it is NOT associative in any way.  Rather, it acts as an n-way comparison. </p>
<p>Finally, as <a href="http://docs.python.org/reference/expressions.html#summary">this table</a> of operator precedence in Python shows, <code>is</code> and <code>==</code> have the same precedence in Python.  Therefore, it should be possible to combine the two in these same statement.  Indeed, you can:</p>
<pre class="brush: python;">&gt;&gt;&gt; a = 12345
&gt;&gt;&gt; b = 12345
&gt;&gt;&gt; c = b
&gt;&gt;&gt; a == b == c
True
&gt;&gt;&gt; a is b is c
False
&gt;&gt;&gt; # Because this is False
...
&gt;&gt;&gt; a is b
False
&gt;&gt;&gt; # But this is True
...
&gt;&gt;&gt; b is c
True
&gt;&gt;&gt; # So we get
...
&gt;&gt;&gt; a == b is c
True
</pre>
<br />  <a href="http://feeds.wordpress.com/1.0/gocomments/asmeurersympy.wordpress.com/828/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/asmeurersympy.wordpress.com/828/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godelicious/asmeurersympy.wordpress.com/828/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/delicious/asmeurersympy.wordpress.com/828/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gofacebook/asmeurersympy.wordpress.com/828/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/facebook/asmeurersympy.wordpress.com/828/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gotwitter/asmeurersympy.wordpress.com/828/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/twitter/asmeurersympy.wordpress.com/828/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gostumble/asmeurersympy.wordpress.com/828/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/stumble/asmeurersympy.wordpress.com/828/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godigg/asmeurersympy.wordpress.com/828/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/digg/asmeurersympy.wordpress.com/828/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/goreddit/asmeurersympy.wordpress.com/828/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/reddit/asmeurersympy.wordpress.com/828/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=asmeurersympy.wordpress.com&amp;blog=7467151&amp;post=828&amp;subd=asmeurersympy&amp;ref=&amp;feed=1" alt="" height="1" border="0" width="1" /></div>







<p class="date">
<a href="http://asmeurersympy.wordpress.com/2011/03/15/true-is-true-is-false-is-true-is-false/">by asmeurer at March 15, 2011 10:29 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>March 11, 2011</h2>

<div class="channelgroup">







<h3><a href="http://fredrik-j.blogspot.com/search/label/sympy" title="Fredrik Johansson">Fredrik Johansson</a></h3>


<div class="entrygroup" id="tag:blogger.com,1999:blog-4754734402679928849.post-3253966970864417650">
<h4><a href="http://fredrik-j.blogspot.com/2011/03/flint-example-lambert-w-function-power.html">A FLINT example: Lambert W function power series</a></h4>
<div class="entry">
<div class="content">
Two days ago, a new version of the <a href="http://flintlib.org/">Fast Library for Number Theory (FLINT)</a> was released. I contributed a lot of new code to this release, including linear algebra speed improvements and new functionality for fast power series arithmetic and computation of special numbers and polynomials (see the <a href="https://groups.google.com/group/flint-devel/browse_thread/thread/759709de4720633f?hl=en">release announcement</a> and some of my <a href="http://sage.math.washington.edu/home/fredrik/flint/timings.html">benchmarking results</a>).<br /><br />In this blog post I'll demonstrate how to do power series arithmetic with FLINT, using its <tt>fmpq_poly</tt> module which implements polynomials over the rational numbers Q. Standard operations  (addition, multiplication and division) were available before; the functions I've added include square root, log, exp, sin, tan, atan, etc. (all the usual elementary functions). The same functions are also available for power series over a finite field Z/nZ (with word-size n). Everything is asymptotically fast (the running time is linear in the size of the output, up to logarithmic factors).<br /><br />Of course, transcendental functions are a bit restricted when considered over Q or Z/nZ, since it's only possible to obtain power series expansions at specific rational points (in most cases just x = 0). So at present, some very interesting numerical applications of fast power series arithmetic are not supported. But some time in the future, we'll probably add support for numerical power series over the reals and complexes as well.<br /><br />As today's example, let us implement the <a href="http://en.wikipedia.org/wiki/Lambert_W_function">Lambert W function</a> for the power series ring Q[[x]]. The Lambert W function is defined implicitly by the equation x = W(x) exp(W(z)), which can be solved using Newton iteration with the update step w = w - (w exp(w) - x) / ((w+1) exp(w)).<br /><br />Power series Newton iteration is just like numerical Newton iteration, except that the convergence behavior is much simpler: starting with a correct first-order expansion, each iteration at least doubles the number of correct coefficients.<br /><br />A simple recursive implementation with asymptotically optimal performance (up to constant factors) looks as follows:<br /><br /><pre><br />#include &lt;stdio.h&gt;<br />#include "flint.h"<br />#include "fmpq_poly.h"<br /><br />void lambertw(fmpq_poly_t w, fmpq_poly_t x, long n)<br />{<br />    if (n == 1)<br />    {<br />        fmpq_poly_zero(w);<br />    }<br />    else<br />    {<br />        fmpq_poly_t t, u, v;<br /><br />        lambertw(w, x, (n + 1) / 2);<br /><br />        fmpq_poly_init(t);<br />        fmpq_poly_init(u);<br />        fmpq_poly_init(v);<br /><br />        fmpq_poly_exp_series(t, w, n);<br />        fmpq_poly_mullow(u, t, w, n);<br />        fmpq_poly_sub(v, u, x);<br />        fmpq_poly_add(t, u, t);<br />        fmpq_poly_div_series(u, v, t, n);<br />        fmpq_poly_sub(w, w, u);<br /><br />        fmpq_poly_clear(t);<br />        fmpq_poly_clear(u);<br />        fmpq_poly_clear(v);<br />    }<br />}<br /></pre><br /><br />Beyond the base case W(x) = 0 + O(x), the function just computes w to accuracy ceil(n/2), and then extends it to accuracy n using a single Newton step. As we can see, C code directly using the FLINT library interface gets a bit verbose, but this style has the advantage of giving precise control over temporary memory allocation, polynomial lengths, etc. (it is very similar to the interface of GMP/MPIR).<br /><br />We add a simple test main routine:<br /><pre><br />int main()<br />{<br />   fmpq_poly_t x;<br />   fmpq_poly_t w;<br /><br />   fmpq_poly_init(x);<br />   fmpq_poly_init(w);<br /><br />   fmpq_poly_set_coeff_ui(x, 1, 1);<br />   lambertw(w, x, 10);<br /><br />   fmpq_poly_print_pretty(w, "x");<br />   printf("\n");<br /><br />   fmpq_poly_clear(x);<br />   fmpq_poly_clear(w);<br />}<br /></pre><br /><br />The output of the program is:<br /><pre><br />531441/4480*x^9 - 16384/315*x^8 + 16807/720*x^7 - 54/5*x^6 + 125/24*x^5 - 8/3*x^4 + 3/2*x^3 - 1*x^2 + 1*x<br /></pre><br /><br />It is well known that the coefficients in this series are given in closed form by (-k)<sup>k-1</sup> / k!, so we can check that the output is correct.<br /><br />Computing 1000 terms takes just a few seconds. If this sounds like much, remember that the coefficients grow rapidly: together, the computed numerators and denominators have over 2 million digits!<br /><br />So far this is perhaps not so interesting, as we could compute the coefficients faster using a direct formula. But the nice thing is that arbitrary compositions are allowed, i.e we can compute W(f(x)) for any given power series f, and this will still be just as fast.<br /><br />Let's consider a nontrivial example: the infinite "power tower" T(z) = z<sup>z<sup>z<sup>z<sup>.<sup>.</sup></sup></sup></sup></sup>. A moment's reflection shows that this is an analytic function with a rational power series expansion around z = 1. In fact, we have explicitly T(z) = W(-log(z))/(-log(z)). We can compute this series expansion (in the shifted variable x = z - 1) as follows:<br /><br /><pre><br />int main()<br />{<br />    fmpq_poly_t x;<br />    fmpq_poly_t w;<br /><br />    long n = 10;<br /><br />    fmpq_poly_init(x);<br />    fmpq_poly_init(w);<br /><br />    fmpq_poly_set_coeff_ui(x, 0, 1);<br />    fmpq_poly_set_coeff_ui(x, 1, 1);<br />    fmpq_poly_log_series(x, x, n + 1);<br />    fmpq_poly_neg(x, x);<br />    lambertw(w, x, n + 1);<br />    fmpq_poly_shift_right(w, w, 1);<br />    fmpq_poly_shift_right(x, x, 1);<br />    fmpq_poly_div_series(w, w, x, n);<br /><br />    fmpq_poly_print_pretty(w, "x");<br />    printf("\n");<br /><br />    fmpq_poly_clear(x);<br />    fmpq_poly_clear(w);<br />}<br /></pre><br /><br />The only complication is that <tt>fmpq_poly_div_series</tt> requires a nonzero leading coefficient in the denominator, so we must shift both series down one power.<br /><br />The program outputs:<br /><pre><br />118001/2520*x^9 + 123101/5040*x^8 + 4681/360*x^7 + 283/40*x^6 + 4*x^5 + 7/3*x^4 + 3/2*x^3 + 1*x^2 + 1*x + 1<br /></pre><br /><br />To make things nicer, we assume that the coefficients have the form a<sub>k</sub> / k! (i.e. that T(z) is the exponential generating function for a<sub>k</sub>) and change the output code to something like the following:<br /><pre><br />    long k;<br />    mpq_t t;<br />    mpz_t u;<br />    mpq_init(t);<br />    mpz_init(u);<br /><br />    for (k = 0; k &lt; n; k++)<br />    {<br />        fmpq_poly_get_coeff_mpq(t, w, k);<br />        mpz_fac_ui(u, k);<br />        mpz_mul(mpq_numref(t), mpq_numref(t), u);<br />        mpq_canonicalize(t);<br />        gmp_printf("%Qd ", t);<br />    }<br /><br />    mpq_clear(t);<br />    mpz_clear(u);<br /></pre><br /><br />This indeed gives us an integer sequence:<br /><pre><br />1 1 2 9 56 480 5094 65534 984808 16992144<br /></pre><br /><br />Now what is the value of the 1000th coefficient (to be precise, a<sub>1000</sub>, the initial one being the 0th!) in this sequence? After a simple modification of the program, 2.9 seconds of computation gives:<br /><br /><pre><br />11608872341636087705816513947297167830568265588875720061704<br />01832880235304267566817912141661469362953389062004053809005<br />65797054717998071778437757582562676432270594729770831984037<br />17901116787718293231769568392734610884078152929278291961741<br />58010228897635319982035567487202368704727403137478203768363<br />54056589570878404139562784693762331122998711070595645913436<br />44753733499423283972136827590268687580725109528808039530647<br />10910254098110789162443473433433758060122558659258182027755<br />69656436509351036076228649393400187670469063215003559774586<br />49501015173633083100668758800804388616363320813332492596835<br />40185987183963214465225072970422690115905543500507650640978<br />08856685726892919091844572545581642428942983342505179168857<br />61923031601434642410137173087273453449219217659949560840949<br />29145910407919393564145312029717057693032572341514569188719<br />42207889248610196901459400077483577940763454422516589494589<br />38697976290832628091067571489853751119661925805775760182956<br />07151657547554699411688610841404991952520564137242651305186<br />19966880917401902668151574186675809680229260294868082194497<br />63338464294487320831362657576767926588975644587806316363928<br />21662453081804476234328933125206970873131871382852201414093<br />31942812710129867491990841736391939490562342870154316209797<br />95555638177793757660689621198594912024704112203014400855204<br />04879191040818216462884689447945725483793082854991264186114<br />00713712447555062853630274495412279277142852027491666742488<br />18689076794537156576609645279481454870296442864829766014978<br />76385015229773871193575960430599394232421616401025152808967<br />97542967829629757402705726445239053261557399630212654678115<br />91948563122399554735529747742515102962530483866618795187470<br />92568029262248891738821070847168914030430887617489382116571<br />31479578425767585519331805968937010542495567221591600504522<br />70151935685333213987251220404383044513120115761331175072544<br />91881860724844683157343078083901966247367831930705346651165<br />57731933519958498663270193078704185994119446629783305199163<br />25824443621182783667024174595493553934149891052564101562124<br />66082538519787858297949190033471879555319648142879656530503<br />22140399695072998272983889906823049155302053273484019653833<br />08158019685729676988160041114485564188896445502120959889736<br />26684734069125268167350474483728161637188322446040542612820<br />83620649731423678182582137133666912162187578149277916758677<br />65932622140692260754343559763758688544180440952477345437585<br />88260535486569816885029406514351482276962081562798684604230<br />27051552771077659399889469617306015354335528530235916712574<br />33756257973655927835185354982512983428012895270181767297060<br />61394636504681554763302758450669487653360858511886083023090<br />56603401440047692698200295529572915618836122163118770906896<br />63441094011689868848158568518095899683719854486361541380832<br />18026233272569661209672552513531416295218659379214599386577<br />71439492527626159018195922050167504883881038997644963556212<br />95634222871269535245013411241216112695705600000000000000000<br />0000000000000000000000000 <br /></pre><br /><br />In fact, if we look up the first 10 coefficients in the On-Line Encyclopedia of Integer Sequences, we find <a href="http://oeis.org/A033917">http://oeis.org/A033917</a>. This OEIS entry lists the representation<br /><br />a(n) = Sum_{k=0..n} Stirling1(n, k)*(k+1)^(k-1)<br /><br />Since FLINT supports fast vector computation of Stirling numbers, this formula can be implemented efficiently:<br /><br /><pre><br />#include "fmpz.h"<br />#include "fmpz_vec.h"<br />#include "arith.h"<br /><br />void coefficient(fmpz_t a, long n)<br />{<br />    long k;<br />    fmpz * s;<br />    fmpz_t t;<br /><br />    s = _fmpz_vec_init(n + 1);<br />    fmpz_stirling1_vec(s, n, n + 1);<br /><br />    fmpz_init(t);<br />    fmpz_zero(a);<br />    for (k = 1; k &lt;= n; k++)<br />    {<br />        fmpz_set_ui(t, k + 1);<br />        fmpz_pow_ui(t, t, k - 1);<br />        fmpz_addmul(a, s + k, t);<br />    }<br /><br />    _fmpz_vec_clear(s, n + 1);<br />    fmpz_clear(t);<br />}<br /><br />int main()<br />{<br />    fmpz_t a;<br />    fmpz_init(a);<br />    coefficient(a, 1000);<br />    fmpz_print(a);<br />    printf("\n");<br />    fmpz_clear(a);<br />}<br /></pre><br /><br />And indeed, the output turns out to be the same!<br /><br />This program is faster, taking only 0.1 seconds to run. But of course, it only gives us a single coefficient, and would be slower for computing a range of values by making repeated calls.<br /><br />Similar ideas to those presented here (basically, reducing a problem to fast polynomial multiplication using generating functions, Newton iteration, etc.) are used internally by FLINT for computation of the standard elementary functions themselves as well as various special numbers and polynomials (Bernoulli numbers and polynomials, partitions, Stirling numbers, Bell numbers, etc). The internal code uses a lot of tricks to reduce overhead and handle special cases faster, however. (See the previous blog post <a href="http://fredrik-j.blogspot.com/2010/09/fast-combinatorial-and-number-theoretic.html">Fast combinatorial and number-theoretic functions with FLINT 2</a>, and for more recent information the release announcement and benchmarks page linked at the top of this post.)<br /><br />In other news, I haven't written a lot of code for mpmath or Sage recently. Of course, my hope is that FLINT (2) will make it into Sage in the not too distant future. The fast polynomial and power series arithmetic support in FLINT will also be very useful for future special functions applications (in mpmath and elsewhere).<div class="blogger-post-footer"><img src="https://blogger.googleusercontent.com/tracker/4754734402679928849-3253966970864417650?l=fredrik-j.blogspot.com" alt="" height="1" width="1" /></div></div>







<p class="date">
<a href="http://fredrik-j.blogspot.com/2011/03/flint-example-lambert-w-function-power.html">by Fredrik Johansson (fredrik.johansson@gmail.com) at March 11, 2011 03:37 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>February 15, 2011</h2>

<div class="channelgroup">







<h3><a href="http://fseoane.net/blog" title="F. Pedregosa">Fabian Pedregosa</a></h3>


<div class="entrygroup" id="http://fseoane.net/blog/?p=440">
<h4 lang="en"><a href="http://fseoane.net/blog/2011/computing-the-vector-norm/">Computing the vector norm</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>Last week I discussed with <a href="http://gael-varoquaux.info/blog/">Gael</a> how we should compute the euclidean norm of a vector a using SciPy. Two approaches suggest themselves, either calling scipy.linalg.norm(a) or computing sqrt(a.T a), but as I learned later, both suck.</p>
<p><b>Note:</b> I use single-precision arithmetic for simplicity, but similar results hold for double-precision.</p>
<h3>Overflow and underflow</h3>
<p>Both approaches behave terribly in presence of big or small numbers. Take for example an array with a single entry:</p>
<div style="overflow: auto; white-space: nowrap; width: 435px;" class="codecolorer-container python default"><div style="" class="python codecolorer">In <span style="color: black;">[</span><span style="color: #ff4500;">0</span><span style="color: black;">]</span>: a = np.<span style="color: #dc143c;">array</span><span style="color: black;">(</span><span style="color: black;">[</span>1e20<span style="color: black;">]</span>, dtype=np.<span style="color: black;">float32</span><span style="color: black;">)</span><br />
In <span style="color: black;">[</span><span style="color: #ff4500;">1</span><span style="color: black;">]</span>: a<br />
Out<span style="color: black;">[</span><span style="color: #ff4500;">1</span><span style="color: black;">]</span>: <span style="color: #dc143c;">array</span><span style="color: black;">(</span><span style="color: black;">[</span>  1.00000002e+20<span style="color: black;">]</span>, dtype=float32<span style="color: black;">)</span><br />
In <span style="color: black;">[</span><span style="color: #ff4500;">2</span><span style="color: black;">]</span>: scipy.<span style="color: black;">linalg</span>.<span style="color: black;">norm</span><span style="color: black;">(</span>a<span style="color: black;">)</span><br />
Out<span style="color: black;">[</span><span style="color: #ff4500;">2</span><span style="color: black;">]</span>: inf<br />
In <span style="color: black;">[</span><span style="color: #ff4500;">3</span><span style="color: black;">]</span>: np.<span style="color: black;">sqrt</span><span style="color: black;">(</span>np.<span style="color: black;">dot</span><span style="color: black;">(</span>a.<span style="color: black;">T</span>, a<span style="color: black;">)</span><span style="color: black;">)</span><br />
Out<span style="color: black;">[</span><span style="color: #ff4500;">3</span><span style="color: black;">]</span>: inf</div></div>
<p>That is, both methods return Infinity. However, the correct answer is 10^20, which would comfortably fit in a <a href="http://en.wikipedia.org/wiki/Single_precision_floating-point_format">single-precision</a> instruction. Similar examples can be found where numbers underflow.</p>
<h3>Stability</h3>
<p>Again, scipy.linalg.norm has a terrible behavior in what concerns numerical stability. In presence of different magnitudes severe cancellation can occur. Take for example and array with one 10.000 in the first value and 10.000 ones behind:</p>
<div style="overflow: auto; white-space: nowrap; width: 435px;" class="codecolorer-container python default"><div style="" class="python codecolorer">a = np.<span style="color: #dc143c;">array</span><span style="color: black;">(</span><span style="color: black;">[</span>1e4<span style="color: black;">]</span> + <span style="color: black;">[</span><span style="color: #ff4500;">1</span><span style="color: black;">]</span><span style="color: #66cc66;">*</span><span style="color: #ff4500;">10000</span>, dtype=np.<span style="color: black;">float32</span><span style="color: black;">)</span></div></div>
<p>In this case, scipy.linalg.norm will discard all the ones, producing</p>
<div style="overflow: auto; white-space: nowrap; width: 435px;" class="codecolorer-container python default"><div style="" class="python codecolorer">In <span style="color: black;">[</span><span style="color: #ff4500;">3</span><span style="color: black;">]</span>: linalg.<span style="color: black;">norm</span><span style="color: black;">(</span>a<span style="color: black;">)</span> - 1e4<br />
Out<span style="color: black;">[</span><span style="color: #ff4500;">3</span><span style="color: black;">]</span>: <span style="color: #ff4500;">0.0</span></div></div>
<p>when the correct answer is 0.5. Here <img src="http://s.wordpress.com/latex.php?latex=%5Csqrt%7Ba%5ET%20a%7D&amp;bg=ffffff&amp;fg=000000&amp;s=0" alt="\sqrt{a^T a}" class="latex" title="\sqrt{a^T a}" /> has a much nicer behavior since results of a dot-product in single precision are accumulated using double-precision (but if double-precision is used, results won’t be accumulated using quadruple-precision):</p>
<div style="overflow: auto; white-space: nowrap; width: 435px;" class="codecolorer-container python default"><div style="" class="python codecolorer">In <span style="color: black;">[</span><span style="color: #ff4500;">4</span><span style="color: black;">]</span>: np.<span style="color: black;">sqrt</span><span style="color: black;">(</span>np.<span style="color: black;">dot</span><span style="color: black;">(</span>a.<span style="color: black;">T</span>, a<span style="color: black;">)</span><span style="color: black;">)</span> - 1e4<br />
Out<span style="color: black;">[</span><span style="color: #ff4500;">4</span><span style="color: black;">]</span>: <span style="color: #ff4500;">0.5</span></div></div>
<h3>BLAS BLAS BLAS …</h3>
<p>The BLAS function <a href="http://www.netlib.org/blas/snrm2.f">nrm2</a> does automatic scaling of parameters rendering it more stable and tolerant to overflow. Luckily, scipy provides a mechanism to call some BLAS functions:</p>
<div style="overflow: auto; white-space: nowrap; width: 435px;" class="codecolorer-container python default"><div style="" class="python codecolorer">In <span style="color: black;">[</span><span style="color: #ff4500;">5</span><span style="color: black;">]</span>: nrm2, = scipy.<span style="color: black;">linalg</span>.<span style="color: black;">get_blas_funcs</span><span style="color: black;">(</span><span style="color: black;">(</span><span style="color: #483d8b;">'nrm2'</span>,<span style="color: black;">)</span>, <span style="color: black;">(</span>a,<span style="color: black;">)</span><span style="color: black;">)</span></div></div>
<p>Using this function, no overflow occurs (hurray!)</p>
<div style="overflow: auto; white-space: nowrap; width: 435px;" class="codecolorer-container python default"><div style="" class="python codecolorer">In <span style="color: black;">[</span><span style="color: #ff4500;">95</span><span style="color: black;">]</span>: a = np.<span style="color: #dc143c;">array</span><span style="color: black;">(</span><span style="color: black;">[</span>1e20<span style="color: black;">]</span>, dtype=np.<span style="color: black;">float32</span><span style="color: black;">)</span><br />
In <span style="color: black;">[</span><span style="color: #ff4500;">96</span><span style="color: black;">]</span>: nrm2<span style="color: black;">(</span>a<span style="color: black;">)</span><br />
Out<span style="color: black;">[</span><span style="color: #ff4500;">96</span><span style="color: black;">]</span>: 1.0000000200408773e+20</div></div>
<p>and stability is greatly improved</p>
<div style="overflow: auto; white-space: nowrap; width: 435px;" class="codecolorer-container python default"><div style="" class="python codecolorer">In <span style="color: black;">[</span><span style="color: #ff4500;">99</span><span style="color: black;">]</span>: nrm2<span style="color: black;">(</span>a<span style="color: black;">)</span> - 1e4<br />
Out<span style="color: black;">[</span><span style="color: #ff4500;">99</span><span style="color: black;">]</span>: <span style="color: #ff4500;">0.49998750062513864</span></div></div>
<h3>Timing</h3>
<p>Computing the 2-norm of an array is a very cheap operation, thus computations are usually dominated by external factors, such as latency of memory access or overhead in the Python/C layer. Experimental benchmarks on an array of size 10^7 show that nrm2 is marginally slower than <img src="http://s.wordpress.com/latex.php?latex=%5Csqrt%7Ba%5ET%20a%7D&amp;bg=ffffff&amp;fg=000000&amp;s=0" alt="\sqrt{a^T a}" class="latex" title="\sqrt{a^T a}" />, because scaling has a cost, but is is also more stable and less prone to overflow and underflow. It also shows that scipy.linalg.norm is the slowest (and numerically worst!) of all.</p>
<table border="1">
<tbody><tr>
<td><img src="http://s.wordpress.com/latex.php?latex=%5Csqrt%7Ba%5ET%20a%7D&amp;bg=ffffff&amp;fg=000000&amp;s=0" alt="\sqrt{a^T a}" class="latex" title="\sqrt{a^T a}" /></td>
<td>BLAS nrm2(a)</td>
<td>scipy.linalg.norm(a)</td>
</tr>
<tr>
<td>0.02</td>
<td>0.02</td>
<td>0.16</td>
</tr>
</tbody></table></div>







<p class="date">
<a href="http://fseoane.net/blog/2011/computing-the-vector-norm/">by fabian at February 15, 2011 08:31 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>February 11, 2011</h2>

<div class="channelgroup">







<h3><a href="http://fseoane.net/blog" title="F. Pedregosa">Fabian Pedregosa</a></h3>


<div class="entrygroup" id="http://fseoane.net/blog/?p=417">
<h4 lang="en"><a href="http://fseoane.net/blog/2011/smells-like-hacker-spirit/">Smells like hacker spirit</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>I was last weekend in <a href="http://fosdem.org/2011/">FOSDEM</a> presenting <a href="http://scikit-learn.sf.net">scikits.learn</a> (<a href="http://fseoane.net/talks/fosdem-skl/">here are the slides</a> I used at the Data Analytics Devroom). Kudos to <a href="http://twitter.com/#!/ogrisel">Olivier Grisel</a> and all the people who organized such a fun and authentic meeting!</p>
<p><a href="http://www.flickr.com/photos/alper/5417861859/"><img src="http://farm6.static.flickr.com/5136/5417861859_8480c65eed_m.jpg" height="240" width="179" /></a></p>
<p><a href="http://www.flickr.com/photos/fseoane/5425114531/" title="scikits.learn at FOSDEM 2011 por Fabian Pedregosa, en Flickr"><img src="http://farm6.static.flickr.com/5294/5425114531_6eec316967_m.jpg" alt="scikits.learn at FOSDEM 2011" height="240" width="194" /></a></p></div>







<p class="date">
<a href="http://fseoane.net/blog/2011/smells-like-hacker-spirit/">by fabian at February 11, 2011 07:50 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>January 09, 2011</h2>

<div class="channelgroup">







<h3><a href="http://asmeurersympy.wordpress.com" title="Aaron Meurer's SymPy Blog">Aaron Meurer</a></h3>


<div class="entrygroup" id="http://asmeurersympy.wordpress.com/?p=820">
<h4 lang="en"><a href="http://asmeurersympy.wordpress.com/2011/01/09/i-am-now-the-sympy-project-leader/">I am now the SymPy project leader</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>You can imagine my surprise when I opened my email last Monday and saw this message from Ondrej:</p>
<blockquote><p>
Hi Aaron,</p>
<p>would you like to become the main maintainer/project leader for sympy?<br />
In the last year, it is clearly you, who does most of the work, and<br />
also your blog has quite some visibility now.<br />
It’d be cool to do some release from time to time. Mateusz is<br />
finishing is poly’s branch, so probably his code would go into the<br />
release.
</p></blockquote>
<p>So I guess now I am the project leader for SymPy.  As to what exactly this means, I am not yet entirely sure, but so far it has meant that I get to do a lot more work than before (yay!).</p>
<p>Actually, the work is because I have spent the last week working nonstop to get things ready to do a release.  I should have a release candidate for SymPy 0.7.0 ready some time next week.  I’ll post more here about what’s change, but this is going to be a big release.  The biggest change will be the new polys, which makes things much faster and more powerful.  </p>
<p>Also, I will try to post things here relating to SymPy as a whole, not just my work.  </p>
<p>Ondrej, by the way, isn’t going anywhere. He plans on doing some work on ways to get SymPy out to more people by writing more/better web and mobile interfaces for it.  A big thanks to Ondrej and the SymPy community for making such an awesome piece of software!</p>
<br />  <a href="http://feeds.wordpress.com/1.0/gocomments/asmeurersympy.wordpress.com/820/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/asmeurersympy.wordpress.com/820/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godelicious/asmeurersympy.wordpress.com/820/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/delicious/asmeurersympy.wordpress.com/820/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gofacebook/asmeurersympy.wordpress.com/820/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/facebook/asmeurersympy.wordpress.com/820/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gotwitter/asmeurersympy.wordpress.com/820/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/twitter/asmeurersympy.wordpress.com/820/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gostumble/asmeurersympy.wordpress.com/820/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/stumble/asmeurersympy.wordpress.com/820/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godigg/asmeurersympy.wordpress.com/820/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/digg/asmeurersympy.wordpress.com/820/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/goreddit/asmeurersympy.wordpress.com/820/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/reddit/asmeurersympy.wordpress.com/820/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=asmeurersympy.wordpress.com&amp;blog=7467151&amp;post=820&amp;subd=asmeurersympy&amp;ref=&amp;feed=1" alt="" height="1" border="0" width="1" /></div>







<p class="date">
<a href="http://asmeurersympy.wordpress.com/2011/01/09/i-am-now-the-sympy-project-leader/">by asmeurer at January 09, 2011 12:29 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>January 02, 2011</h2>

<div class="channelgroup">







<h3><a href="http://asmeurersympy.wordpress.com" title="Aaron Meurer's SymPy Blog">Aaron Meurer</a></h3>


<div class="entrygroup" id="http://asmeurersympy.wordpress.com/?p=810">
<h4 lang="en"><a href="http://asmeurersympy.wordpress.com/2011/01/02/2010-in-review/">2010 in review</a></h4>
<div class="entry">
<div class="content" lang="en">
<p><i>Here’s some silly thing that WordPress sent me:</i></p>
<p>The stats helper monkeys at WordPress.com mulled over how this blog did in 2010, and here’s a high level summary of its overall blog health:</p>
<p align="center"><img src="http://s0.wp.com/i/annual-recap/meter-healthy4.gif" alt="Healthy blog!" height="183" style="border: 1px solid #ddd; background: #f5f5f5; padding: 20px;" width="250" /></p>
<p align="center">The <em>Blog-Health-o-Meter™</em> reads This blog is on fire!.</p>
<h2>Crunchy numbers</h2>
<p>			<a href="http://asmeurersympy.files.wordpress.com/2009/07/code-block-2.png"><img src="http://asmeurersympy.files.wordpress.com/2009/07/code-block-2.png?w=288" alt="Featured image" style="float: right; border: 1px solid #ddd; background: #fff; margin: 0 0 1em 1em; padding: 6px;" /></a></p>
<p>A Boeing 747-400 passenger jet can hold 416 passengers.  This blog was viewed about <strong>6,800</strong> times in 2010.  That’s about 16 full 747s.</p>
<p></p>
<p>In 2010, there were <strong>16</strong> new posts, growing the total archive of this blog to 41 posts. There were <strong>7</strong> pictures uploaded, taking up a total of 1mb. </p>
<p>The busiest day of the year was July 4th with <strong>103</strong> views. The most popular post that day was <a style="color: #08c;" href="http://asmeurersympy.wordpress.com/2010/06/30/the-risch-algorithm-part-1/">The Risch Algorithm: Part 1</a>.</p>
<p></p>
<h2>Where did they come from?</h2>
<p>The top referring sites in 2010 were <strong><a href="http://code.google.com">code.google.com</a></strong>, <strong><a href="http://planet.sympy.org">planet.sympy.org</a></strong>, <strong><a href="http://www.facebook.com">facebook.com</a></strong>, <strong><a href="http://www.stackoverflow.com">stackoverflow.com</a></strong>, and <strong><a href="http://socghop.appspot.com">socghop.appspot.com</a></strong>.</p>
<p>Some visitors came searching, mostly for <strong><a href="http://www.google.com/search?q=risch%20algorithm">risch algorithm</a></strong>, <strong><a href="http://www.google.com/search?q=pudb">pudb</a></strong>, <strong><a href="http://www.google.com/search?q=integrate%20exponential">integrate exponential</a></strong>, <strong><a href="http://www.google.com/search?q=equations%20with%20homogeneous%20coefficients">equations with homogeneous coefficients</a></strong>, and <strong><a href="http://www.google.com/search?q=xcode%20trailing%20whitespace">xcode trailing whitespace</a></strong>.</p>
<p><em>I have linked the search terms to their respective Google searches, so you can see how far up my blog posts are in the results list.</em></p>
<div style="clear: both;"></div>
<h2>Attractions in 2010</h2>
<p>These are the posts and pages that got the most views in 2010.</p>
<div style="">1</div>
<p>					<a style="margin-right: 10px;" href="http://asmeurersympy.wordpress.com/2010/06/30/the-risch-algorithm-part-1/">The Risch Algorithm: Part 1</a> <span style="color: #999; font-size: 8pt;">June 2010</span><br />3 comments											</p>
<div style="">2</div>
<p>					<a style="margin-right: 10px;" href="http://asmeurersympy.wordpress.com/2009/11/13/how-to-get-both-32-bit/">How to get both 32-bit and 64-bit Python in Snow Leopard</a> <span style="color: #999; font-size: 8pt;">November 2009</span><br />5 comments and 1 Like on WordPress.com,											</p>
<div style="">3</div>
<p>					<a style="margin-right: 10px;" href="http://asmeurersympy.wordpress.com/2009/07/20/modifying-a-list-while-looping-through-it-in-python/">Modifying a list while looping through it in Python</a> <span style="color: #999; font-size: 8pt;">July 2009</span><br />13 comments											</p>
<div style="">4</div>
<p>					<a style="margin-right: 10px;" href="http://asmeurersympy.wordpress.com/2010/07/12/integration-of-exponential-functions/">Integration of exponential functions</a> <span style="color: #999; font-size: 8pt;">July 2010</span><br />3 comments											</p>
<div style="">5</div>
<p>					<a style="margin-right: 10px;" href="http://asmeurersympy.wordpress.com/2009/05/31/first-order-differential-equations-with-homogeneous-coefficients/">First Order Differential Equations with Homogeneous Coefficients</a> <span style="color: #999; font-size: 8pt;">May 2009</span><br />2 comments											</p>
<p><em>I wonder where things are coming from from Facebook.  I do not have an account there, so I can’t search it to find out.</em></p>
<br />  <a href="http://feeds.wordpress.com/1.0/gocomments/asmeurersympy.wordpress.com/810/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/asmeurersympy.wordpress.com/810/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godelicious/asmeurersympy.wordpress.com/810/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/delicious/asmeurersympy.wordpress.com/810/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gofacebook/asmeurersympy.wordpress.com/810/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/facebook/asmeurersympy.wordpress.com/810/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gotwitter/asmeurersympy.wordpress.com/810/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/twitter/asmeurersympy.wordpress.com/810/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gostumble/asmeurersympy.wordpress.com/810/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/stumble/asmeurersympy.wordpress.com/810/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godigg/asmeurersympy.wordpress.com/810/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/digg/asmeurersympy.wordpress.com/810/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/goreddit/asmeurersympy.wordpress.com/810/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/reddit/asmeurersympy.wordpress.com/810/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=asmeurersympy.wordpress.com&amp;blog=7467151&amp;post=810&amp;subd=asmeurersympy&amp;ref=&amp;feed=1" alt="" height="1" border="0" width="1" /></div>







<p class="date">
<a href="http://asmeurersympy.wordpress.com/2011/01/02/2010-in-review/">by asmeurer at January 02, 2011 11:07 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>December 31, 2010</h2>

<div class="channelgroup">







<h3><a href="http://fseoane.net/blog" title="F. Pedregosa">Fabian Pedregosa</a></h3>


<div class="entrygroup" id="http://fseoane.net/blog/?p=307">
<h4 lang="en"><a href="http://fseoane.net/blog/2010/new-examples-in-scikits-learn-0-6/">New examples in scikits.learn 0.6</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>Latest release of <a href="http://scikit-learn.sf.net">scikits.learn</a> comes with an <a href="http://scikit-learn.sourceforge.net/0.6/auto_examples/index.html">awesome collection of examples</a>. These are some of my favorites:</p>
<h3>Faces recognition</h3>
<p><a href="http://scikit-learn.sourceforge.net/0.6/auto_examples/applications/plot_face_recognition.html">This example</a> by <a href="http://twitter.com/ogrisel/">Olivier Grisel</a>, downloads a 58MB faces dataset from <a href="http://vis-www.cs.umass.edu/lfw/">Labeled Faces in the Wild</a>, and is able to perform PCA for feature extraction and SVC for classification, yielding a very acceptable 0.85 f1-score.</p>
<p><a href="http://scikit-learn.sourceforge.net/0.6/auto_examples/applications/plot_face_recognition.html"><img src="http://scikit-learn.sourceforge.net/0.6/_images/plot_face_recognition.png" width="500px" /></a></p><a href="http://scikit-learn.sourceforge.net/0.6/auto_examples/applications/plot_face_recognition.html">
<h3>Species distribution modeling</h3>
</a><p><a href="http://scikit-learn.sourceforge.net/0.6/auto_examples/applications/plot_face_recognition.html"></a><a href="http://scikit-learn.sourceforge.net/0.6/auto_examples/applications/plot_species_distribution_modeling.html">This example</a> by <a href="http://sites.google.com/site/peterprettenhofer/">Peter Prettenhofer</a>, models the geographical distribution of two south american mammals given past observations and 14 environmental variables. </p>
<p><a href="http://scikit-learn.sourceforge.net/0.6/auto_examples/applications/plot_species_distribution_modeling.html"><img src="http://scikit-learn.sourceforge.net/0.6/_images/plot_species_distribution_modeling.png" width="500px" /></a></p>
<h3>Libsvm GUI</h3>
<p><a href="http://scikit-learn.sourceforge.net/0.6/auto_examples/applications/svm_gui.html">This example</a>, again by <a href="http://sites.google.com/site/peterprettenhofer/">Peter Prettenhofer</a> and based on matplotlib and Tk, lets you draw data points in a canvas and it will interactively show the decision function of the SVM classifier. See <a href="http://vimeo.com/18308519">this video</a> for a small showcase (music by <a href="http://www.crepus.com/supercrepus.html">Joe Crepúsculo</a> can be downloaded <a href="http://www.crepus.com/Supercrepus.rar">here</a>)</p>
<p> &lt;iframe frameborder="0" height="300" src="http://player.vimeo.com/video/18308519" width="400"&gt;&lt;/iframe&gt;</p></div>







<p class="date">
<a href="http://fseoane.net/blog/2010/new-examples-in-scikits-learn-0-6/">by fabian at December 31, 2010 11:55 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>December 27, 2010</h2>

<div class="channelgroup">







<h3><a href="http://asmeurersympy.wordpress.com" title="Aaron Meurer's SymPy Blog">Aaron Meurer</a></h3>


<div class="entrygroup" id="http://asmeurersympy.wordpress.com/?p=782">
<h4 lang="en"><a href="http://asmeurersympy.wordpress.com/2010/12/27/major-api-change-for-the-risch-algorithm-functions/">Major API Change for the Risch Algorithm Functions</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>I have been able to get to work again on the Risch Algorithm now that I have a month winter break from classes.  So the first thing I did was commit a bunch of bug fixes that had been sitting there since the end of the summer.  Then, I set out to make a major internal API change to the entire Risch Algorithm.</p>
<p>Let me give some background.  When I first started programming the Risch Algorithm at the beginning of the summer, I didn’t have a very good idea of how differential extensions worked yet (remember that I programmed the algorithm as I learned it from Bronstein’s book).  Let me use the function <code>derivation()</code> to demonstrate how the API has changed.  <code>derivation()</code> takes the Poly <code>p</code> in <code>t</code> and computes the derivative (<code>t</code> is some transcendental extension, like <img src="http://s0.wp.com/latex.php?latex=e%5Ex&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="e^x" class="latex" title="e^x" />).  Also, the integration variable is <code>x</code>.  The first internal API that I used was</p>
<p><code>derivation(p, D, x, t)</code></p>
<p>where <code>D</code> is a Poly of the derivative of <code>t</code>, and <code>x</code> and <code>t</code> are Symbols (see <a href="https://github.com/asmeurer/sympy/commit/0f6a3d90f724118fadc5fdaf290a0cb3e3963efd">this commit</a>).   The problem here is that <code>p</code> might not be in just one symbol, <code>t</code>, but in many. This would happen whenever the function had more than one transcendental function, or extension, in it.  So, for example, <img src="http://s0.wp.com/latex.php?latex=e%5Ex%5Clog%7Bx%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="e^x\log{x}" class="latex" title="e^x\log{x}" /> would have this problem. Surprisingly, according to the git log, it took me until July 4 to figure this out (that above linked commit, which is the first occurrence of this function and when I started the full algorithm, dates from June 7, so it took me almost a month!), after which I had already written a good portion of the Risch Algorithm.  I changed the API to</p>
<p><code>derivation(p, D, x, T)</code></p>
<p>where <code>T</code> is a list of the extension variables and <code>D</code> is a list of the derivations of the respective elements of <code>T</code> with respect to the lower elements and x (see <a href="https://github.com/asmeurer/sympy/commit/20b7a5f8ca8dec579065f85583f11cc0955b96f0">this commit</a>).  Now, the derivation of <code>x</code> is always <code>Poly(1, x)</code>, so I didn’t think it was necessary to include it.  But it turns out that it is easier to just always include this in <code>D</code> rather than try to special case it in the code.  Also, the lowest extension variable, <code>x</code>, isn’t used very often in the code, so it also doesn’t make much sense to keep it separate from the rest of the variables in <code>T</code>.  Now this didn’t take me as long to figure out (July 11).  Therefore, I changed the API to just</p>
<p><code>derivation(p, D, T)</code></p>
<p>where the first element of <code>T</code> is always <code>x</code> and the first element of <code>D</code> is always <code>Poly(1, x)</code> (see <a href="https://github.com/asmeurer/sympy/commit/bca2b19844ae71aa1ef8e27a9f77eabb70b4aa5f">this commit</a>).</p>
<p>Now this API worked quite well for the remainder of the summer.  However, at the very end, I discovered that a function required to handle some special cases in certain parts of the algorithm needed four more lists (the elements of the extension that are logarithms, the elements of the extension that are exponentials, the arguments of those logarithms, and the arguments of those exponentials).  I had previously thought that these lists would only be needed when creating the extension at the beginning of integration, but it turned out that this was not the case and that they could be needed in several rather deep places in the algorithm.  The only way to get them there would be to pass them through to every single function in the algorithm.    </p>
<p>So I was faced with a dilemma.  I didn’t want to pass six arguments through each function just because a few might need them all.  I knew that the answer was to create an object to store all the data for a differential extension and to just pass this object around.  Unfortunately, this happened at the very end of the summer, so I hadn’t been able to do that until now.  </p>
<p>This brings us to now.  Over the past couple of weeks, I created an object called <code>DifferentialExtension</code>, and replaced the API in the Risch Algorithm to use it.  See <a href="https://github.com/asmeurer/sympy/commit/d9d9548625513188aaa663621bfe4e097aebf741">this commit</a> and <a href="https://github.com/asmeurer/sympy/commit/1935b6d6e1fdf8eae4deb5a4f56ea53c5d6989fa">this commit</a> and some of the ones in between to see what I did. More or less, the object is like a C struct—it does little more than hold a lot of information as attributes.  However, at the suggestion of Ronan Lamy on the <a href="http://groups.google.com/group/sympy/browse_thread/thread/a051b5ba1fb5cb4d">mailing list</a>, I have moved all the relevant code for building the extension from the <code>build_extension()</code> function into <code>DifferentialExtension.__init__()</code>.  I have also created some “magic” to handle the recursive nature of the algorithm.  A DifferentialExtension object has an attribute <code>level</code>, which represents the level of the extension that the algorithm is working in.  So you can store all the derivations of the extension in <code>DifferentialExtension.D</code>, but only have <code>DifferentialExtension.d</code> point to the “current” outermost derivation.  This replaces things like</p>
<p><code>D = D[:-1]<br />
T = T[:-1]<br />
</code> </p>
<p>from the old API to just</p>
<p><code>DE.decrement_level()<br />
</code></p>
<p>(and then later on, <code>DE.increment_level()</code>).  The entire API is now just</p>
<p><code>derivation(p, DE)</code></p>
<p>where <code>DE</code> is a <code>DifferentialExtension</code> object.  Changing the API of the entire code base at this point was a bit of work, but I have finally finished it, and I must say, this is much cleaner.  True, you now have to use <code>DE.t</code> everywhere instead of <code>t</code> (with <code>t = T[-1]</code> at the top of the function), which is three characters more space for every use, but I think in the end it is cleaner.  For example, the function that used to be</p>
<p><code>is_log_deriv_k_t_radical(fa, fd, L_K, E_K, L_args, E_args, D, T)</code></p>
<p>is now just</p>
<p><code>is_log_deriv_k_t_radical(fa, fd, DE)</code>.</p>
<p>Also, because it is an object, I can do cool things like override <code>DifferentialExtension.__str__()</code> to print out a tuple of the most important attributes of the object, making debugging much easier (now there is just one print statement instead of five).  </p>
<p>Another thing I had to do was to allow the creation of these objects manually, because what is now <code>DifferentialExtension.__init__()</code> cannot yet handle, for example, tangent extensions, but some of the tests involve those.  So I created an <code>extension</code> flag to <code>__init__()</code> to which you could pass a dictionary, and it would create a skeleton extension from that (see <a href="https://github.com/asmeurer/sympy/commit/7121b06eab3f1e0f8464c287438fb7175f07762b">this commit</a>).  I made it smart enough to create some attributes automatically, so I only have to pass the list <code>D</code> in most tests—it creates attributes like <code>T</code> from that automatically.  Thus, this in some ways made the tests a little simpler, because I didn’t have to worry about <code>T</code> any more.  </p>
<p>We’ll see how things go, but this fourth API change should hopefully be the last.  This should also make it much easier whenever I add trigonometric function support, where I will have to add even more attributes to the object.  I won’t have to change the code in any existing function (unless it specifically needs to be able to know about trig extensions), because, to them, the information in <code>DE</code> will not change.</p>
<p>So the good news behind all of this, as I mentioned at the beginning of this post, is that I can now write some algorithm that requires those <code>L_K</code>, <code>E_K</code>, <code>L_args</code>, <code>E_args</code> variables from arbitrary places within the algorithm.  This should allow me to completely finish the exponential case.  So look forward soon to a <code>risch_integrate()</code> that can handle completely any transcendental function of exponentials (either produce an integral or prove that no elementary integral exists).  </p>
<p>And just to be clear, this doesn’t change anything with <code>risch_integrate()</code>—this is only an internal change. And at the moment, it doesn’t add any features, though that should soon change. So keep on testing it for me!  If you see any errors along the lines of “Variable t not defined,” it probably means that I missed that one when I was switching the API due to poor test coverage in that area of the code.  I would love to know about any errors you find, or, indeed, any testing you do with <code>risch_integrate</code>.  Remember that you can obtain my branch at <a href="https://github.com/asmeurer/sympy/tree/integration3">my GitHub account (branch integration3)</a>.</p>
<br />  <a href="http://feeds.wordpress.com/1.0/gocomments/asmeurersympy.wordpress.com/782/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/asmeurersympy.wordpress.com/782/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godelicious/asmeurersympy.wordpress.com/782/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/delicious/asmeurersympy.wordpress.com/782/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gofacebook/asmeurersympy.wordpress.com/782/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/facebook/asmeurersympy.wordpress.com/782/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gotwitter/asmeurersympy.wordpress.com/782/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/twitter/asmeurersympy.wordpress.com/782/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gostumble/asmeurersympy.wordpress.com/782/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/stumble/asmeurersympy.wordpress.com/782/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godigg/asmeurersympy.wordpress.com/782/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/digg/asmeurersympy.wordpress.com/782/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/goreddit/asmeurersympy.wordpress.com/782/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/reddit/asmeurersympy.wordpress.com/782/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=asmeurersympy.wordpress.com&amp;blog=7467151&amp;post=782&amp;subd=asmeurersympy&amp;ref=&amp;feed=1" alt="" height="1" border="0" width="1" /></div>







<p class="date">
<a href="http://asmeurersympy.wordpress.com/2010/12/27/major-api-change-for-the-risch-algorithm-functions/">by asmeurer at December 27, 2010 07:34 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>December 01, 2010</h2>

<div class="channelgroup">







<h3><a href="http://dlpeterson.com/blog" title="Dale Peterson">Dale Peterson</a></h3>


<div class="entrygroup" id="http://dlpeterson.com/blog/?p=139">
<h4 lang="en"><a href="http://dlpeterson.com/blog/?p=139">High speed voltage level translators</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>My robotic bike has several 5.0V devices (encoders and motor controllers, and a 5.0V Arduino Mega), as well as several 3.3V logic level devices (Vector Nav VN-100 IMU, SST SPI Flash).  For high speed voltage level conversion, I found these products from Maxim-IC:</p>
<p><a href="http://www.maxim-ic.com/datasheet/index.mvp/id/3672">http://www.maxim-ic.com/datasheet/index.mvp/id/3672</a></p>
<p>They will convert from 1.2V to 5.5V, or 5.5V to 1.2V and are specifically designed for high speed digital I/O (like SPI and I2C).  I ordered some samples and I’ll be testing them out as soon as they come in.</p>
<p>I also found a place that sells a ton of breakout boards for all different types of SMT devices:</p>
<p><a href="http://www.proto-advantage.com/store/">http://www.proto-advantage.com/store/</a></p>
<p>The prices range from $3-5, and they have detailed specs of every board, so you can be sure you get the board that fits your physical package.</p></div>







<p class="date">
<a href="http://dlpeterson.com/blog/?p=139">by luke at December 01, 2010 01:09 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>November 29, 2010</h2>

<div class="channelgroup">







<h3><a href="http://fseoane.net/blog" title="F. Pedregosa">Fabian Pedregosa</a></h3>


<div class="entrygroup" id="http://fseoane.net/blog/?p=237">
<h4 lang="en"><a href="http://fseoane.net/blog/2010/weighted-samples-for-svms/">Weighted samples for SVMs</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>Based on the work of <a href="http://www.csie.ntu.edu.tw/~cjlin/libsvmtools/#weights_for_data_instances">libsvm-dense</a> by Ming-Wei Chang, Hsuan-Tien Lin, Ming-Hen Tsai, Chia-Hua Ho and Hsiang-Fu Yu I patched the libsvm distribution shipped with scikits.learn to allow setting weights for individual instances.</p>
<p>The motivation behind this is to be able force a classifier to focus its attention in some samples instead of others. <a href="http://scikit-learn.sourceforge.net/auto_examples/svm/plot_weighted_samples.html">This example</a> shows how different weights modify the decision function:</p>
<p><a href="http://scikit-learn.sourceforge.net/auto_examples/svm/plot_weighted_samples.html"><img src="http://lh5.ggpht.com/_IOBIGAGXP4o/TPOK1z_KKNI/AAAAAAAAADQ/DNZCKc4Zt3w/s400/weights1.png" height="300" width="400" /></a></p>
<p><a href="http://picasaweb.google.com/lh/photo/wDNH13zH70UHfohww2iRyA?feat=directlink"><img src="http://lh4.ggpht.com/_IOBIGAGXP4o/TPOK2B9kUAI/AAAAAAAAADU/68dOJ6Bm3eY/s400/weights2.png" height="300" width="400" /></a></p>
<p><a href="http://picasaweb.google.com/lh/photo/ipW2ZqXmjGQMCQntTVpyUg?feat=directlink"><img src="http://lh5.ggpht.com/_IOBIGAGXP4o/TPOK2UXIRlI/AAAAAAAAADY/xKjk2HKHLdc/s400/weights3.png" height="300" width="400" /></a></p></div>







<p class="date">
<a href="http://fseoane.net/blog/2010/weighted-samples-for-svms/">by fabian at November 29, 2010 11:20 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>November 24, 2010</h2>

<div class="channelgroup">







<h3><a href="http://fseoane.net/blog" title="F. Pedregosa">Fabian Pedregosa</a></h3>


<div class="entrygroup" id="http://fseoane.net/blog/?p=223">
<h4 lang="en"><a href="http://fseoane.net/blog/2010/coming-soon/">Coming soon …</a></h4>
<div class="entry">
<div class="content" lang="en">
<p><a href="http://www.flickr.com/photos/fseoane/5203822436/" title="scikits.learn 0.6 por Fabian Pedregosa, en Flickr"><img src="http://farm5.static.flickr.com/4107/5203822436_41b9c350c2.jpg" alt="scikits.learn 0.6" height="306" width="450" /></a></p>
<p>Highlights for this release:</p>
<p>   * New <a href="http://scikit-learn.sourceforge.net/modules/sgd.html">stochastic gradient descent module</a> by <a href="http://sites.google.com/site/peterprettenhofer/">Peter Prettenhofer</a></p>
<p>   * Improved svm module: memory efficiency, automatic class weights.</p>
<p>   * Wrap for liblinear’s Multi-class SVC  (option multi_class in <a href="http://scikit-learn.sourceforge.net/modules/generated/scikits.learn.svm.LinearSVC.html">LinearSVC</a>)</p>
<p>   * New features and performance improvements of text feature extraction.</p>
<p>   * Improved sparse matrix support, both in main classes (GridSearch) as in sparse modules: scikits.learn.svm.sparse and scikits.learn.glm.sparse.</p>
<p>   * Lots of cool new examples: (<a href="https://github.com/scikit-learn/scikit-learn/blob/master/examples/svm/svm_gui.py">here</a>, <a href="https://github.com/scikit-learn/scikit-learn/blob/master/examples/plot_species_distribution_modeling.py">here</a> and <a href="https://github.com/scikit-learn/scikit-learn/blob/master/examples/plot_face_recognition.py">here</a>)</p>
<p>   * New Gaussian Process module by <a href="https://github.com/dubourg">Vincent Dubourg</a> (still to be merged)</p>
<p>   * Faster implementation of the <a href="http://scikit-learn.sourceforge.net/modules/glm.html#lars-algorithm-and-its-variants">LARS algorithm</a>.</p>
<p>   * Probability estimates for logistic regression.</p>
<p>   * Lots of bug fixes and documentation improvements.</p>
<p>   * Probably other things I am forgetting …</p></div>







<p class="date">
<a href="http://fseoane.net/blog/2010/coming-soon/">by fabian at November 24, 2010 08:39 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>November 19, 2010</h2>

<div class="channelgroup">







<h3><a href="http://fseoane.net/blog" title="F. Pedregosa">Fabian Pedregosa</a></h3>


<div class="entrygroup" id="http://fseoane.net/blog/?p=209">
<h4 lang="en"><a href="http://fseoane.net/blog/2010/memory-efficient-bindigs-for-libsvm/">memory efficient bindigs for libsvm</a></h4>
<div class="entry">
<div class="content" lang="en">
<p><a href="http://scikit-learn.sf.net">scikits.learn.svm</a> now uses <a href="http://www.csie.ntu.edu.tw/~cjlin/libsvmtools/#libsvm_for_dense_data">LibSVM-dense</a> instead of <a href="http://www.csie.ntu.edu.tw/~cjlin/libsvm/">LibSVM</a> for some support vector machine related algorithms when input is a dense matrix. </p>
<p>As a result most of the copies associated with argument passing are avoided, giving 50% less memory footprint and several times less than the python bindings that ship with libsvm, which stores data in the very inefficient python list structure. On the performance side I didn’t see any significant difference, although on large datasets less memory footprint can make the difference between swapping or not.</p></div>







<p class="date">
<a href="http://fseoane.net/blog/2010/memory-efficient-bindigs-for-libsvm/">by fabian at November 19, 2010 01:08 PM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://ondrejcertik.blogspot.com/search/label/sympy" title="Ondřej Čertík">Ond&#345;ej &#268;ert&iacute;k</a></h3>


<div class="entrygroup" id="tag:blogger.com,1999:blog-6568744196982634289.post-6825008418537862044">
<h4><a href="http://ondrejcertik.blogspot.com/2010/11/google-code-vs-github-for-hosting.html">Google Code vs GitHub for hosting opensource projects</a></h4>
<div class="entry">
<div class="content">
<a href="http://cython.org/">Cython</a> is now considering options where to move the main (mercurial) repository, and <a href="http://www.math.washington.edu/~robertwb/">Robert Bradshaw</a> (one of the main Cython developers) has asked me about my experience with regards to <a href="http://code.google.com/hosting/">Google Code</a> and <a href="http://github.com/">GitHub</a>, since we use both with <a href="http://sympy.org/">SymPy</a>.<br /><br />Google Code is older, and it was the first service that provided free (virtually unlimited) number of projects that you could easily and immediately setup. At that time (4 years ago?) that was something unheard of. However, the GitHub guys in the meantime not only made this available too, but also implemented features, that (as far as I know) no one offers at all, in particular hosting your own pages at your own domain (but at GitHub's servers, some examples are <a href="http://sympy.org">sympy.org</a> and <a href="http://docs.sympy.org/">docs.sympy.org</a>), commenting on git branches and pull requests <span style="font-style: italic;">before</span> the code gets merged in (I am 100% convinced that this is the right approach, as opposed to comment on the code <span style="font-style: italic;">after</span> it gets in), allow to easily fork the repository and it has simply more social features, that the Google Code doesn't have.<br /><br />I believe that managing an opensource project is mainly a social activity, and GitHub's social features really make so many things easier. From this point of view, GitHub is clearly the best choice today.<br /><br />I think there is only one (but potentially big) problem with GitHub, that its issue tracker is very bad, compared to the Google Code one. For that reason (and also because we already use it), we keep our issues at Google Code with SymPy.<br /><br />The above are the main things to consider. Now there are some little things to keep in mind, that I will briefly touch below: Google Code doesn't support git and blocks access from Cuba and other countries, when you want to change the front page, you need to be an admin, while at GitHub I simply add push access to all sympy developers, so anyone just pushes a patch to this repository: <a href="https://github.com/sympy/sympy.github.com">https://github.com/sympy/sympy.github.com</a>, and it automatically appears on our front page (<a href="http://sympy.org/">sympy.org</a>), with Google Code we had to write long pages (in our docs) about how to send patches, with GitHub we just say, send us a pull request, and point to: <a href="http://help.github.com/pull-requests/">http://help.github.com/pull-requests/</a>. In other words, GitHub takes care of teaching people how to use git and figure out how to send patches, and we can concentrate on reviewing the patches and pushing them in. <br /><br />Wikipages at github are maintained in git, and they provide the webfrontend to it as <a href="https://github.com/github/gollum">opensource</a>, so there is no vendor lock-in. Anyone with github account can modify our wiki pages, while the Google Code pages can only be modified by people that I add to the Google Code project, which forced us to install mediawiki on my linode server (hosted at <a href="http://linode.com/">linode.com</a>, which by the way is an excellent VPS hosting service, that I have been using for couple of years already and I can fully recommend it), and I had to manage it all the time, and now we are moving our pages to the github wiki, so that I have one less thing to worry about.<br /><br />So as you can see, I, as admin, have less things to worry about, as github manages everything for me now, while with Google Code, I had to manage lots of things on my linodes.<br /><br />One other thing to consider is that GitHub is only for git, but they also provide svn and hg access (both push and pull, they translate the repository automatically between git and svn/hg), I never really used it much, so I don't know how stable this is. As I wrote <a href="http://ondrejcertik.blogspot.com/2010/10/git-has-won.html">before</a>, I think that git is the best tool now for maintaining a project, and I think that github is now the best choice to host it (except the issue tracker, where Google Code is better).<div class="blogger-post-footer"><img src="https://blogger.googleusercontent.com/tracker/6568744196982634289-6825008418537862044?l=ondrejcertik.blogspot.com" alt="" height="1" width="1" /></div></div>







<p class="date">
<a href="http://ondrejcertik.blogspot.com/2010/11/google-code-vs-github-for-hosting.html">by Ondřej Čertík (noreply@blogger.com) at November 19, 2010 02:52 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>October 31, 2010</h2>

<div class="channelgroup">







<h3><a href="http://ondrejcertik.blogspot.com/search/label/sympy" title="Ondřej Čertík">Ond&#345;ej &#268;ert&iacute;k</a></h3>


<div class="entrygroup" id="tag:blogger.com,1999:blog-6568744196982634289.post-8933668259195859462">
<h4><a href="http://ondrejcertik.blogspot.com/2010/10/git-has-won.html">git has won</a></h4>
<div class="entry">
<div class="content">
I switched to git from mercurial about two years ago. See here why I <a href="http://ondrejcertik.blogspot.com/2008/08/i-am-switching-from-mercurial-to-git.html">switched</a> and here my experience <a href="http://ondrejcertik.blogspot.com/2008/12/experience-with-git-after-4-months.html">after 4 months</a>. Back then I was unsure, whether git will win, but I thought it has a bigger momentum. Well, I think that now it's quite clear that git has already won. Pretty much everybody that I collaborate with is using git now.<br /><br />I use github everyday, and now thanks to github <a href="http://help.github.com/pull-requests/">pull requests</a>, I think it's the best collaboration platform out there (compared to Google Code, Sourceforge, Bitbucket or Launchpad).<br /><br />I think it's partly because the github guys have a clear vision of what has to be done in order to make collaboration more easier and they do it, but more importantly that git branches is the way to go, as well as other git features, that are "right" from the beginning (branches, interactive rebase, and so on), while other VCS like bzr and mercurial simply either don't have them, or are getting them, but it's hard to get used to it (for example mercurial uses the "mercurial queues", and I think that is the totally wrong approach to things).<br /><br />Anyway, this is just my own personal opinion. I'll be happy to discuss it in the comments, if you disagree.<div class="blogger-post-footer"><img src="https://blogger.googleusercontent.com/tracker/6568744196982634289-8933668259195859462?l=ondrejcertik.blogspot.com" alt="" height="1" width="1" /></div></div>







<p class="date">
<a href="http://ondrejcertik.blogspot.com/2010/10/git-has-won.html">by Ondřej Čertík (noreply@blogger.com) at October 31, 2010 07:40 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>October 29, 2010</h2>

<div class="channelgroup">







<h3><a href="http://fseoane.net/blog" title="F. Pedregosa">Fabian Pedregosa</a></h3>


<div class="entrygroup" id="http://fseoane.net/blog/?p=192">
<h4 lang="en"><a href="http://fseoane.net/blog/2010/solve_triangular-in-scipy-linalg/">solve_triangular in scipy.linalg</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>For some time now I’ve been missing a function in scipy that exploits the triangular structure of a matrix to efficiently solve the associated system, so I decided to <a href="http://projects.scipy.org/scipy/changeset/6844">implement it</a> by binding the LAPACK method “trtrs”, which also checks for singularities and is capable handling several right-hand sides. </p>
<p>Contrary to what I expected, binding Fortran code with f2py is pretty straightforward, even for someone like me who has never programmed in that language: I took a similar example, modified it’s parameters and it worked! Also, thanks to Pauli Virtanen the review process was really fast and the patch was committed within a few hours.</p>
<p>The high level interface for LAPACK’s trtrs is linalg.solve_triangular, which accepts roughly the same arguments as linalg.solve, but assumes the first argument is a triangular matrix:</p>
<div style="overflow: auto; white-space: nowrap; width: 435px;" class="codecolorer-container python default"><div style="" class="python codecolorer">In <span style="color: black;">[</span><span style="color: #ff4500;">1</span><span style="color: black;">]</span>: <span style="color: #ff7700; font-weight: bold;">from</span> scipy <span style="color: #ff7700; font-weight: bold;">import</span> linalg<br />
<br />
In <span style="color: black;">[</span><span style="color: #ff4500;">2</span><span style="color: black;">]</span>: linalg.<span style="color: black;">solve_triangular</span><span style="color: black;">(</span><span style="color: black;">[</span><span style="color: black;">[</span><span style="color: #ff4500;">1</span>, <span style="color: #ff4500;">1</span><span style="color: black;">]</span>, <span style="color: black;">[</span><span style="color: #ff4500;">0</span>, <span style="color: #ff4500;">1</span><span style="color: black;">]</span><span style="color: black;">]</span>, <span style="color: black;">[</span><span style="color: #ff4500;">0</span>, <span style="color: #ff4500;">1</span><span style="color: black;">]</span><span style="color: black;">)</span><br />
Out<span style="color: black;">[</span><span style="color: #ff4500;">2</span><span style="color: black;">]</span>: <span style="color: #dc143c;">array</span><span style="color: black;">(</span><span style="color: black;">[</span>-<span style="color: #ff4500;">1</span>.,  <span style="color: #ff4500;">1</span>.<span style="color: black;">]</span><span style="color: black;">)</span></div></div>
<p>Simple <a href="http://gist.github.com/654407">benchmarks</a> lets us clearly appreciate the complexity gap between both methods : solving an (n, n) triangular system is an O(n^2) operation, while solving a full one is at least a O(n^3):</p>
<table style="width: auto;">
<tbody><tr>
<td><a href="http://picasaweb.google.com/lh/photo/8IaZpyMK_An_OLX38r3Xow?feat=embedwebsite"><img src="http://lh3.ggpht.com/_IOBIGAGXP4o/TMs3PvgFIwI/AAAAAAAAABA/ImOSqSZmljA/s400/works.png" height="300" width="400" /></a></td>
</tr>
<tr>
<td style="font-family: arial,sans-serif; font-size: 11px; text-align: right;">From <a href="http://picasaweb.google.com/fabian.pedregosa.izquierdo/Screenshots?feat=embedwebsite">Screenshots</a></td>
</tr>
</tbody></table></div>







<p class="date">
<a href="http://fseoane.net/blog/2010/solve_triangular-in-scipy-linalg/">by fabian at October 29, 2010 11:13 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>September 30, 2010</h2>

<div class="channelgroup">







<h3><a href="http://fseoane.net/blog" title="F. Pedregosa">Fabian Pedregosa</a></h3>


<div class="entrygroup" id="http://fseoane.net/blog/2010/lars-algorithm/">
<h4 lang="en"><a href="http://fseoane.net/blog/2010/lars-algorithm/">LARS algorithm</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>I’ve been working lately with <a href="http://www-sop.inria.fr/members/Alexandre.Gramfort/">Alexandre Gramfort</a> coding the <a href="http://scikit-learn.sf.net/modules/glm.html#lars-algorithm-and-its-variants">LARS algorithm</a> in <a>scikits.learn</a>. This algorithm computes the solution to several general linear models used in machine learning: LAR, Lasso, Elasticnet and Forward Stagewise.</p>
<p>Unlike the implementation by coordinate descent, the LARS algorithm gives the full coefficient path along the regularization parameter, and thus it is specially well suited for performing model selection. </p>
<p><a href="http://scikit-learn.sourceforge.net/auto_examples/glm/plot_lasso_lars.html"><img src="http://scikit-learn.sourceforge.net/_images/plot_lasso_lars.png" alt="LassoLARS" style="height: 400px;" /></a></p>
<p>The algorithm is coded mostly in python, with some tiny parts in C (because I already had the code for cholesky deletes in C) and a cython interface for the blas function dtrsv, which will be proposed to scipy once I stabilize this code. The algorithm is mostly complete, allowing some optimizations, like using a precomputed Gram matrix or specify maximum number of features/iterations, but could still be extended to compute other models, like ElasticNet or Forward Stagewise.</p>
<p>I haven’t done any benchmarks yet, but preliminary ones by Alexandre Gramfort showed that it is roughly equivalent to this <a href="http://www2.imm.dtu.dk/pubdb/views/publication_details.php?id=3897">Matlab implementation</a>. Using <a href="http://pymvpa.org">PyMVPA</a>, it shouldn’t be difficult to benchmark it against th R implementation, though.</p></div>







<p class="date">
<a href="http://fseoane.net/blog/2010/lars-algorithm/">by fabian at September 30, 2010 02:01 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>September 24, 2010</h2>

<div class="channelgroup">







<h3><a href="http://fredrik-j.blogspot.com/search/label/sympy" title="Fredrik Johansson">Fredrik Johansson</a></h3>


<div class="entrygroup" id="tag:blogger.com,1999:blog-4754734402679928849.post-4696399575844014395">
<h4><a href="http://fredrik-j.blogspot.com/2010/09/announcing-mpmath-016.html">Announcing mpmath 0.16</a></h4>
<div class="entry">
<div class="content">
I'm happy to announce the release of <a href="http://code.google.com/p/mpmath/">mpmath 0.16</a>, which contains the usual bugfixes as well as a slew of new features!<br /><br />The main focus has been to improve coverage of special functions. Additions include inhomogeneous Bessel functions, Bessel function zeros, incomplete elliptic integrals, and parabolic cylinder functions. As of 0.16, mpmath implements essentially everything listed in the <a href="http://dlmf.nist.gov/">NIST Digital Library of Mathematical Functions</a> chapters 1-20, as well as 21,24,27 and 33. (For 25 and 26 -- combinatorial and number-theoretic functions, see also my post about <a href="http://fredrik-j.blogspot.com/2010/09/fast-combinatorial-and-number-theoretic.html">FLINT 2</a>.)<br /><br />Another major change is that mpmath 0.16 running in <a href="http://www.sagemath.org/">Sage</a> will be much faster thanks to new extension code (currently awaiting review for inclusion in Sage). I've clocked speedups between 1.3x and 2x for various nontrivial pieces of code (such as the mpmath test suite and the torture test programs).<br /><br />Thanks to William Stein, my work on mpmath during the summer was funded using resources from <a href="http://www.nsf.gov/awardsearch/showAward.do?AwardNumber=0757627&amp;version=noscript">NSF grant DMS-0757627</a>. This support is gratefully acknowledged.<br /><br />Most of the new features are described in previous posts on this blog. For convenience, here is a short summary:<br /><br /><a href="http://fredrik-j.blogspot.com/2010/06/assorted-special-functions-update.html">Assorted special functions update</a><ul><br /><li>The documentation now includes plots to illustrate several of the special functions.</li><br /><li>Airy functions have been rewritten for improved speed and accuracy and to support evaluation of derivatives.</li><br /><li>Functions <tt>airyaizero()</tt>, <tt>airybizero()</tt> for computation of Airy function zeros have been implemented.</li><br /><li>Inhomogeneous Airy (Scorer) functions <tt>scorergi()</tt> and <tt>scorerhi()</tt> have been implemented.</li><br /><li>Four inhomogeneous Bessel functions have been added (<tt>lommels1()</tt>, <tt>lommels2()</tt>, <tt>angerj()</tt>, <tt>webere()</tt>).</li><br /><li>The Lambert W function has been rewritten to fix various bugs and numerical issues</li><br /></ul><br /><a href="http://fredrik-j.blogspot.com/2010/06/incomplete-elliptic-integrals-complete.html">Incomplete elliptic integrals complete</a><ul><br /><li>The Legendre and Carlson incomplete elliptic integrals for real and complex arguments have been implemented (<tt>ellipf()</tt>, <tt>ellipe()</tt>, <tt>ellippi()</tt>, <tt>elliprf()</tt>, <tt>elliprc()</tt>, <tt>elliprj()</tt>, <tt>elliprd()</tt>, <tt>elliprg()</tt>).</li><br /></ul><br /><a href="http://fredrik-j.blogspot.com/2010/07/sage-days-23-and-bessel-function-zeros.html">Sage Days 23, and Bessel function zeros</a><br /><ul><br /><li>Functions <tt>besseljzero()</tt> and <tt>besselyzero()</tt> have been implemented for computing the <i>m</i>-th zero of <i>J<sub>ν</sub></i>(<i>z</i>), <i>J'<sub>ν</sub></i>(<i>z</i>) <i>Y<sub>ν</sub></i>(<i>z</i>), or <i>Y'<sub>ν</sub></i>(<i>z</i>) for any positive integer index <i>m</i> and real order ν ≥ 0.<br /></li><br /></ul><br /><a href="http://fredrik-j.blogspot.com/2010/07/post-sage-days-24-report.html">Post Sage Days 24 report</a><br /><ul><br /><li>The Parabolic cylinder functions <tt>pcfd()</tt>, <tt>pcfu()</tt>, <tt>pcfv()</tt>, <tt>pcfw()</tt> have been implemented.</li><br /></ul><br /><a href="http://fredrik-j.blogspot.com/2010/07/euler-maclaurin-summation-of.html">Euler-Maclaurin summation of hypergeometric series</a><br /><ul><br /><li>Hypergeometric functions <sub><i>p</i></sub><i>F</i><sub><i>p</i>-1</sub>(...; ...; <i>z</i>) now support accurate evaluation close to the singularity at <i>z</i> = 1.</li><br /><li>A function <tt>sumap()</tt> has been added for summation of infinite series using the Abel-Plana formula.</li><br /><li>Functions <tt>diffs_prod()</tt> and <tt>diffs_prod()</tt> have been added for generating high-order derivatives of products or exponentials of functions with known derivatives.</li><br /></ul><br /><a href="http://fredrik-j.blogspot.com/2010/09/again-mpmath-in-sage-is-about-to-get.html">Again, mpmath in Sage is about to get faster</a><br /><ul><br /><li>New Cython extension code has been written for Sage to speed up various operations in mpmath, including elementary functions and hypergeometric series.</li><br /></ul><br /><br />There are various other changes as well, such as support for matrix slice indexing (contributed by Ioannis Tziakos -- thanks!). As usual, details are available in the <a href="http://mpmath.googlecode.com/svn/trunk/CHANGES">changelog</a> and the <a href="http://code.google.com/p/mpmath/source/list">Changes</a> page on the Google Code project site.<div class="blogger-post-footer"><img src="https://blogger.googleusercontent.com/tracker/4754734402679928849-4696399575844014395?l=fredrik-j.blogspot.com" alt="" height="1" width="1" /></div></div>







<p class="date">
<a href="http://fredrik-j.blogspot.com/2010/09/announcing-mpmath-016.html">by Fredrik Johansson (fredrik.johansson@gmail.com) at September 24, 2010 04:32 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>September 22, 2010</h2>

<div class="channelgroup">







<h3><a href="http://fredrik-j.blogspot.com/search/label/sympy" title="Fredrik Johansson">Fredrik Johansson</a></h3>


<div class="entrygroup" id="tag:blogger.com,1999:blog-4754734402679928849.post-6858896334629563490">
<h4><a href="http://fredrik-j.blogspot.com/2010/09/again-mpmath-in-sage-is-about-to-get.html">Again, mpmath in Sage is about to get faster</a></h4>
<div class="entry">
<div class="content">
My summer project on special functions in mpmath and Sage, generously supported by William Stein with funds from <a href="http://www.nsf.gov/awardsearch/showAward.do?AwardNumber=0757627&amp;version=noscript">NSF grant DMS-0757627</a>, is nearing completion. I will soon release mpmath-0.16, which contains lots of new special functions and bugfixes. Sage users will also benefit from ~1500 lines of new Cython code (preliminary patch <a href="http://trac.sagemath.org/sage_trac/ticket/9969">here</a>) that speeds up various basic operations. Executing <tt>mpmath.runtests()</tt> in Sage on my laptop now takes 10.47 seconds (8.60 from a warm cache), compared to 14.21 (11.84) seconds with the new extensions disabled -- a global speedup of 30%.<br /><br />For comparison, pure-Python mpmath with <a href="http://code.google.com/p/gmpy/">gmpy</a> as the backend takes 21.46 (18.72) seconds to execute the unit tests and pure-Python mpmath with the pure-Python backend takes 52.33 (45.92) seconds.<br /><br />Specifically, the new extension code implements exp for real and complex arguments, cos, sin and ln for real arguments, complex exponentiation in some cases, and summation of hypergeometric series, entirely in Cython.<br /><br />Timings before (new extensions disabled):<br /><pre><br />sage: import mpmath<br />sage: x = mpmath.mpf(0.37)<br />sage: y = mpmath.mpf(0.49)<br />sage: %timeit mpmath.exp(x)<br />625 loops, best of 3: 14.5 µs per loop<br />sage: %timeit mpmath.ln(x)<br />625 loops, best of 3: 23.2 µs per loop<br />sage: %timeit mpmath.cos(x)<br />625 loops, best of 3: 17.2 µs per loop<br />sage: %timeit x ^ y<br />625 loops, best of 3: 39.9 µs per loop<br />sage: %timeit mpmath.hyp1f1(2r,3r,4r)<br />625 loops, best of 3: 90.3 µs per loop<br />sage: %timeit mpmath.hyp1f1(x,y,x)<br />625 loops, best of 3: 83.6 µs per loop<br />sage: %timeit mpmath.hyp1f1(x,y,mpmath.mpc(x,y))<br />625 loops, best of 3: 136 µs per loop<br /></pre><br /><br />Timings after (new extensions enabled):<br /><pre><br />sage: import mpmath<br />sage: x = mpmath.mpf(0.37)<br />sage: y = mpmath.mpf(0.49)<br />sage: %timeit mpmath.exp(x)<br />625 loops, best of 3: 2.72 µs per loop<br />sage: %timeit mpmath.ln(x)<br />625 loops, best of 3: 7.25 µs per loop<br />sage: %timeit mpmath.cos(x)<br />625 loops, best of 3: 4.13 µs per loop<br />sage: %timeit x ^ y<br />625 loops, best of 3: 10.5 µs per loop<br />sage: %timeit mpmath.hyp1f1(2r,3r,4r)<br />625 loops, best of 3: 47.1 µs per loop<br />sage: %timeit mpmath.hyp1f1(x,y,x)<br />625 loops, best of 3: 59.4 µs per loop<br />sage: %timeit mpmath.hyp1f1(x,y,mpmath.mpc(x,y))<br />625 loops, best of 3: 83.1 µs per loop<br /></pre><br /><br />The new elementary functions use a combination of custom algorithms and straightforward <a href="http://www.mpfr.org/">MPFR</a> wrappers. Why not just wrap MPFR for everything? There are two primary reasons:<br /><br />Firstly, because MPFR numbers have a limited range, custom code still needs to be used in the overflowing cases, and this is almost as much work as an implementation-from-scratch. (There are also some more minor incompatibilities, like lack of round-away-from-zero in MPFR, that result in a lot of extra work.)<br /><br />Secondly, MPFR is not always fast (or as fast as it could be), so it pays off to write custom code. In fact, some of the ordinary Python implementations of functions in mpmath are faster than their MPFR counterparts in various cases, although that is rather exceptional (atan is an example). But generally, at low-mid precisions, it is possible to be perhaps 2-4x faster than MPFR with carefully optimized C code (see <a href="http://code.google.com/p/fastfunlib/">fastfunlib</a>). This is a longer-term goal.<br /><br />Already now, with the new extension code, the mpmath exponential function becomes faster than the Sage RealNumber version (based on MPFR) at low precision:<br /><pre><br />sage: %timeit mpmath.exp(x)<br />625 loops, best of 3: 2.75 µs per loop<br />sage: w = RealField(53)(x)<br />sage: %timeit w.exp()<br />625 loops, best of 3: 5.57 µs per loop<br /></pre><br /><br />As the timings above indicate, hypergeometric series have gotten up to 2x faster. The speedup of the actual summation is much larger, but much of that gain is lost in various Python overheads (more work can be done on this). There should be a noticeable speedup for some hypergeometric function computations, while others will not benefit as much, for the moment.<br /><br />Another benchmark is the <tt>extratest_zeta.py</tt> script in mpmath, which exercises the mpmath implementation of the <a href="http://en.wikipedia.org/wiki/Riemann%E2%80%93Siegel_formula">Riemann-Siegel formula</a> for evaluation of ζ(<i>s</i>) for complex <i>s</i> with large imaginary part. Such computations largely depend on elementary function performance (cos, sin, exp, log).<br /><br />Here are the new timings for mpmath in Sage: <pre><br />fredrik@scv:~/sage$ ./sage /home/fredrik/mp/mpmath/tests/extratest_zeta.py<br />399999999 156762524.675 ok = True (time = 1.144)<br />241389216 97490234.2277 ok = True (time = 9.271)<br />526196239 202950727.691 ok = True (time = 1.671)<br />542964976 209039046.579 ok = True (time = 1.189)<br />1048449112 388858885.231 ok = True (time = 1.774)<br />1048449113 388858885.384 ok = True (time = 1.604)<br />1048449114 388858886.002 ok = True (time = 2.096)<br />1048449115 388858886.002 ok = True (time = 2.587)<br />1048449116 388858886.691 ok = True (time = 1.546)<br /></pre><br />This is mpmath in Sage with the new extension code disabled: <pre><br />fredrik@scv:~/sage$ ./sage /home/fredrik/mp/mpmath/tests/extratest_zeta.py<br />399999999 156762524.675 ok = True (time = 2.352)<br />241389216 97490234.2277 ok = True (time = 14.088)<br />526196239 202950727.691 ok = True (time = 3.036)<br />542964976 209039046.579 ok = True (time = 2.104)<br />1048449112 388858885.231 ok = True (time = 3.707)<br />1048449113 388858885.384 ok = True (time = 3.283)<br />1048449114 388858886.002 ok = True (time = 4.444)<br />1048449115 388858886.002 ok = True (time = 5.592)<br />1048449116 388858886.691 ok = True (time = 3.101)<br /></pre><br />This is mpmath in ordinary Python mode, using gmpy: <pre><br />fredrik@scv:~/sage$ python /home/fredrik/mp/mpmath/tests/extratest_zeta.py<br />399999999 156762524.675 ok = True (time = 2.741)<br />241389216 97490234.2277 ok = True (time = 13.842)<br />526196239 202950727.691 ok = True (time = 3.124)<br />542964976 209039046.579 ok = True (time = 2.143)<br />1048449112 388858885.231 ok = True (time = 3.257)<br />1048449113 388858885.384 ok = True (time = 2.912)<br />1048449114 388858886.002 ok = True (time = 3.953)<br />1048449115 388858886.002 ok = True (time = 4.964)<br />1048449116 388858886.691 ok = True (time = 2.762)<br /></pre><br />With the new extension code, it appears that zeta computations are up to about twice as fast. This speedup could be made much larger as there still is a significant amount of Python overhead left to remove -- also a project for the future.<div class="blogger-post-footer"><img src="https://blogger.googleusercontent.com/tracker/4754734402679928849-6858896334629563490?l=fredrik-j.blogspot.com" alt="" height="1" width="1" /></div></div>







<p class="date">
<a href="http://fredrik-j.blogspot.com/2010/09/again-mpmath-in-sage-is-about-to-get.html">by Fredrik Johansson (fredrik.johansson@gmail.com) at September 22, 2010 02:42 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>September 12, 2010</h2>

<div class="channelgroup">







<h3><a href="http://fseoane.net/blog" title="F. Pedregosa">Fabian Pedregosa</a></h3>


<div class="entrygroup" id="http://fseoane.net/blog/2010/second-scikitslearn-coding-sprint/">
<h4 lang="en"><a href="http://fseoane.net/blog/2010/second-scikitslearn-coding-sprint/">Second scikits.learn coding sprint</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>Las week took place in Paris the second <a href="http://scikit-learn.sf.net">scikits.learn</a> sprint. It was<br />
two days of insane activity (115 commits, 6 branches, 33 coffees) in<br />
which we did a lot of work, both implementing new algorithms and fixing<br />
or improving old ones. This includes:</p>
<p>  * sparse version of Lasso by coordinate descent. Not (yet) merged into master, but can be looked from <a href="http://github.com/ogrisel/scikit-learn/tree/issue-77-sparse-cd">Olivier’s branch</a>.</p>
<p>  * new API for Pipeline. An example of this can be found in the document <a href="http://scikit-learn.sourceforge.net/auto_examples/svm/plot_svm_anova.html">SVM-Anova: SVM with univariate feature selection</a>.</p>
<p>  * documentation for the <a href="http://scikit-learn.sourceforge.net/modules/glm.html#bayesian-regression">bayesian methods</a> and <a href="http://scikit-learn.sourceforge.net/cross_validation.html">cross validation</a>: Vincent Michel contributed a lot of documentation, mainly taken from chapters of his thesis.</p>
<p>  * <a href="http://github.com/scikit-learn/scikit-learn/blob/master/scikits/learn/covariance/ledoit_wolf.py">Ledoit-Wolf covariance estimation</a>.</p>
<p>  * Pure python <a href="http://github.com/scikit-learn/scikit-learn/blob/master/scikits/learn/fastica.py">Fast ICA</a> implementation.</p>
<p>And the family picture, featuring (from left to right): <a href="http://www-sop.inria.fr/members/Alexandre.Gramfort/index.fr.html">Alexandre Gramfort</a>, <a href="http://parietal.saclay.inria.fr/Members/bertrand-thirion">Bertrand Thirion</a>, <a href="http://parietal.saclay.inria.fr/Members/virgile-fritsch">Virgine Fritsch</a>, <a href="http://gael-varoquaux.info/">Gael Varoquaux</a>, <a href="http://parietal.saclay.inria.fr/Members/vincent-michel">Vincent Michel</a>, <a href="http://github.com/ogrisel">Olivier Grisel</a> and me (taking the picture).<br />
<a href="http://www.flickr.com/photos/fseoane/4974339970/" title="scikit-learn coding sprint por Fabian Pedregosa, en Flickr"><img src="http://farm5.static.flickr.com/4135/4974339970_566424185f.jpg" alt="scikit-learn coding sprint" height="375" width="500" /></a></p></div>







<p class="date">
<a href="http://fseoane.net/blog/2010/second-scikitslearn-coding-sprint/">by fabian at September 12, 2010 08:31 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>September 05, 2010</h2>

<div class="channelgroup">







<h3><a href="http://fredrik-j.blogspot.com/search/label/sympy" title="Fredrik Johansson">Fredrik Johansson</a></h3>


<div class="entrygroup" id="tag:blogger.com,1999:blog-4754734402679928849.post-5343369310477112221">
<h4><a href="http://fredrik-j.blogspot.com/2010/09/fast-combinatorial-and-number-theoretic.html">Fast combinatorial and number-theoretic functions with FLINT 2</a></h4>
<div class="entry">
<div class="content">
Time for a development update! Recently, I've done only a limited amount of work on mpmath (I have a some almost-finished Cython code for <tt>sage.libs.mpmath</tt> and new code for numerical integration in mpmath, both to be committed fairly soon -- within a couple of weeks, hopefully).<br /><br />The last few weeks, I've mostly been contributing to <a href="http://www.flintlib.org/">FLINT 2</a>. For those unfamiliar with it, FLINT is a fast C library for computational number theory developed by Bill Hart and others (the other active developers right now are Sebastian Pancratz and Andy Novocin). In particular, FLINT implements ridiculously fast multiprecision integer vectors and polynomials. It also provides very fast primality testing and factorization for word-size integers (32 or 64 bits), among other things. FLINT 2 is an in-progress rewrite of FLINT 1.x, a current standard component in Sage.<br /><br />What does this have to do with numerical evaluation of special functions (the usual theme of this blog)? In short, my goal is to add code to FLINT 2 for <i>exact</i> special function computations -- combinatorial and number-theoretic functions, special polynomials and the like. Such functions benefit tremendously from the fast integer and polynomial arithmetic available in FLINT 2.<br /><br />All my code can be found in my <a href="http://github.com/fredrik-johansson/flint2/">public GitHub repository</a> (the most recent commits as of this writing are in the 'factor' branch).<br /><br />Functions I've implemented so far include:<br /><ul><br /><li>Möbius μ and Euler φ (totient) functions for word-size and arbitrary-size integers</li><br /><li>Divisor sum function σ<sub><i>k</i></sub> for arbitrary-size integers</li><br /><li>Ramanujan τ function (Δ-function <i>q</i>-expansion)</li><br /><li>Harmonic numbers 1 + 1/2 + 1/3 + ... + 1/<i>n</i></li><br /><li>Primorials 2 · 3 · 5 · ... · <i>p</i><sub><i>n</i></sub></li><br /><li>Stirling numbers (1st and 2nd kind)</li><br /></ul><br /><br />The versions in FLINT 2 of these functions should now be faster than all other implementations I've tried (GAP, Pari, Mathematica, the Sage library) for all ranges of arguments, except for those requiring factorization of large integers.<br /><br />Some of these functions depend fundamentally on the ability to factorize integers efficiently. So far I've only implemented trial division for large integers in FLINT 2, with some clever code to extract large powers of small factors quickly. Sufficiently small cofactors are handled by calling Bill Hart's single-word factoring routines. The resulting code is very fast for "artificial" numbers like factorials, and will eventually be complemented with prime and perfect power detection code, plus fast implementations of Brent's algorithm and other methods. Later on the quadratic sieve from FLINT 1 will probably be ported to FLINT 2, so that FLINT 2 will be able to factor any reasonable number reasonably quickly.<br /><br />Below, I've posted some benchmark results. A word of caution: all Mathematica timings were done on a different system, which is faster than my own laptop (typically by 30% or so). So in reality, Mathematica performs slightly worse relatively than indicated below. Everything else is timed on my laptop. I have not included test code for the FLINT2 functions (but it's just straightforward C code -- a function call or two between <tt>timeit_start</tt> and <tt>timeit_stop</tt> using FLINT 2's profiler module).<br /><br />Möbius function (the following is basically a raw exercise of the small-integer factoring code):<br /><pre><br />Pari:<br />sage: %time pari('sum(n=1,10^6,moebius(n))');<br />CPU times: user 1.04 s, sys: 0.00 s, total: 1.04 s<br />Wall time: 1.04 s<br /><br />Mathematica:<br />In[1]:= Timing[Sum[MoebiusMu[n], {n,1,10^6}];]<br />Out[1]= {0.71, Null}<br /><br />flint2:<br />650 ms<br /></pre><br /><br />Divisor sum:<br /><pre><br />Sage (uses Cython code):<br />sage: %time sigma(factorial(1000),1000);<br />CPU times: user 0.47 s, sys: 0.00 s, total: 0.47 s<br />Wall time: 0.46 s<br /><br />Mathematica:<br />In[1]:= Timing[DivisorSigma[1000,1000!];]<br />Out[1]= {3.01, Null}<br /><br />flint2:<br />350 ms<br /></pre><br /><br />Ramanujan τ function:<br /><pre><br />Sage (uses FLINT 1):<br />sage: %time delta_qexp(100000);<br />CPU times: user 0.42 s, sys: 0.01 s, total: 0.43 s<br />Wall time: 0.42 s<br />sage: %time delta_qexp(1000000);<br />CPU times: user 6.02 s, sys: 0.37 s, total: 6.39 s<br />Wall time: 6.40 s<br /><br />flint2:<br />100000: 230 ms<br />1000000: 4500 ms<br /></pre><br /><br />An isolated value (Mathematica seems to be the only other software that knows how to compute this):<br /><pre><br />Mathematica:<br />In[1]:= Timing[RamanujanTau[10000!];]<br />Out[1]= {8.74, Null}<br /><br />flint2:<br />280 ms<br /></pre><br /><br />Harmonic numbers (again, only Mathematica seems to implement these). See also my old blog post <a href="http://fredrik-j.blogspot.com/2009/02/how-not-to-compute-harmonic-numbers.html">How (not) to compute harmonic numbers</a>. I've included the fastest version from there, harmonic5:<br /><br /><pre><br />Mathematica:<br />In[1]:= Timing[HarmonicNumber[100000];]<br />Out[1]= {0.22, Null}<br />In[2]:= Timing[HarmonicNumber[1000000];]<br />Out[2]= {6.25, Null}<br />In[3]:= Timing[HarmonicNumber[10000000];]<br />Out[3]= {129.13, Null}<br /><br />harmonic5: (100000):<br />100000: 0.471 s<br />1000000: 8.259 s<br />10000000: 143.639 s<br /><br />flint2:<br />100000: 100 ms<br />1000000: 2560 ms<br />10000000: 49400 ms<br /></pre><br /><br />The FLINT 2 function benefits from an improved algorithm that eliminates terms and reduces the size of the temporary numerators and denominators, as well as low-level optimization (the basecase summation directly uses the MPIR mpn interface).<br /><br />Isolated Stirling numbers of the first kind:<br /><br /><pre><br />Mathematica:<br />In[1]:= Timing[StirlingS1[1000,500];]<br />Out[1]= {0.24, Null}<br />In[2]:= Timing[StirlingS1[2000,1000];]<br />Out[2]= {1.79, Null}<br />In[3]:= Timing[StirlingS1[3000,1500];]<br />Out[3]= {5.13, Null}<br /><br />flint 2:<br />100,500: 100 ms<br />2000,1000: 740 ms<br />3000,1500: 1520 ms<br /></pre><br /><br />Isolated Stirling numbers of the second kind:<br /><pre><br />Mathematica:<br />In[1]:= Timing[StirlingS2[1000,500];]<br />Out11]= {0.21, Null}<br />In[2]:= Timing[StirlingS2[2000,1000];]<br />Out[2]= {1.54, Null}<br />In[3]:= Timing[StirlingS2[3000,1500];]<br />Out[3]= {4.55, Null}<br />In[4]:= Timing[StirlingS2[5000,2500];]<br />Out[4]= {29.25, Null}<br /><br />flint2:<br />1000,500: 2 ms<br />2000,1000: 17 ms<br />3000,1500: 50 ms<br />5000,2500: 240 ms<br /></pre><br /><br />In addition, fast functions are provided for computing a whole row or matrix of Stirling numbers. For example, computing the triangular matrix of ~1.1 million Stirling numbers of the first kind up to S(1500,1500) takes only 1.3 seconds. In Mathematica (again, on the faster system):<br /><pre><br />In[1]:= Timing[Table[StirlingS1[n,k], {n,0,1500}, {k,0,n}];]<br />Out[1]= {2.13, Null}<br /></pre><br /><br />The benchmarks above mostly demonstrate performance for large inputs. Another nice aspect of the FLINT 2 functions is that there typically is very little overhead for small inputs. The high performance is due to a combination of algorithms, low-level optimization, and (most importantly) the fast underlying arithmetic in FLINT 2. I will perhaps write some more about the algorithms (for e.g. Stirling numbers) in a later post.<div class="blogger-post-footer"><img src="https://blogger.googleusercontent.com/tracker/4754734402679928849-5343369310477112221?l=fredrik-j.blogspot.com" alt="" height="1" width="1" /></div></div>







<p class="date">
<a href="http://fredrik-j.blogspot.com/2010/09/fast-combinatorial-and-number-theoretic.html">by Fredrik Johansson (fredrik.johansson@gmail.com) at September 05, 2010 07:38 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>September 03, 2010</h2>

<div class="channelgroup">







<h3><a href="http://mattjcurry.blogspot.com/" title="Matt's Blog">Matthew Curry</a></h3>


<div class="entrygroup" id="tag:blogger.com,1999:blog-9135222751616024074.post-3829230650064961450">
<h4><a href="http://mattjcurry.blogspot.com/2010/07/more-improvements-and-nice-printing.html">More Improvements and Nice Printing</a></h4>
<div class="entry">
<div class="content">
This week was quite spread out in terms of what I coded in quantum.py. I made inner products work with operators and other objects in between them. We made <i>pretty</i> print work with various quantum classes. And finally I made a suite of validating/combining/separating functions for inner and outer products.
<br />
<br /><b>First of all, let's look at how </b><i><b>pretty</b></i><b> makes quantum objects very readable. Let's create the iconic psi state (ket):</b>
<br />
<br />
<br />In [5]: psi = Ket('psi')
<br />
<br />In [6]: psi
<br />Out[6]: |ψ&gt;
<br />
<br /><b>Next let's create an operator and dagger it (and leave it unevaluated):</b>
<br />
<br />
<br />In [9]: a = Operator('A')
<br />
<br />In [10]: Dagger(a)
<br />Out[10]:
<br />†
<br />A
<br />
<br />(the dagger symbol normally appears as a superscript to A, but Blogger is temperamental)
<br />
<br /><b>Inner products can have objects (mainly operators) between them now. Outer products will not have this functionality because it is not valid for them. When someone creates an inner product, they must instantiate the class because states and operators (and such) cannot automatically combine with their __mul__ method due to a very tricky reason (the subtlety lies deep within sympy's Mul class):</b>
<br /><div><div><div>
<br /></div><div>In [12]: bra = Bra('_a')</div><div>
<br /></div><div>In [13]: b = Operator('B')</div></div></div><div>
<br /></div><div><div>In [15]: ip = InnerProduct(bra, b, a, psi)</div><div>
<br /></div><div>In [16]: ip</div><div>Out[16]: &lt;_a|⋅b⋅a⋅|ψ&gt;</div><div>
<br /></div><div>In [17]: ip.bra</div><div>Out[17]: &lt;_a|</div></div><div>
<br /></div><div><div>In [19]: ip.ket</div><div>Out[19]: (B, A, |ψ&gt;)</div><div>
<br /></div></div><div><b>Now let's take a look at some of the special functions I made:</b>
<br />
<br /></div><div><div>In [23]: expr = bra*a*b*a*psi*a</div><div>
<br /></div><div>In [24]: expr</div><div>Out[24]: &lt;_a|⋅a⋅b⋅a⋅|ψ&gt;⋅A</div><div>
<br /></div><div>In [25]: srepr(expr)</div><div>Out[25]: </div><div>Mul(Bra(Symbol('_a')), Operator(Symbol('A')), Operator(Symbol('B')), Operator(S</div><div>ymbol('A')), Ket(Symbol('psi')), Operator(Symbol('A')))</div></div><div>
<br /></div><div><div>(let's see if this is a valid mul by using the validate_mul function)</div></div><div>
<br /></div><div><div>In [27]: validate_mul(expr)</div></div><div><div>Exception: Ket*(Operator or OuterProduct) is invalid in quantum mechanics.</div></div><div>
<br /></div><div>=============================================</div><div>
<br /></div><div>(so now let's make a valid expression)</div><div>
<br /></div><div><div>In [28]: expr = bra*a*b*a*psi*bra*a*psi</div></div><div>
<br /></div><div><div>In [29]: inprod = combine_innerproduct(expr)</div></div><div>
<br /></div><div><div>In [30]: inprod</div><div>Out[30]: &lt;_a|⋅a⋅b⋅a⋅|ψ&gt;⋅&lt;_a|⋅a⋅|ψ&gt;</div></div><div>
<br /></div><div>(these functions automatically check to see if the mul is valid with validate_mul)</div><div>
<br /></div><div><div>In [31]: srepr(inprod)</div><div>Out[31]: </div><div>Mul(<span style="color: #CC33CC;" class="Apple-style-span">InnerProduct</span>(Bra(Symbol('_a')), Operator(Symbol('A')), Operator(Symbol('B')</div><div>), Operator(Symbol('A')), Ket(Symbol('psi'))), <span style="color: #CC33CC;" class="Apple-style-span">InnerProduct</span>(Bra(Symbol('_a')), </div><div>Operator(Symbol('A')), Ket(Symbol('psi'))))</div></div><div>
<br /></div><div>=============================================</div><div>
<br /></div><div><div>In [32]: outprod = combine_outerproduct(expr)</div></div><div>
<br /></div><div><div>In [34]: srepr(outprod)</div><div>Out[34]: </div><div>Mul(Bra(Symbol('_a')), Operator(Symbol('A')), Operator(Symbol('B')), Operator(S</div><div>ymbol('A')), <span style="color: #CC33CC;" class="Apple-style-span">OuterProduct</span>(Ket(Symbol('psi')),Bra(Symbol('_a'))), Operator(Symbo</div><div>l('A')), Ket(Symbol('psi')))</div></div><div>
<br /></div><div>=============================================</div><div>
<br /></div><div>(you can also split the products; I'll show you how this works on the inprod expression)</div><div>
<br /></div><div><div>In [36]: split = split_product(inprod)</div></div><div>
<br /></div><div><div>In [37]: srepr(split)</div><div>Out[37]: </div><div>Mul(Bra(Symbol('_a')), Operator(Symbol('A')), Operator(Symbol('B')), Operator(S</div><div>ymbol('A')), Ket(Symbol('psi')), Bra(Symbol('_a')), Operator(Symbol('A')), Ket(</div><div>Symbol('psi')))</div></div><div>
<br /></div><div>(see, no more inner products!)</div><div>
<br /></div><div>=============================================</div><div>
<br /></div><div>So we see that the same expression can be combined into inner products or an outer product depending on which function one uses. And we can also split up the inner or outer products.</div><div>
<br /></div><div>In the last few weeks of my project, we have decided that it would be best if I started working on applications with this code such as an infinite square well and other quantum physics examples. We'll see initially how far I get on this next week!</div><div class="blogger-post-footer"><img src="https://blogger.googleusercontent.com/tracker/9135222751616024074-3829230650064961450?l=mattjcurry.blogspot.com" alt="" height="1" width="1" /></div></div>







<p class="date">
<a href="http://mattjcurry.blogspot.com/2010/07/more-improvements-and-nice-printing.html">by mcurry (noreply@blogger.com) at September 03, 2010 07:12 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>August 23, 2010</h2>

<div class="channelgroup">







<h3><a href="http://fseoane.net/blog" title="F. Pedregosa">Fabian Pedregosa</a></h3>


<div class="entrygroup" id="http://fseoane.net/blog/2010/support-for-sparse-matrices-in-scikitslearn/">
<h4 lang="en"><a href="http://fseoane.net/blog/2010/support-for-sparse-matrices-in-scikitslearn/">Support for sparse matrices in scikits.learn</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>I recently added support for sparse matrices (as defined in<br />
scipy.sparse) in some classifiers of <a href="http://scikit-learn.sf.net">scikits.learn</a>. </p>
<p>In those classes, the fit method will perform the algorithm without<br />
converting to a dense representation and will also store parameters in<br />
an efficient format.</p>
<p>Right now, the only classese that implements this is SVC and LinearSVC<br />
in scikits.learn.svm.sparse, although the plan is to add more classes in<br />
the future. These are capable of taking sparse matrices in the fit()<br />
method and will also store support vectors as sparse matrices.</p>
<p>Here is an example. We first create a toy dataset and import relevant<br />
modules:</p>
<div style="overflow: auto; white-space: nowrap; width: 435px;" class="codecolorer-container python default"><div style="" class="python codecolorer">In <span style="color: black;">[</span><span style="color: #ff4500;">1</span><span style="color: black;">]</span>: <span style="color: #ff7700; font-weight: bold;">import</span> scipy.<span style="color: black;">sparse</span><br />
<br />
In <span style="color: black;">[</span><span style="color: #ff4500;">2</span><span style="color: black;">]</span>: <span style="color: #ff7700; font-weight: bold;">from</span> scikits.<span style="color: black;">learn</span>. <span style="color: #ff7700; font-weight: bold;">import</span> svm<br />
<br />
In <span style="color: black;">[</span><span style="color: #ff4500;">3</span><span style="color: black;">]</span>: X, Y = scipy.<span style="color: black;">sparse</span>.<span style="color: black;">csr_matrix</span><span style="color: black;">(</span><span style="color: black;">[</span><span style="color: black;">[</span><span style="color: #ff4500;">0</span>, <span style="color: #ff4500;">0</span><span style="color: black;">]</span>, <span style="color: black;">[</span><span style="color: #ff4500;">0</span>, <span style="color: #ff4500;">1</span><span style="color: black;">]</span><span style="color: black;">]</span><span style="color: black;">)</span>, <span style="color: black;">[</span><span style="color: #ff4500;">0</span>, <span style="color: #ff4500;">1</span><span style="color: black;">]</span><br />
<br />
In <span style="color: black;">[</span><span style="color: #ff4500;">4</span><span style="color: black;">]</span>: clf = svm.<span style="color: black;">sparse</span>.<span style="color: black;">SVC</span><span style="color: black;">(</span>kernel=<span style="color: #483d8b;">'linear'</span><span style="color: black;">)</span></div></div>
<p>now we will fit the model and query some of its parameters:</p>
<div style="overflow: auto; white-space: nowrap; width: 435px;" class="codecolorer-container python default"><div style="" class="python codecolorer">In <span style="color: black;">[</span><span style="color: #ff4500;">5</span><span style="color: black;">]</span>: clf.<span style="color: black;">fit</span><span style="color: black;">(</span>X, Y<span style="color: black;">)</span><br />
Out<span style="color: black;">[</span><span style="color: #ff4500;">5</span><span style="color: black;">]</span>: <br />
SVC<span style="color: black;">(</span>kernel=<span style="color: #483d8b;">'linear'</span>, C=<span style="color: #ff4500;">1.0</span>, probability=<span style="color: #ff4500;">0</span>, shrinking=<span style="color: #ff4500;">1</span>, eps=<span style="color: #ff4500;">0.001</span>,<br />
  cache_size=<span style="color: #ff4500;">100.0</span>,<br />
  coef0=<span style="color: #ff4500;">0.0</span>,<br />
  gamma=<span style="color: #ff4500;">0.0</span><span style="color: black;">)</span><br />
<br />
<br />
In <span style="color: black;">[</span><span style="color: #ff4500;">6</span><span style="color: black;">]</span>: clf.<span style="color: black;">support_</span><br />
Out<span style="color: black;">[</span><span style="color: #ff4500;">6</span><span style="color: black;">]</span>: <br />
<span style="color: #66cc66;">&lt;</span>2x2 sparse matrix of <span style="color: #008000;">type</span> <span style="color: #483d8b;">'&lt;type '</span>numpy.<span style="color: black;">float64</span><span style="color: #483d8b;">'&gt;'</span><br />
    <span style="color: #ff7700; font-weight: bold;">with</span> <span style="color: #ff4500;">1</span> stored elements <span style="color: #ff7700; font-weight: bold;">in</span> Compressed Sparse Row format<span style="color: #66cc66;">&gt;</span><br />
<br />
In <span style="color: black;">[</span><span style="color: #ff4500;">7</span><span style="color: black;">]</span>: clf.<span style="color: black;">coef_</span><br />
Out<span style="color: black;">[</span><span style="color: #ff4500;">7</span><span style="color: black;">]</span>: <br />
<span style="color: #66cc66;">&lt;</span>1x2 sparse matrix of <span style="color: #008000;">type</span> <span style="color: #483d8b;">'&lt;type '</span>numpy.<span style="color: black;">float64</span><span style="color: #483d8b;">'&gt;'</span><br />
    <span style="color: #ff7700; font-weight: bold;">with</span> <span style="color: #ff4500;">1</span> stored elements <span style="color: #ff7700; font-weight: bold;">in</span> Compressed Sparse Row format<span style="color: #66cc66;">&gt;</span></div></div>
<p>For a more complete example, you can look at <a href="http://scikit-learn.sourceforge.net/auto_examples/mlcomp_sparse_document_classification.html">Classification<br />
of text documents using sparse features, contributed by Olivier Grisel.</a></p></div>







<p class="date">
<a href="http://fseoane.net/blog/2010/support-for-sparse-matrices-in-scikitslearn/">by fabian at August 23, 2010 03:47 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>August 18, 2010</h2>

<div class="channelgroup">







<h3><a href="http://fseoane.net/blog" title="F. Pedregosa">Fabian Pedregosa</a></h3>


<div class="entrygroup" id="http://fseoane.net/blog/2010/flags-to-debug-python-c-extensions/">
<h4 lang="en"><a href="http://fseoane.net/blog/2010/flags-to-debug-python-c-extensions/">Flags to debug python C extensions.</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>I often find myself debugging python C extensions from gdb, but usually some variables are hidden because aggressive optimizations that distutils sets by default. What I did not know, is that you can prevent those optimizations by passing flags &lt;emph&gt;-O0 -fno-inline&lt;/emph&gt; to gcc in keyword extra_compile_args (note: this will only work in GCC). A complete example would look like:</p>
<p>[code lang="python"]<br />
config.add_extension('foo',<br />
                         sources=['a.c'],<br />
                         # add this for gdb debug<br />
                         extra_compile_args=['-O0 -fno-inline'])<br />
[/code]</p>
<p>and your extension becomes much easier to debug from gdb.</p></div>







<p class="date">
<a href="http://fseoane.net/blog/2010/flags-to-debug-python-c-extensions/">by fabian at August 18, 2010 11:40 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>August 14, 2010</h2>

<div class="channelgroup">







<h3><a href="http://ondrejcertik.blogspot.com/search/label/sympy" title="Ondřej Čertík">Ond&#345;ej &#268;ert&iacute;k</a></h3>


<div class="entrygroup" id="tag:blogger.com,1999:blog-6568744196982634289.post-7325250334673304185">
<h4><a href="http://ondrejcertik.blogspot.com/2010/08/week-aug-9-13.html">Week Aug 9 - 13</a></h4>
<div class="entry">
<div class="content">
On Monday I learned <a href="http://fwrap.sourceforge.net/">fwrap</a> (excellent piece of software btw), there were a few minor technical issues, that I communicated with Kurt on the fwrap mailinglist and I also send him a simple patch, so that it works fine for my fortran code (functions returning the value itself, instead of a tuple of length 1).<br /><br />Then I took my old fortran based shooting method solvers that I wrote couple years ago and wrapped them using fwrap and run couple simulations against my FE solver.<br /><br />On Tuesday we had a lunch with all the advisors and students and the llnl director and a little presentation about what we did.<br /><br />On Wednesday I run shooting method calculations for 50 states of silver, both for selfconsistent DFT potential and Z/r potential. I then also run the FE solver for the same DFT potential and compared results. There are lots of small technical issues, for example I had to use cubic splines to interpolate the potential, play with the mesh for the shooting method and so on.<br /><br />However, the shooting method and FE agrees to every single printed digit, after making sure that the mesh is ok for both methods. For all potentials that I tried. That's very cool.<br /><br />In the process of it, I also wrote a patch to SymPy to calculate exact energies for the Hydrogen atom, both from Schroedinger and Dirac equations. I still need to polish it a bit.<br /><br />On Thursday I run couple more calculations and setup a poster and had a poster session, it was two hours, and I think around 7 people (not counting other students and people from our group) stopped by and talked with me about it, so I was very happy. Being able to solve radial Schroedinger and especially Dirac equations robustly is something that several people in the lab would really need.<br /><br />Today I talked little bit (finally) about some Green functions in QM and QFT with a postdoc in the Quantum Simulations group, that I always wanted to, but didn't have time before, then packed my things and went back to Reno.<br /><br />My plan for the next week(s) is to wrap up what I did and put it into articles. I already have enough material for some articles, so it has to be done. In parallel, I'd like to finish the FE Dirac solver, the coding is done, but now I need to play with adaptivity and also investigate if we are getting the spurious states, that other people are getting when using b-splines.<div class="blogger-post-footer"><img src="https://blogger.googleusercontent.com/tracker/6568744196982634289-7325250334673304185?l=ondrejcertik.blogspot.com" alt="" height="1" width="1" /></div></div>







<p class="date">
<a href="http://ondrejcertik.blogspot.com/2010/08/week-aug-9-13.html">by Ondřej Čertík (noreply@blogger.com) at August 14, 2010 04:05 AM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://asmeurersympy.wordpress.com" title="Aaron Meurer's SymPy Blog">Aaron Meurer</a></h3>


<div class="entrygroup" id="http://asmeurersympy.wordpress.com/?p=741">
<h4 lang="en"><a href="http://asmeurersympy.wordpress.com/2010/08/14/the-risch-algorithm-part-3-liouvilles-theorem/">The Risch Algorithm: Part 3, Liouville’s Theorem</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>So this is the last official week of the Summer of Code program, and my work is mostly consisting of removing <code>NotImplementedError</code>s (i.e., implementing stuff), and fixing bugs. None of this is particularly interesting, so instead of talking about that, I figured I would produce another one of my Risch Algorithm blog posts.  It is recommended that you read parts <a href="http://asmeurersympy.wordpress.com/2010/06/30/the-risch-algorithm-part-1/">1</a> and <a href="http://asmeurersympy.wordpress.com/2010/07/24/the-risch-algorithm-part-2-elementary-functions/">2</a> first, as well as my post on <a href="http://asmeurersympy.wordpress.com/2010/06/11/integration-of-rational-functions/">rational function integration</a>, which could be considered part 0.</p>
<p><strong>Liouville’s Theorem</strong><br />
Anyone who’s taken calculus intuitively knows that integration is hard, while differentiation is easy.  For differentiation, we can produce the derivative of any elementary function, and we can do so easily, using a simple algorithm consisting of the sum and product rules, the chain rule, and the rules for the derivative of all the various elementary functions.  But for integration, we have to try to work backwards.  </p>
<p>There are two things that make integration difficult.  First is the existence of functions that simply do not have any elementary antiderivative.  <img src="http://s0.wp.com/latex.php?latex=e%5E%7B-x%5E2%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="e^{-x^2}" class="latex" title="e^{-x^2}" /> is perhaps the most famous example of such a function, since it arises from the normal distribution in statistics.  But there are many others.  <img src="http://s0.wp.com/latex.php?latex=%5Csin%7B%28x%5E2%29%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="\sin{(x^2)}" class="latex" title="\sin{(x^2)}" />, <img src="http://s0.wp.com/latex.php?latex=%5Cfrac%7B1%7D%7B%5Clog%7B%28x%29%7D%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="\frac{1}{\log{(x)}}" class="latex" title="\frac{1}{\log{(x)}}" />, and <img src="http://s0.wp.com/latex.php?latex=x%5Ex&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="x^x" class="latex" title="x^x" /> are some other examples of famous non-integrable functions.  </p>
<p>The second problem is that no one single simple rule for working backwards will always be applicable.  We know that u-substitution and integration by parts are the reverse of the chain rule and the product rule, respectively.  But those methods will only work if those rules were the ones that were applied originally, and then only if you chose the right <img src="http://s0.wp.com/latex.php?latex=u&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="u" class="latex" title="u" /> and <img src="http://s0.wp.com/latex.php?latex=dv&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="dv" class="latex" title="dv" />.  </p>
<p>But there is a much simpler example that gets right down to the point with Liouville’s theorem.  The power rule, which is that <img src="http://s0.wp.com/latex.php?latex=%5Cfrac%7Bd%7D%7Bdx%7Dx%5En%3Dnx%5E%7Bn-1%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="\frac{d}{dx}x^n=nx^{n-1}" class="latex" title="\frac{d}{dx}x^n=nx^{n-1}" /> is easily reversed for integration.  Given the power rule for differentiation, it’s easy to see that the reverse rule should be <img src="http://s0.wp.com/latex.php?latex=%5Cint%7Bx%5Endx%7D%3D%5Cfrac%7Bx%5E%7Bn%2B1%7D%7D%7Bn%2B1%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="\int{x^ndx}=\frac{x^{n+1}}{n+1}" class="latex" title="\int{x^ndx}=\frac{x^{n+1}}{n+1}" />.  This works fine, except that were are dividing something, <img src="http://s0.wp.com/latex.php?latex=n%2B1&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="n+1" class="latex" title="n+1" />.  In mathematics, whenever we do that, we have to ensure that whatever we divide by is not 0. In this case, it means that we must assert <img src="http://s0.wp.com/latex.php?latex=n%5Cneq+-1&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="n\neq -1" class="latex" title="n\neq -1" />.  This excludes <img src="http://s0.wp.com/latex.php?latex=%5Cint%7B%5Cfrac%7B1%7D%7Bx%7Ddx%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="\int{\frac{1}{x}dx}" class="latex" title="\int{\frac{1}{x}dx}" />.  We know from calculus that this integral requires us to introduce a special function, the natural logarithm.  </p>
<p>But we see that <img src="http://s0.wp.com/latex.php?latex=n%3D-1&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="n=-1" class="latex" title="n=-1" /> is the only exception to the power rule, so that the integral of any (<a href="http://en.wikipedia.org/wiki/Laurent_polynomial">Laurent</a>) polynomial is again a (Laurent) polynomial, plus a logarithm.  Recall from part 0 (<a href="http://asmeurersympy.wordpress.com/2010/06/11/integration-of-rational-functions/">Rational Function Integration</a>) that the same thing is true for any rational function: the integral is again a rational function, plus a logarithm (we can combine multiple logarithms into one using the logarithmic identities, so assume for simplicity that there is just one).  The argument is very similar, too.  Assume that we have split the denominator rational function into linear factors in the <a href="http://en.wikipedia.org/wiki/Algebraic_splitting_field">algebraic splitting field</a> (such as the complex numbers).  Then perform a partial fractions decomposition on the rational function.  Each term in the decomposition will be either a polynomial, or of the form <img src="http://s0.wp.com/latex.php?latex=%5Cfrac%7Ba%7D%7B%28x+-+b%29%5En%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="\frac{a}{(x - b)^n}" class="latex" title="\frac{a}{(x - b)^n}" />. The integration of these terms is the same as with the power rule, making the substitution <img src="http://s0.wp.com/latex.php?latex=u+%3D+x+-+b&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="u = x - b" class="latex" title="u = x - b" />. When <img src="http://s0.wp.com/latex.php?latex=n%5Cgeq+2&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="n\geq 2" class="latex" title="n\geq 2" />, the integral will be <img src="http://s0.wp.com/latex.php?latex=%5Cfrac%7B-1%7D%7Bn+-+1%7D%5Cfrac%7Ba%7D%7B%28x+-+b%29%5E%7Bn+-+1%7D%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="\frac{-1}{n - 1}\frac{a}{(x - b)^{n - 1}}" class="latex" title="\frac{-1}{n - 1}\frac{a}{(x - b)^{n - 1}}" />; when <img src="http://s0.wp.com/latex.php?latex=n+%3D+1&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="n = 1" class="latex" title="n = 1" />, the integral will be <img src="http://s0.wp.com/latex.php?latex=a%5Clog%7B%28x+-+b%29%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="a\log{(x - b)}" class="latex" title="a\log{(x - b)}" />.  Now computationally, we don’t want to work with the algebraic splitting field, but it turns out that we don’t need to actually compute it to find the integral.  But theory is what we are dealing with here, so don’t worry about that.  </p>
<p>Now the key observation about differentiation, as I have pointed out in the earlier parts of this blog post series,  is that the derivative of an elementary function can be expressed in terms of itself, in particular, as a polynomial in itself.  To put it another way, functions like <img src="http://s0.wp.com/latex.php?latex=e%5Ex&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="e^x" class="latex" title="e^x" />, <img src="http://s0.wp.com/latex.php?latex=%5Ctan%7B%28x%29%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="\tan{(x)}" class="latex" title="\tan{(x)}" />, and <img src="http://s0.wp.com/latex.php?latex=%5Clog%7B%28x%29%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="\log{(x)}" class="latex" title="\log{(x)}" /> all satisfy linear differential equations with rational coefficients (e.g., for these, <img src="http://s0.wp.com/latex.php?latex=y%27%3Dy&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="y'=y" class="latex" title="y'=y" />, <img src="http://s0.wp.com/latex.php?latex=y%27%3D1+%2B+y%5E2&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="y'=1 + y^2" class="latex" title="y'=1 + y^2" />, and <img src="http://s0.wp.com/latex.php?latex=y%27%3D%5Cfrac%7B1%7D%7Bx%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="y'=\frac{1}{x}" class="latex" title="y'=\frac{1}{x}" />).  </p>
<p>Now, the theory gets more complicated, but it turns out that, using a careful analysis of this fact, we can prove a similar result to the one about rational functions to any elementary function. In a nutshell, Liouville’s Theorem says this:  if an elementary function has an elementary integral, then that integral is a composed only of functions from the original integrand, plus a finite number of logarithms of functions from the integrand, which can be considered one logarithm, as mentioned above (“functions from” more specifically means a rational function in the terms from our elementary extension).  Here is the formal statement of the theorem.</p>
<p><strong>Theorem (Liouville’s Theorem – Strong version)</strong><br />
<em>Let <img src="http://s0.wp.com/latex.php?latex=K&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="K" class="latex" title="K" /> be a differential field, <img src="http://s0.wp.com/latex.php?latex=C%3D%5Cmathrm%7BConst%7D%28K%29&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="C=\mathrm{Const}(K)" class="latex" title="C=\mathrm{Const}(K)" />, and <img src="http://s0.wp.com/latex.php?latex=f%5Cin+K&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="f\in K" class="latex" title="f\in K" />. If there exist an elementary extension <img src="http://s0.wp.com/latex.php?latex=E&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="E" class="latex" title="E" /> of <img src="http://s0.wp.com/latex.php?latex=K&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="K" class="latex" title="K" /> and <img src="http://s0.wp.com/latex.php?latex=g+%5Cin+E&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="g \in E" class="latex" title="g \in E" /> such that <img src="http://s0.wp.com/latex.php?latex=Dg+%3Df&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="Dg =f" class="latex" title="Dg =f" />, then there are <img src="http://s0.wp.com/latex.php?latex=v+%5Cin+K&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="v \in K" class="latex" title="v \in K" />, <img src="http://s0.wp.com/latex.php?latex=c_1%2C+%5Cdots%2C+c_n%5Cin+%5Cbar%7BC%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="c_1, \dots, c_n\in \bar{C}" class="latex" title="c_1, \dots, c_n\in \bar{C}" />, and <img src="http://s0.wp.com/latex.php?latex=u_1%2C+%5Cdots%2Cu_n%5Cin+K%28c_1%2C%5Cdots%2Cc_n%29%5E%2A&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="u_1, \dots,u_n\in K(c_1,\dots,c_n)^*" class="latex" title="u_1, \dots,u_n\in K(c_1,\dots,c_n)^*" /> such that </em></p><em>
<h1>
<img src="http://s0.wp.com/latex.php?latex=f+%3D+Dv+%2B+%5Csum_%7Bi%3D1%7D%5En+c_i%5Cfrac%7BDu_i%7D%7Bu_i%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="f = Dv + \sum_{i=1}^n c_i\frac{Du_i}{u_i}" class="latex" title="f = Dv + \sum_{i=1}^n c_i\frac{Du_i}{u_i}" />.<br />
</h1>
</em><p><em></em><br />
Looking closely at the formal statement of the theorem, we can see that it says the same thing as my “in a nutshell” statement.  <img src="http://s0.wp.com/latex.php?latex=K&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="K" class="latex" title="K" /> is the differential extension, say of <img src="http://s0.wp.com/latex.php?latex=%5Cmathbb%7BQ%7D%28x%29&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="\mathbb{Q}(x)" class="latex" title="\mathbb{Q}(x)" />, that contains all of our elementary functions (see <a href="http://asmeurersympy.wordpress.com/2010/07/24/the-risch-algorithm-part-2-elementary-functions/">part 2</a>).  <img src="http://s0.wp.com/latex.php?latex=E&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="E" class="latex" title="E" /> is an extension of <img src="http://s0.wp.com/latex.php?latex=K&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="K" class="latex" title="K" />.  The whole statement of the theorem is that <img src="http://s0.wp.com/latex.php?latex=E&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="E" class="latex" title="E" /> need not be extended from <img src="http://s0.wp.com/latex.php?latex=K&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="K" class="latex" title="K" /> by anything more than some logarithms.   <img src="http://s0.wp.com/latex.php?latex=f&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="f" class="latex" title="f" /> is our original function and <img src="http://s0.wp.com/latex.php?latex=g%3D%5Cint+f&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="g=\int f" class="latex" title="g=\int f" />.  Recall from <a href="http://asmeurersympy.wordpress.com/2010/06/30/the-risch-algorithm-part-1/">part 1</a> that <img src="http://s0.wp.com/latex.php?latex=Dg+%3D+%5Cfrac%7BDu%7D%7Bu%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="Dg = \frac{Du}{u}" class="latex" title="Dg = \frac{Du}{u}" /> is just another way of saying that <img src="http://s0.wp.com/latex.php?latex=g+%3D+%5Clog%7B%28u%29%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="g = \log{(u)}" class="latex" title="g = \log{(u)}" />.  The rest of the formal statement is some specifics dealing with the constant field, which assure us that we do not need to introduce any new constants in the integration. This fact is actually important to the decidability of the Risch Algorithm, because many problems about constants are either unknown or undecidable (such as the transcendence degree of <img src="http://s0.wp.com/latex.php?latex=%5Cmathbb%7BQ%7D%28e%2C+%5Cpi%29&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="\mathbb{Q}(e, \pi)" class="latex" title="\mathbb{Q}(e, \pi)" />).  But this ensures us that as long as we start with a constant field that is computable, our constant field for our antiderivative will also be computable, and will in fact be the same field, except for some possible algebraic extensions (the <img src="http://s0.wp.com/latex.php?latex=c_i&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="c_i" class="latex" title="c_i" />).  </p>
<p>At this point, I want to point out that even though my work this summer has been only on the purely transcendental case of the Risch Algorithm, Liouville’s Theorem is true for all elementary functions, which includes algebraic functions.  However, if you review the proof of the theorem, the proof of the algebraic part is completely different from the proof of the transcendental part, which is the first clue that the algebraic part of the algorithm is completely different from the transcendental part (and also a clue that it is harder).</p>
<p>Liouville’s Theorem is what allows us to prove that a given function does not have an elementary antiderivative, by giving us the form that any antiderivative must have.  We first perform the same Hermite Reduction from the <a href="http://asmeurersympy.wordpress.com/2010/06/11/integration-of-rational-functions/">rational integration case</a>. Then, a generalization of the same Lazard-Rioboo-Trager Algorithm due to Rothstein allows us to find the logarithmic part of any integral (the <img src="http://s0.wp.com/latex.php?latex=%5Csum_%7Bi%3D1%7D%5En+c_i%5Cfrac%7BDu_i%7D%7Bu_i%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="\sum_{i=1}^n c_i\frac{Du_i}{u_i}" class="latex" title="\sum_{i=1}^n c_i\frac{Du_i}{u_i}" /> from Liouville’s Theorem).  </p>
<p>Now a difference here is that sometimes, the part of the integrand that corresponds to the <img src="http://s0.wp.com/latex.php?latex=%5Cfrac%7Ba%7D%7Bx+-+b%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="\frac{a}{x - b}" class="latex" title="\frac{a}{x - b}" /> for general functions doesn’t always have an elementary integral (these are called <em>simple</em> functions.  I think I will talk about them in more detail in a future post in this series).   An example of this is <img src="http://s0.wp.com/latex.php?latex=%5Cfrac%7B1%7D%7B%5Clog%7B%28x%29%7D%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="\frac{1}{\log{(x)}}" class="latex" title="\frac{1}{\log{(x)}}" />.  Suffice it to say that any elementary integral of <img src="http://s0.wp.com/latex.php?latex=%5Cfrac%7B1%7D%7B%5Clog%7B%28x%29%7D%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="\frac{1}{\log{(x)}}" class="latex" title="\frac{1}{\log{(x)}}" /> must be part of some log-extension of <img src="http://s0.wp.com/latex.php?latex=%5Cmathbb%7BQ%7D%28x%2C+%5Clog%7B%28x%29%7D%29&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="\mathbb{Q}(x, \log{(x)})" class="latex" title="\mathbb{Q}(x, \log{(x)})" />, and that we can prove that no such logarithmic extension exists in the course of trying to compute it with the Lazard-Rioboo-Rothstein-Trager Algorithm.</p>
<p>In the rational function case, after we found the rational part and the logarithmic part, we were practically done, because the only remaining part was a polynomial.  Well, for the general transcendental function case, we are left with an analogue, which are called <em>reduced</em> functions, and we are far from done.  This is the hardest part of the integration algorithm.  This will also be the topic of a future post in this series.  Suffice it to say that this is where most of the proofs of non-integrability come from, including the other integrals than <img src="http://s0.wp.com/latex.php?latex=%5Cfrac%7B1%7D%7B%5Clog%7B%28x%29%7D%7D&amp;bg=ffffff&amp;fg=333333&amp;s=0" alt="\frac{1}{\log{(x)}}" class="latex" title="\frac{1}{\log{(x)}}" /> that I gave above.  </p>
<p><strong>Conclusion</strong><br />
That’s it for now.  Originally, I was also going to include a bit on the structure theorems too, but I think I am going to save that for part 4 instead.  I may or may not have another post ready before the official end of coding date for Google Summer of Code, which is Monday (three days from now).  I want to make a post with some nice graphs comparing the timings of the new <code>risch_integrate()</code> and the old <code>heurisch()</code> (what is currently behind SymPy’s <code>integrate()</code>).  But as I have said before, I plan on continuing coding the integration algorithm beyond the program until I finish it, and even beyond that (there are lots of cool ways that the algorithm can be extended to work with special functions, there’s definite integration with Meijer-G functions, and there’s of course the algebraic part of the algorithm, which is a much larger challenge).  And along with it, I plan to continue keeping you updated with blog posts, including at least all the Risch Algorithm series posts that I have promised (I have counted at least three topics that I have explicitly promised but haven’t done yet).  And of course, there will be the mandatory GSoC wrap-up blog post, detailing my work for the summer.  </p>
<p>Please continue to test my prototype <a href="http://asmeurersympy.wordpress.com/2010/08/05/prototype-risch_integrate-function-ready-for-testing/"><code>risch_integrate()</code></a> function in my <a href="http://github.com/asmeurer/sympy/tree/integration3">integration3</a> branch, and tell me what you think (or if you find a bug).</p>
<br />  <a href="http://feeds.wordpress.com/1.0/gocomments/asmeurersympy.wordpress.com/741/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/asmeurersympy.wordpress.com/741/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godelicious/asmeurersympy.wordpress.com/741/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/delicious/asmeurersympy.wordpress.com/741/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gofacebook/asmeurersympy.wordpress.com/741/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/facebook/asmeurersympy.wordpress.com/741/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gotwitter/asmeurersympy.wordpress.com/741/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/twitter/asmeurersympy.wordpress.com/741/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gostumble/asmeurersympy.wordpress.com/741/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/stumble/asmeurersympy.wordpress.com/741/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godigg/asmeurersympy.wordpress.com/741/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/digg/asmeurersympy.wordpress.com/741/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/goreddit/asmeurersympy.wordpress.com/741/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/reddit/asmeurersympy.wordpress.com/741/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=asmeurersympy.wordpress.com&amp;blog=7467151&amp;post=741&amp;subd=asmeurersympy&amp;ref=&amp;feed=1" alt="" height="1" border="0" width="1" /></div>







<p class="date">
<a href="http://asmeurersympy.wordpress.com/2010/08/14/the-risch-algorithm-part-3-liouvilles-theorem/">by asmeurer at August 14, 2010 02:55 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>August 10, 2010</h2>

<div class="channelgroup">







<h3><a href="http://ojensen.wordpress.com" title="Jensen's Sympy Blog">Øyvind Jensen</a></h3>


<div class="entrygroup" id="http://ojensen.wordpress.com/?p=250">
<h4 lang="en"><a href="http://ojensen.wordpress.com/2010/08/10/fast-ufunc-ish-hydrogen-solutions/">Fast ufunc-ish Hydrogen solutions</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>In my previous post I demonstrated array operations based on the new functionality I have implemented during <a href="http://socghop.appspot.com/gsoc/student_project/show/google/gsoc2010/python/t127230762991">my GSOC project</a>.  In this post I will discuss another feature that is essential for array calculations in a computer algebra system: The initialization of numeric arrays <em>based on symbolic math expressions</em>.  After all, it is the symbolic stuff we are really interested in, isn’t it? <img src="http://s2.wp.com/wp-includes/images/smilies/icon_smile.gif" alt=":-)" class="wp-smiley" />   I will demonstrate how the automatic compilation and wrapping can be used to setup Numpy arrays with fast Hydrogen wave functions.</p>
<p>Again, it will be interesting to see how we compare with the array initialization features of numpy.  One lesson I learned while preparing my previous post is that the timing results depend heavily on the compiler.  To avoid the scaling issues we observed with the matrix-matrix product last time, I will do all examples on a computer with ifort 11.0.  The Numpy installation on that computer is version 1.1.0.  The warning applies again: I report the timing results I get on my computer, but this is not a rigorous benchmark.  Also, I may not be using Numpy in the optimal way.  If you know how I could make it run faster, I’d love hear about it.</p>
<h3>Introductory example: linspace</h3>
<p>First, lets try to create our own compiled linspace function that we can compare with numpy.linspace.  The Numpy function creates an array of evenly spaced numbers, like this:</p>
<pre class="brush: python;">In [1]: import numpy as np
In [2]: np.linspace(0, 1, 5)
Out[2]: array([ 0.  ,  0.25,  0.5 ,  0.75,  1.  ])
</pre>
<p>The same functionality can be created by autowrapping a Sympy expression that maps the array index to an interval <img src="http://l.wordpress.com/latex.php?latex=%5Ba%2C+b%5D&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="[a, b]" class="latex" title="[a, b]" /> on the real axis:</p>
<pre class="brush: python;">In [3]: from sympy.utilities.autowrap import autowrap
In [4]: a, b = symbols('a b')
In [5]: i = Idx('i', m)
In [6]: linearmap = a + (i - 1)*(a - b)/(1 - m)
In [7]: x = IndexedBase('x')
In [8]: linspace = autowrap(Eq(x[i], linearmap))
In [9]: linspace(0, 1, 5)
Out[9]: [ 0.    0.25  0.5   0.75  1.  ]
</pre>
<p>So, it worked.  The array has been initialized according to the linear map defined by the Sympy expression at In[6].  In order to map the index to the interval correctly one must remember that the index of a Fortran array starts at 1, while C arrays start at 0.  This must be be taken into account when the initialization expression is defined, so a slightly different expression must be used with the C backend.</p>
<p>Now, you may be wondering how I could know the order of the arguments in the wrapped linspace function, and why it was so conveniently compatible with the interface for numpy.linspace.  The answer, is that unless autowrap gets the optional keyword argument ‘args’, the arguments are sorted according to their string representation.  I carefully chose the symbols in the linear map so that my linspace would automatically get the same argument sequence as Numpy’s.</p>
<pre class="brush: python;">In [14]: %timeit np.linspace(0, 5, 100000)
1000 loops, best of 3: 916 µs per loop
In [15]: %timeit linspace(0, 5, 100000)
1000 loops, best of 3: 381 µs per loop
</pre>
<p>Sweet!  Evenly spaced numbers are of course very useful, but let us also try something a bit more juicy.</p>
<h3>Universal hydrogen functions</h3>
<p>One of the really useful concepts in Numpy is the “universal function” or <a href="http://www.google.no/url?sa=t&amp;source=web&amp;cd=1&amp;ved=0CBYQFjAA&amp;url=http%3A%2F%2Fdocs.scipy.org%2Fdoc%2Fnumpy%2Freference%2Fufuncs.html&amp;rct=j&amp;q=numpy%20ufunc&amp;ei=aEZgTOmQJNCHOKOaiccP&amp;usg=AFQjCNHF0afQWtFHqaaI5KQnz8bcvyzrAg&amp;cad=rja">ufunc</a>. To put it short, ufuncs operate on arrays by applying a scalar function elementwise. It is actually more than that, as numpy ufuncs are required to support type casting, broadcasting and more, but we will ignore that and focus on the following quote from the Numpy docs:</p>
<blockquote><p>That is, a ufunc is a “vectorized” wrapper for a function that takes a fixed number of scalar inputs and produces a fixed number of scalar outputs.</p></blockquote>
<p>Can we make such functions with the autowrap framework? As you can probably guess, the answer is positive, so the question is rather: can we beat Numpy on speed?  Let’s find out.</p>
<p>Very recently, Sympy got functionality to generate radial electronic <a href="http://github.com/jegerjensen/sympy/commit/fd0ed8330fc5025e422468fe9d7519b9b7052a90">wave functions for the Hydrogen atom.</a> That is, quantum mechanical solutions to the attractive Coulomb potential.  These are well known, and long since tabulated functions, that are routinely used in quantum mechanics.  Wouldn’t it be nice to have the Hydrogen wave functions available as super fast ufunc-like binary functions?</p>
<p>The failsafe way to build a fast binary function that works element-wise on an array, is to construct a symbolic Lambda function that contains the initialization expression.  The Lambda instance should then be attached to a regular Sympy Function.  This is done with a call to implemented_function(‘f’, Lambda(…)) as in the following:</p>
<pre class="brush: python;">In [2]: from sympy.utilities.lambdify import implemented_function
In [3]: from sympy.physics.hydrogen import R_nl
In [4]: a, r = symbols('a r')
In [5]: psi_nl = implemented_function('psi_nl', Lambda([a, r], R_nl(1, 0, a, r)))
In [6]: psi_nl(a, r)
Out[6]: psi_nl(a, r)
In [7]: psi_nl._imp_(a, r)
Out[7]:
             -r
       ____  --
      / 1    a
2*   /  -- *e
    /    3
  \/    a
</pre>
<p>As you would guess from Out[6], psi_nl is just a regular Sympy Function, but with an additional attribute, _imp_, that works as displayed in In[7].   The implemented_function trick <a href="http://github.com/jegerjensen/sympy/commit/72d4164b3399bcf2289432e042df8b4006ff3f92">landed in Sympy</a> just a few weeks ago.  It was intended for numeric implementations, but in my <a href="http://github.com/jegerjensen/sympy/tree/autowrap3">autowrap3 branch</a>, I (ab)use it to store a symbolic Lambda instead.</p>
<pre class="brush: python;">In [8]: x = IndexedBase('x')
In [9]: y = IndexedBase('y')
In [10]: i = Idx('i', m)
In [11]: hydrogen = autowrap(Eq(y[i], psi_nl(a, x[i])), tempdir='/tmp/hydro')
</pre>
<p>The argument ‘tempdir’ tells autowrap to compile the code in a specific directory, and leave the files intact when finished.  Checking the Fortran source code reveals that the wave function is calculated like this:</p>
<pre class="brush: plain;">do i = 1, m
   y(i) = 2*sqrt(a**(-3))*exp(-x(i)/a)
end do
</pre>
<p>The implemented function has been printed as an <em>inline</em> expression, avoiding a costly function call in the loop.  (If you wonder why I didn’t just print the expression directly, the explanation is <a href="http://github.com/jegerjensen/sympy/commit/9431840359486e37c5feeedfd1e885b91f60af1c">here</a>.)  Now that we have the functions available, this is how they look:</p>
<div style="width: 460px;" id="attachment_348" class="wp-caption aligncenter"><a href="http://ojensen.files.wordpress.com/2010/08/hydrogen_functions.png"><img src="http://ojensen.files.wordpress.com/2010/08/hydrogen_functions.png?w=450&amp;h=294" title="hydrogen_functions" height="294" width="450" alt="Plot of radial hydrogen wavefunctions" class="size-medium wp-image-348 " /></a><p class="wp-caption-text">Some of the Hydrogen wave functions plotted vs. the radial distance from the nucleus.</p></div>
<p>The parameters <img src="http://l.wordpress.com/latex.php?latex=n&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="n" class="latex" title="n" /> and <img src="http://l.wordpress.com/latex.php?latex=l&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="l" class="latex" title="l" /> are quantum numbers related to the electron’s energy and orbital angular momentum respectively.</p>
<p>The autowrapped Hydrogen functions can also be compared with numpy equivalents, as all waves are expressed in terms of functions that are universal in numpy.  We use Sympy’s ‘lambdify’ to create a Python lambda function that calls the relevant ufuncs from numpy’s namespace:</p>
<pre class="brush: python;">In [31]: from sympy.utilities.lambdify import lambdify
In [32]: psi_lambda = lambdify([a, r], R_nl(1, 0, a, r), 'numpy')
In [33]: grid = np.linspace(0,3,100)
In [34]: np.linalg.norm(psi_lambda(0.5, grid) - hydrogen(0.5, grid))
Out[34]: 2.21416777433e-15
</pre>
<p>But there are many solutions to the Hydrogen atom, so let’s study them a bit more systematically.  The following is the output from a loop over the energy quantum number <img src="http://l.wordpress.com/latex.php?latex=n&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="n" class="latex" title="n" />.  I used only the s-wave functions <img src="http://l.wordpress.com/latex.php?latex=l%3D0&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="l=0" class="latex" title="l=0" />, corresponding to an electron that moves straight through the nucleus and out on the other side before turning back again to repeat the cycle.  For each <img src="http://l.wordpress.com/latex.php?latex=n&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="n" class="latex" title="n" />, I calculated:</p>
<ul>
<li>%timeit for application of lambda function with Numpy ufuncs</li>
<li>%timeit for application of the compiled and wrapped Sympy function</li>
<li>the absolute difference between the solutions: <img src="http://l.wordpress.com/latex.php?latex=sum%28abs%28+%5Cpsi_%7Bnumpy%7D+-+%5Cpsi_%7Bsympy%7D%29%29&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="sum(abs( \psi_{numpy} - \psi_{sympy}))" class="latex" title="sum(abs( \psi_{numpy} - \psi_{sympy}))" /></li>
</ul>
<p>Here is the output:</p>
<pre class="brush: python;">n = 1
Numpy: 100000 loops, best of 3: 16.8 µs per loop
Sympy: 1000000 loops, best of 3: 1.92 µs per loop
difference: 1.07708980623e-14
n = 2
Numpy: 10000 loops, best of 3: 30 µs per loop
Sympy: 1000000 loops, best of 3: 2 µs per loop
difference: 5.13651621237e-15
n = 3
Numpy: 10000 loops, best of 3: 48.1 µs per loop
Sympy: 100000 loops, best of 3: 3.37 µs per loop
difference: 2.28896762655e-15
n = 4
Numpy: 10000 loops, best of 3: 70.9 µs per loop
Sympy: 100000 loops, best of 3: 2.7 µs per loop
difference: 6.18114500556e-15
n = 5
Numpy: 10000 loops, best of 3: 116 µs per loop
Sympy: 100000 loops, best of 3: 4.61 µs per loop
difference: 5.68967616077e-15
n = 6
Numpy: 10000 loops, best of 3: 142 µs per loop
Sympy: 100000 loops, best of 3: 5.02 µs per loop
difference: 1.21523884705e-14
n = 7
Numpy: 10000 loops, best of 3: 183 µs per loop
Sympy: 100000 loops, best of 3: 5.95 µs per loop
difference: 1.04406500806e-14
</pre>
<p>Awesome! For <img src="http://l.wordpress.com/latex.php?latex=n%3D7&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="n=7" class="latex" title="n=7" /> we beat Numpy by a factor of 30. <img src="http://s2.wp.com/wp-includes/images/smilies/icon_smile.gif" alt=":-)" class="wp-smiley" />   But the really interesting thing here is the <em>scaling</em> with expression complexity.  Look at this:</p>
<p style="text-align: center;">
</p><div style="width: 460px;" id="attachment_354" class="wp-caption aligncenter"><a href="http://ojensen.files.wordpress.com/2010/08/time_numpy_sympy.png"><img src="http://ojensen.files.wordpress.com/2010/08/time_numpy_sympy.png?w=450" title="Scaling of execution time for Numpy and Sympy" height="343.5" width="450" alt="Execution time scaling for increasing expression complexity, Numpy and Sympy" class="size-medium wp-image-354 " /></a><p class="wp-caption-text">Normalized execution time for Numpy and Sympy.  As n increases, the complexity of the  wave function expression increases, leading to the slowdown.  The values of each curve are normalized against the corresponding n=1 calculation.</p></div>
<p>For higher <img src="http://l.wordpress.com/latex.php?latex=n&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="n" class="latex" title="n" /> the wave function expressions increase in complexity, and so does the execution time of both Numpy and Sympy.  However, while the autowrapped Sympy expression needs 3 times longer for <img src="http://l.wordpress.com/latex.php?latex=n+%3D+7&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="n = 7" class="latex" title="n = 7" /> than for <img src="http://l.wordpress.com/latex.php?latex=n+%3D+1&amp;bg=ffffff&amp;fg=000&amp;s=0" alt="n = 1" class="latex" title="n = 1" />, the execution time for a lambda of native Numpy ufuncs increases tenfold!</p>
<div style="width: 460px;" id="attachment_346" class="wp-caption aligncenter"><a href="http://ojensen.files.wordpress.com/2010/08/numpy_sympy.png"><img src="http://ojensen.files.wordpress.com/2010/08/numpy_sympy.png?w=450" title="numpy_sympy" height="343.5" width="450" alt="Plot of Numpy vs. Sympy execution time" class="size-medium wp-image-346 " /></a><p class="wp-caption-text">Numpy execution time vs. Sympy.  The mostly linear relation means that Numpy and Sympy have similar dependence on the complexity of the expression, although the scaling factors are quite different.</p></div>
<p>This last figure shows the linear relation between execution times of the compiled Sympy expressions and native Numpy lambda function.   The plot supports the idea that the it is the inherent complexity of the mathematical expression that determines the execution time.  By extrapolation, we can expect that for an expression that would take Sympy 9 times longer, Numpy would be hit by a factor of 100.</p>
<p>The main reason for the speedup, is that while Numpy calculates the wave function by applying a series of ufuncs, the Sympy way is to create a new “ufunc” and apply it once.  It would be very cool to try this in an iterative solution scheme. With a super fast ufunc in a single python loop, one could do complex and cpu-intensive calculations with respectable performance from within isympy.  That would be awesome!</p>
<br />  <a href="http://feeds.wordpress.com/1.0/gocomments/ojensen.wordpress.com/250/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/ojensen.wordpress.com/250/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godelicious/ojensen.wordpress.com/250/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/delicious/ojensen.wordpress.com/250/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gofacebook/ojensen.wordpress.com/250/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/facebook/ojensen.wordpress.com/250/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gotwitter/ojensen.wordpress.com/250/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/twitter/ojensen.wordpress.com/250/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gostumble/ojensen.wordpress.com/250/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/stumble/ojensen.wordpress.com/250/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godigg/ojensen.wordpress.com/250/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/digg/ojensen.wordpress.com/250/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/goreddit/ojensen.wordpress.com/250/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/reddit/ojensen.wordpress.com/250/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=ojensen.wordpress.com&amp;blog=13891021&amp;post=250&amp;subd=ojensen&amp;ref=&amp;feed=1" alt="" height="1" border="0" width="1" /></div>







<p class="date">
<a href="http://ojensen.wordpress.com/2010/08/10/fast-ufunc-ish-hydrogen-solutions/">by jegerjensen at August 10, 2010 10:14 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>August 08, 2010</h2>

<div class="channelgroup">







<h3><a href="http://ojensen.wordpress.com" title="Jensen's Sympy Blog">Øyvind Jensen</a></h3>


<div class="entrygroup" id="http://ojensen.wordpress.com/?p=219">
<h4 lang="en"><a href="http://ojensen.wordpress.com/2010/08/08/good-news-everyone/">Good news, everyone!</a></h4>
<div class="entry">
<div class="content" lang="en">
<p>This week has been hectic, but also very fruitful.  I have the functionality I set out for, it works and it is fast!  It still needs testing, polish and bug-fixing and is by no means finished, but it is now possible to define indexed math-expressions, translate to code, compile it, wrap it as a python module and import it again for fast numerical calculations.  All of this can be done without leaving the isympy command interpreter.</p>
<p>I’ve been hacking on the automatic wrapping of binary routines, refactored the code printers, implemented handling of indexed powers, enabled scalar broadcasting and <a href="http://docs.scipy.org/doc/numpy/reference/ufuncs.html">ufunc</a>-ish  support for arbitrary compiled functions.   For next week I will focus on physics inspired examples, testing of binary code and improving the documentation.  But first, it is time for a little demonstration.</p>
<p>The latest code is <a href="http://github.com/jegerjensen/sympy/tree/autowrap3">here</a>, if you want to try for yourself.   There are parts that don’t not work properly, for instance the  Cython wrapper cannot handle numpy arrays yet, but as you will see below there are enough working parts that you can do some fancy stuff.</p>
<h3>The trace of a Matrix — faster that numpy!</h3>
<p>In an earlier blog post, I showed you that the C printer is able to print the necessary loops to implement summations over array indices.  The Fortran printer has also this functionality now, so it can be used with f2py.  Let’s start with a simple function to calculate numerically the trace of a matrix while running isympy:</p>
<pre>In [1]: from sympy.utilities.autowrap import autowrap
In [2]: m, n = symbols('m n', integer=True)
In [3]: i = Idx('i', m)
In [4]: j = Idx('j', n)
In [5]: A = IndexedBase('A')
In [6]: trace = autowrap(A[i, i])</pre>
<p>That’s it.  Now lets have a look at the function we created,</p>
<pre>In [7]: trace?
Type:        fortran
String Form:    &lt;fortran object at 0xa93bea8&gt;
Namespace:    Interactive
Docstring:
 autofunc - Function signature:
 autofunc = autofunc(a,[m])
 Required arguments:
 a : input rank-2 array('d') with bounds (m,m)
 Optional arguments:
 m := shape(a,0) input int
 Return objects:
 autofunc : float</pre>
<p>This informative docstring is created by f2py, and only slightly distorted by the blogging software.  It tells us everything we need to know.  Let’s try this function on a numpy array:</p>
<pre>In [8]: import numpy as np
In [9]: I = np.asarray(np.eye(1000), order='F')
In [10]: trace(I)
Out[10]: 1000.0
In [11]: timeit trace(I)
10000 loops, best of 3: 30.3 us per loop
In [12]: np.trace(I)
Out[12]: 1000.0
In [13]: timeit np.trace(I)
1000 loops, best of 3: 230 us per loop</pre>
<p>First of all, please notice the parameter “order=’F'” passed to the numpy array.  This ensures that the array is created with column-major memory order which is the Fortran format.  Without that, the array is created with row-major order, and our Fortran function would run much, much slower.</p>
<p>Now to the fun part: Did you notice the speedup?  The Sympy generated function is almost a factor of 8 faster that numpy!  This is great, and I think I can be really happy about this result.  But it is also time for a little warning: Please don’t take these numbers as some sort of absolute truth.  For all I know I may be comparing apples and oranges.</p>
<p>In fact, the numbers I present are probably more relevant for a comparison of  compilers and optimization flags.  But, whatever the reason for the  speedups, faster python callable functions is no doubt a good thing.   For the record: I am running this on a little Acer Aspire One using numpy 1.3.0 shipped with Ubuntu 10.04.  The autowrapped binaries are compiled with Ubuntu’s gfortran 4.4.3.</p>
<h3>Matrix-Matrix product</h3>
<p>Now lets look at a more expensive array operation.  Whereas the trace of an m*m matrix has a cost of order O(m), the product of two m*m matrices scales like O(m^3).  First we need to express a matrix-matrix product in terms of Indexed Sympy objects and create the binary function.</p>
<pre>In [14]: B = IndexedBase('B')
In [15]: C = IndexedBase('C')
In [16]: o = symbols('o', integer=True)
In [17]: k = Idx('k', o)
In [18]: expr_mat_mat = Eq(C[i, j], A[i, k]*B[k, j]); expr_mat_mat
Out[18]: C[i, j] = A[i, k]⋅B[k, j]</pre>
<p>The matrix-matrix product displayed at Out[18] is defined in terms of an Equality instance.  This is a handy way to provide the code printers with both an expression and the variable it should be assigned to.  For indexed expressions it is important that the indices on left hand side and right hand side are compatible.  (Compatible means usually that the set of non-dummy indices must be identical, but with the exception that the right hand side can be scalar.)  For the binary function, we get:</p>
<pre>In [19]: matmat = autowrap(expr_mat_mat)
In [20]: matmat?
Type:        fortran
String Form:    &lt;fortran object at 0x8f35290&gt;
Namespace:    Interactive
Docstring:
 autofunc - Function signature:
 c = autofunc(a,b,[m,n,o])
 Required arguments:
 a : input rank-2 array('d') with bounds (m,o)
 b : input rank-2 array('d') with bounds (o,n)
 Optional arguments:
 m := shape(a,0) input int
 n := shape(b,1) input int
 o := shape(a,1) input int
 Return objects:
 c : rank-2 array('d') with bounds (m,n)</pre>
<p>Now let’s test it with a QR factorization on some numpy arrays:</p>
<pre>In [21]: M = np.asarray(np.random.rand(100, 100), order='F')
In [22]: Q, R = np.linalg.qr(M)
In [23]: M_np = np.dot(Q, R)
In [24]: M_my = matmat(Q, R)
In [25]: np.linalg.norm(M_my - M_np)
Out[25]: 1.7522660836e-14</pre>
<p>Here is the timing:</p>
<pre>In [26]: %timeit M_np = np.dot(Q, R)
100 loops, best of 3: 10.9 ms per loop
In [27]: %timeit M_my = matmat(Q, R)
100 loops, best of 3: 6.11 ms per loop</pre>
<p>This looks impressive! But, I also found that numpy has a much better scaling than what I get from autowrap on this computer:</p>
<pre>In [53]: M = np.asarray(np.random.rand(400, 400), order='F')
In [54]: Q, R = np.linalg.qr(M)
In [55]: %timeit M_np = np.dot(Q, R)
1 loops, best of 3: 687 ms per loop
In [56]: %timeit M_my = matmat(Q, R)
1 loops, best of 3: 1.65 s per loop</pre>
<p>I believe that this bad scaling must be an issue with gfortran, or rather an issue with how I use it.  The theoretical scaling of O(m^3) correspond to a factor of 64, and while numpy follows theory quite closely, (687/10.9=63.0) the autowrapped function misses by far. (1650/6.11=270) .  On another computer, I tested the same calculations with Intels ifort compiler and got much better results that were consistently better than numpy and had the expected scaling.</p>
<p>I have more things I want to show, but this blog post is becoming rather long, so stay tuned for more exciting new functionality in the coming days.</p>
<br />  <a href="http://feeds.wordpress.com/1.0/gocomments/ojensen.wordpress.com/219/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/ojensen.wordpress.com/219/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godelicious/ojensen.wordpress.com/219/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/delicious/ojensen.wordpress.com/219/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gofacebook/ojensen.wordpress.com/219/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/facebook/ojensen.wordpress.com/219/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gotwitter/ojensen.wordpress.com/219/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/twitter/ojensen.wordpress.com/219/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/gostumble/ojensen.wordpress.com/219/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/stumble/ojensen.wordpress.com/219/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/godigg/ojensen.wordpress.com/219/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/digg/ojensen.wordpress.com/219/" alt="" border="0" /></a> <a href="http://feeds.wordpress.com/1.0/goreddit/ojensen.wordpress.com/219/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/reddit/ojensen.wordpress.com/219/" alt="" border="0" /></a> <img src="http://stats.wordpress.com/b.gif?host=ojensen.wordpress.com&amp;blog=13891021&amp;post=219&amp;subd=ojensen&amp;ref=&amp;feed=1" alt="" height="1" border="0" width="1" /></div>







<p class="date">
<a href="http://ojensen.wordpress.com/2010/08/08/good-news-everyone/">by jegerjensen at August 08, 2010 02:33 PM</a>
</p>
</div>
</div>


</div>

</div>


<div class="sidebar">
<img src="images/sympy-100px.png" width="100" height="84" alt="">

<h2>Subscriptions</h2>
<ul>
<li>
<a href="http://asmeurersympy.wordpress.com/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://asmeurersympy.wordpress.com" title="Aaron Meurer's SymPy Blog">Aaron Meurer</a>
</li>
<li>
<a href="http://addisoncugini.blogspot.com/feeds/posts/default" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://addisoncugini.blogspot.com/" title="Addison's Blog Page">Addison Cugini</a>
</li>
<li>
<a href="http://straightupcoding.blogspot.com/feeds/posts/default/-/SymPy" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://straightupcoding.blogspot.com/search/label/SymPy" title="Straight Up Coding">Brian Jorgensen</a>
</li>
<li>
<a href="http://lasympy.blogspot.com/feeds/posts/default" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://lasympy.blogspot.com/" title="lasympy">Chris Wu</a>
</li>
<li>
<a href="http://haz-tech.blogspot.com/feeds/posts/default/-/sympy" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://haz-tech.blogspot.com/search/label/sympy" title="Tech Talk">Christian Muise</a>
</li>
<li>
<a href="http://dlpeterson.com/blog/?feed=rss2" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://dlpeterson.com/blog" title="Dale Peterson">Dale Peterson</a>
</li>
<li>
<a href="http://dsympy.blogspot.com/feeds/posts/default" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://dsympy.blogspot.com/" title="Django-sympy">Django-SymPy</a>
</li>
<li>
<a href="http://fseoane.net/blog/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://fseoane.net/blog" title="F. Pedregosa">Fabian Pedregosa</a>
</li>
<li>
<a href="http://gsoc-mathtex.blogspot.com/feeds/posts/default" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://gsoc-mathtex.blogspot.com/" title="GSoC Mathtex">Freddie Witherden</a>
</li>
<li>
<a href="http://fredrik-j.blogspot.com/feeds/posts/default/-/sympy" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://fredrik-j.blogspot.com/search/label/sympy" title="Fredrik Johansson">Fredrik Johansson</a>
</li>
<li>
<a href="http://gilbertgede.wordpress.com/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://gilbertgede.wordpress.com" title="gilbertgede">Gilbert Gede</a>
</li>
<li>
<a href="http://f1728.wordpress.com/category/SymPy/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://f1728.wordpress.com" title="f1728 » SymPy">Jeremias Yehdegho</a>
</li>
<li>
<a href="http://sympy-patterns.blogspot.com/feeds/posts/default" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://sympy-patterns.blogspot.com/" title="Pattern matching and simplification in SymPy">Kazuo Thow</a>
</li>
<li>
<a href="http://mattjcurry.blogspot.com/feeds/posts/default" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://mattjcurry.blogspot.com/" title="Matt's Blog">Matthew Curry</a>
</li>
<li>
<a href="http://sympystats.wordpress.com/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://sympystats.wordpress.com" title="sympy-stats">Matthew Rocklin</a>
</li>
<li>
<a href="http://sympy.blogspot.com/feeds/posts/default" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://sympy.blogspot.com/" title="Official SymPy blog">Official SymPy blog</a>
</li>
<li>
<a href="http://ondrejcertik.blogspot.com/feeds/posts/default/-/sympy" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://ondrejcertik.blogspot.com/search/label/sympy" title="Ondřej Čertík">Ond&#345;ej &#268;ert&iacute;k</a>
</li>
<li>
<a href="http://seanvig.blogspot.com/feeds/posts/default/-/sympy" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://seanvig.blogspot.com/search/label/sympy" title="Sean Vig's 2011 GSoC Project">Sean Vig</a>
</li>
<li>
<a href="http://sherjilozair.wordpress.com/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://sherjilozair.wordpress.com" title="Sherjil Ozair">Sherjil Ozair</a>
</li>
<li>
<a href="http://nessgrh.wordpress.com/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://nessgrh.wordpress.com" title="nessgrh">Tom Bachmann</a>
</li>
<li>
<a href="http://lazovichsympy.wordpress.com/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://lazovichsympy.wordpress.com" title="Tomo Lazovich's SymPy Blog">Tomo Lazovich</a>
</li>
<li>
<a href="http://www.vperic.blogspot.com/feeds/posts/default/-/SymPy" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://vperic.blogspot.com/search/label/SymPy" title="Vlada's Blog">Vladimir Peric</a>
</li>
<li>
<a href="http://ojensen.wordpress.com/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://ojensen.wordpress.com" title="Jensen's Sympy Blog">Øyvind Jensen</a>
</li>
</ul>

<p>
<strong>Last updated:</strong><br>
May 24, 2011 01:40 PM<br>
<em>All times are UTC.</em><br>
<br>
Powered by:<br>
<a href="http://www.planetplanet.org/"><img src="images/planet.png" width="80" height="15" alt="Planet" border="0"></a>
</p>

<p>
<h2>Planetarium:</h2>
<ul>
<li><a href="http://planet.scipy.org/">Planet SciPy</a></li>
<li><a href="http://planet.python.org/">Planet Python</a></li>
<li><a href="http://planet.sagemath.org/">Planet Sage</a></li>
</ul>
</p>
</div>
</body>

</html>
